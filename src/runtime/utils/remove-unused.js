import e from"fs";import t from"url";import s from"path";import r from"fs/promises";import i from"events";import n from"stream";import o from"string_decoder";import a from"util";var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l={},u={},p={},d=f;function f(e,t,s){e instanceof RegExp&&(e=T(e,s)),t instanceof RegExp&&(t=T(t,s));var r=E(e,t,s);return r&&{start:r[0],end:r[1],pre:s.slice(0,r[0]),body:s.slice(r[0]+e.length,r[1]),post:s.slice(r[1]+t.length)}}function T(e,t){var s=t.match(e);return s?s[0]:null}function E(e,t,s){var r,i,n,o,a,c=s.indexOf(e),h=s.indexOf(t,c+1),l=c;if(c>=0&&h>0){if(e===t)return[c,h];for(r=[],n=s.length;l>=0&&!a;)l==c?(r.push(l),c=s.indexOf(e,l+1)):1==r.length?a=[r.pop(),h]:((i=r.pop())<n&&(n=i,o=h),h=s.indexOf(t,l+1)),l=c<h&&c>=0?c:h;r.length&&(a=[n,o])}return a}f.range=E;var m=d,_=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return v(function(e){return e.split("\\\\").join(A).split("\\{").join(g).split("\\}").join(S).split("\\,").join(I).split("\\.").join(D)}(e),!0).map(C)},A="\0SLASH"+Math.random()+"\0",g="\0OPEN"+Math.random()+"\0",S="\0CLOSE"+Math.random()+"\0",I="\0COMMA"+Math.random()+"\0",D="\0PERIOD"+Math.random()+"\0";function O(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function C(e){return e.split(A).join("\\").split(g).join("{").split(S).join("}").split(I).join(",").split(D).join(".")}function N(e){if(!e)return[""];var t=[],s=m("{","}",e);if(!s)return e.split(",");var r=s.pre,i=s.body,n=s.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=N(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function y(e){return"{"+e+"}"}function b(e){return/^-?0\d/.test(e)}function R(e,t){return e<=t}function P(e,t){return e>=t}function v(e,t){var s=[],r=m("{","}",e);if(!r)return[e];var i=r.pre,n=r.post.length?v(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<n.length;o++){var a=i+"{"+r.body+"}"+n[o];s.push(a)}else{var c,h,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),p=l||u,d=r.body.indexOf(",")>=0;if(!p&&!d)return r.post.match(/,.*\}/)?v(e=r.pre+"{"+r.body+S+r.post):[e];if(p)c=r.body.split(/\.\./);else if(1===(c=N(r.body)).length&&1===(c=v(c[0],!1).map(y)).length)return n.map((function(e){return r.pre+c[0]+e}));if(p){var f=O(c[0]),T=O(c[1]),E=Math.max(c[0].length,c[1].length),_=3==c.length?Math.abs(O(c[2])):1,A=R;T<f&&(_*=-1,A=P);var g=c.some(b);h=[];for(var I=f;A(I,T);I+=_){var D;if(u)"\\"===(D=String.fromCharCode(I))&&(D="");else if(D=String(I),g){var C=E-D.length;if(C>0){var k=new Array(C+1).join("0");D=I<0?"-"+k+D.slice(1):k+D}}h.push(D)}}else{h=[];for(var w=0;w<c.length;w++)h.push.apply(h,v(c[w],!1))}for(w=0;w<h.length;w++)for(o=0;o<n.length;o++){a=i+h[w]+n[o];(!t||p||a)&&s.push(a)}}return s}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.assertValidPattern=void 0;k.assertValidPattern=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};var w={},L={};Object.defineProperty(L,"__esModule",{value:!0}),L.parseClass=void 0;const M={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},G=e=>e.replace(/[[\]\\-]/g,"\\$&"),x=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),F=e=>e.join("");L.parseClass=(e,t)=>{const s=t;if("["!==e.charAt(s))throw new Error("not in a brace expression");const r=[],i=[];let n=s+1,o=!1,a=!1,c=!1,h=!1,l=s,u="";e:for(;n<e.length;){const t=e.charAt(n);if("!"!==t&&"^"!==t||n!==s+1){if("]"===t&&o&&!c){l=n+1;break}if(o=!0,"\\"!==t||c){if("["===t&&!c)for(const[t,[o,c,h]]of Object.entries(M))if(e.startsWith(t,n)){if(u)return["$.",!1,e.length-s,!0];n+=t.length,h?i.push(o):r.push(o),a=a||c;continue e}c=!1,u?(t>u?r.push(G(u)+"-"+G(t)):t===u&&r.push(G(t)),u="",n++):e.startsWith("-]",n+1)?(r.push(G(t+"-")),n+=2):e.startsWith("-",n+1)?(u=t,n+=2):(r.push(G(t)),n++)}else c=!0,n++}else h=!0,n++}if(l<n)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-s,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!h){const e=2===r[0].length?r[0].slice(-1):r[0];return[x(e),!1,l-s,!1]}const p="["+(h?"^":"")+F(r)+"]",d="["+(h?"":"^")+F(i)+"]";return[r.length&&i.length?"("+p+"|"+d+")":r.length?p:d,a,l-s,!0]};var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.unescape=void 0;B.unescape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(w,"__esModule",{value:!0}),w.AST=void 0;const U=L,H=B,j=new Set(["!","?","+","*","@"]),Y=e=>j.has(e),W="(?!\\.)",z=new Set(["[","."]),q=new Set(["..","."]),Q=new Set("().*{}+?[]^$\\!"),V=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),K="[^/]",X=K+"*?",$=K+"+?";class J{type;#e;#t;#s=!1;#r=[];#i;#n;#o;#a=!1;#c;#h;#l=!1;constructor(e,t,s={}){this.type=e,e&&(this.#t=!0),this.#i=t,this.#e=this.#i?this.#i.#e:this,this.#c=this.#e===this?s:this.#e.#c,this.#o=this.#e===this?[]:this.#e.#o,"!"!==e||this.#e.#a||this.#o.push(this),this.#n=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(const e of this.#r)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#h?this.#h:this.type?this.#h=this.type+"("+this.#r.map((e=>String(e))).join("|")+")":this.#h=this.#r.map((e=>String(e))).join("")}#u(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#o.pop();){if("!"!==e.type)continue;let t=e,s=t.#i;for(;s;){for(let r=t.#n+1;!s.type&&r<s.#r.length;r++)for(const t of e.#r){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(s.#r[r])}t=s,s=t.#i}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof J&&t.#i===this))throw new Error("invalid part: "+t);this.#r.push(t)}}toJSON(){const e=null===this.type?this.#r.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#r.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&"!"===this.#i?.type)&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#n)return!0;const e=this.#i;for(let t=0;t<this.#n;t++){const s=e.#r[t];if(!(s instanceof J&&"!"===s.type))return!1}return!0}isEnd(){if(this.#e===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const e=this.#i?this.#i.#r.length:0;return this.#n===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new J(this.type,e);for(const e of this.#r)t.copyIn(e);return t}static#p(e,t,s,r){let i=!1,n=!1,o=-1,a=!1;if(null===t.type){let c=s,h="";for(;c<e.length;){const s=e.charAt(c++);if(i||"\\"===s)i=!i,h+=s;else if(n)c===o+1?"^"!==s&&"!"!==s||(a=!0):"]"!==s||c===o+2&&a||(n=!1),h+=s;else if("["!==s)if(r.noext||!Y(s)||"("!==e.charAt(c))h+=s;else{t.push(h),h="";const i=new J(s,t);c=J.#p(e,i,c,r),t.push(i)}else n=!0,o=c,a=!1,h+=s}return t.push(h),c}let c=s+1,h=new J(null,t);const l=[];let u="";for(;c<e.length;){const s=e.charAt(c++);if(i||"\\"===s)i=!i,u+=s;else if(n)c===o+1?"^"!==s&&"!"!==s||(a=!0):"]"!==s||c===o+2&&a||(n=!1),u+=s;else if("["!==s)if(Y(s)&&"("===e.charAt(c)){h.push(u),u="";const t=new J(s,h);h.push(t),c=J.#p(e,t,c,r)}else if("|"!==s){if(")"===s)return""===u&&0===t.#r.length&&(t.#l=!0),h.push(u),u="",t.push(...l,h),c;u+=s}else h.push(u),u="",l.push(h),h=new J(null,t);else n=!0,o=c,a=!1,u+=s}return t.type=null,t.#t=void 0,t.#r=[e.substring(s-1)],c}static fromGlob(e,t={}){const s=new J(null,void 0,t);return J.#p(e,s,0,t),s}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const e=this.toString(),[t,s,r,i]=this.toRegExpSource();if(!(r||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return s;const n=(this.#c.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,n),{_src:t,_glob:e})}get options(){return this.#c}toRegExpSource(e){const t=e??!!this.#c.dot;if(this.#e===this&&this.#u(),!this.type){const s=this.isStart()&&this.isEnd(),r=this.#r.map((t=>{const[r,i,n,o]="string"==typeof t?J.#d(t,this.#t,s):t.toRegExpSource(e);return this.#t=this.#t||n,this.#s=this.#s||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]){if(!(1===this.#r.length&&q.has(this.#r[0]))){const s=z,n=t&&s.has(r.charAt(0))||r.startsWith("\\.")&&s.has(r.charAt(2))||r.startsWith("\\.\\.")&&s.has(r.charAt(4)),o=!t&&!e&&s.has(r.charAt(0));i=n?"(?!(?:^|/)\\.\\.?(?:$|/))":o?W:""}}let n="";this.isEnd()&&this.#e.#a&&"!"===this.#i?.type&&(n="(?:$|\\/)");return[i+r+n,(0,H.unescape)(r),this.#t=!!this.#t,this.#s]}const s="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#f(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#r=[e],this.type=null,this.#t=void 0,[e,(0,H.unescape)(this.toString()),!1,!1]}let n=!s||e||t?"":this.#f(!0);n===i&&(n=""),n&&(i=`(?:${i})(?:${n})*?`);let o="";if("!"===this.type&&this.#l)o=(this.isStart()&&!t?W:"")+$;else{o=r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":W)+X+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&n?")":"*"===this.type&&n?")?":`)${this.type}`)}return[o,(0,H.unescape)(i),this.#t=!!this.#t,this.#s]}#f(e){return this.#r.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[s,r,i,n]=t.toRegExpSource(e);return this.#s=this.#s||n,s})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#d(e,t,s=!1){let r=!1,i="",n=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(r)r=!1,i+=(Q.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[s,r,a,c]=(0,U.parseClass)(e,o);if(a){i+=s,n=n||r,o+=a-1,t=t||c;continue}}"*"!==a?"?"!==a?i+=V(a):(i+=K,t=!0):(i+=s&&"*"===e?$:X,t=!0)}else o===e.length-1?i+="\\\\":r=!0}return[i,(0,H.unescape)(e),!!t,n]}}w.AST=J;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.escape=void 0;Z.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),function(e){var t=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;const s=t(_),r=k,i=w,n=Z,o=B;e.minimatch=(e,t,s={})=>((0,r.assertValidPattern)(t),!(!s.nocomment&&"#"===t.charAt(0))&&new G(t,s).match(e));const a=/^\*+([^+@!?\*\[\(]*)$/,h=e=>t=>!t.startsWith(".")&&t.endsWith(e),l=e=>t=>t.endsWith(e),u=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),p=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),d=/^\*+\.\*+$/,f=e=>!e.startsWith(".")&&e.includes("."),T=e=>"."!==e&&".."!==e&&e.includes("."),E=/^\.\*+$/,m=e=>"."!==e&&".."!==e&&e.startsWith("."),A=/^\*+$/,g=e=>0!==e.length&&!e.startsWith("."),S=e=>0!==e.length&&"."!==e&&".."!==e,I=/^\?+([^+@!?\*\[\(]*)?$/,D=([e,t=""])=>{const s=y([e]);return t?(t=t.toLowerCase(),e=>s(e)&&e.toLowerCase().endsWith(t)):s},O=([e,t=""])=>{const s=b([e]);return t?(t=t.toLowerCase(),e=>s(e)&&e.toLowerCase().endsWith(t)):s},C=([e,t=""])=>{const s=b([e]);return t?e=>s(e)&&e.endsWith(t):s},N=([e,t=""])=>{const s=y([e]);return t?e=>s(e)&&e.endsWith(t):s},y=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},b=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},R="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",P={sep:"\\"},v={sep:"/"};e.sep="win32"===R?P.sep:v.sep,e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR;e.filter=(t,s={})=>r=>(0,e.minimatch)(r,t,s),e.minimatch.filter=e.filter;const L=(e,t={})=>Object.assign({},e,t);e.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return e.minimatch;const s=e.minimatch;return Object.assign(((e,r,i={})=>s(e,r,L(t,i))),{Minimatch:class extends s.Minimatch{constructor(e,s={}){super(e,L(t,s))}static defaults(e){return s.defaults(L(t,e)).Minimatch}},AST:class extends s.AST{constructor(e,s,r={}){super(e,s,L(t,r))}static fromGlob(e,r={}){return s.AST.fromGlob(e,L(t,r))}},unescape:(e,r={})=>s.unescape(e,L(t,r)),escape:(e,r={})=>s.escape(e,L(t,r)),filter:(e,r={})=>s.filter(e,L(t,r)),defaults:e=>s.defaults(L(t,e)),makeRe:(e,r={})=>s.makeRe(e,L(t,r)),braceExpand:(e,r={})=>s.braceExpand(e,L(t,r)),match:(e,r,i={})=>s.match(e,r,L(t,i)),sep:s.sep,GLOBSTAR:e.GLOBSTAR})},e.minimatch.defaults=e.defaults;e.braceExpand=(e,t={})=>((0,r.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,s.default)(e)),e.minimatch.braceExpand=e.braceExpand;e.makeRe=(e,t={})=>new G(e,t).makeRe(),e.minimatch.makeRe=e.makeRe;e.match=(e,t,s={})=>{const r=new G(t,s);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e},e.minimatch.match=e.match;const M=/[?*]|[+@!]\(.*?\)|\[|\]/;class G{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,r.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||R,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const s=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,s)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&M.test(e[2])||M.test(e[3])),s=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(s)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let s=0;s<e[t].length;s++)"**"===e[t][s]&&(e[t][s]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let s=t;for(;"**"===e[s+1];)s++;s!==t&&e.splice(t,s-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const s=e[e.length-1];return"**"===t&&"**"===s?e:".."===t&&s&&".."!==s&&"."!==s&&"**"!==s?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const r=e[s];1===s&&""===r&&""===e[0]||("."!==r&&""!==r||(t=!0,e.splice(s,1),s--))}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let s=0;for(;-1!==(s=e.indexOf("..",s+1));){const r=e[s-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(s-1,2),s-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let s of e){let r=-1;for(;-1!==(r=s.indexOf("**",r+1));){let i=r;for(;"**"===s[i+1];)i++;i>r&&s.splice(r+1,i-r);let n=s[r+1];const o=s[r+2],a=s[r+3];if(".."!==n)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,s.splice(r,1);const c=s.slice(0);c[r]="**",e.push(c),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<s.length-1;e++){const r=s[e];1===e&&""===r&&""===s[0]||("."!==r&&""!==r||(t=!0,s.splice(e,1),e--))}"."!==s[0]||2!==s.length||"."!==s[1]&&""!==s[1]||(t=!0,s.pop())}let i=0;for(;-1!==(i=s.indexOf("..",i+1));){const e=s[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===s[i+1]?["."]:[];s.splice(i-1,2,...e),0===s.length&&s.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let s=t+1;s<e.length;s++){const r=this.partsMatch(e[t],e[s],!this.preserveMultipleSlashes);if(r){e[t]=[],e[s]=r;break}}return e.filter((e=>e.length))}partsMatch(e,t,s=!1){let r=0,i=0,n=[],o="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])n.push("b"===o?t[i]:e[r]),r++,i++;else if(s&&"**"===e[r]&&t[i]===e[r+1])n.push(e[r]),r++;else if(s&&"**"===t[i]&&e[r]===t[i+1])n.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===o)return!1;o="b",n.push(t[i]),r++,i++}else{if("b"===o)return!1;o="a",n.push(e[r]),r++,i++}return e.length===t.length&&n}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,s=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,s++;s&&(this.pattern=e.slice(s)),this.negate=t}matchOne(t,s,r=!1){const i=this.options;if(this.isWindows){const e="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!e&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),i="string"==typeof s[0]&&/^[a-z]:$/i.test(s[0]),n=r?3:e?0:void 0,o=!i&&""===s[0]&&""===s[1]&&"?"===s[2]&&"string"==typeof s[3]&&/^[a-z]:$/i.test(s[3])?3:i?0:void 0;if("number"==typeof n&&"number"==typeof o){const[e,r]=[t[n],s[o]];e.toLowerCase()===r.toLowerCase()&&(s[o]=e,o>n?s=s.slice(o):n>o&&(t=t.slice(n)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:s}),this.debug("matchOne",t.length,s.length);for(var o=0,a=0,c=t.length,h=s.length;o<c&&a<h;o++,a++){this.debug("matchOne loop");var l=s[a],u=t[o];if(this.debug(s,l,u),!1===l)return!1;if(l===e.GLOBSTAR){this.debug("GLOBSTAR",[s,l,u]);var p=o,d=a+1;if(d===h){for(this.debug("** at the end");o<c;o++)if("."===t[o]||".."===t[o]||!i.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<c;){var f=t[p];if(this.debug("\nglobstar while",t,p,s,d,f),this.matchOne(t.slice(p),s.slice(d),r))return this.debug("globstar found match!",p,c,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,s,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,s,d),p!==c))}let n;if("string"==typeof l?(n=u===l,this.debug("string match",l,u,n)):(n=l.test(u),this.debug("pattern match",l,u,n)),!n)return!1}if(o===c&&a===h)return!0;if(o===c)return r;if(a===h)return o===c-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(t){(0,r.assertValidPattern)(t);const s=this.options;if("**"===t)return e.GLOBSTAR;if(""===t)return"";let n,o=null;(n=t.match(A))?o=s.dot?S:g:(n=t.match(a))?o=(s.nocase?s.dot?p:u:s.dot?l:h)(n[1]):(n=t.match(I))?o=(s.nocase?s.dot?O:D:s.dot?C:N)(n):(n=t.match(d))?o=s.dot?T:f:(n=t.match(E))&&(o=m);const c=i.AST.fromGlob(t,this.options).toMMPattern();return o&&"object"==typeof c&&Reflect.defineProperty(c,"test",{value:o}),c}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const s=this.options,r=s.noglobstar?"[^/]*?":s.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(s.nocase?["i"]:[]);let n=t.map((t=>{const s=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))i.add(e);return"string"==typeof t?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(t):t===e.GLOBSTAR?e.GLOBSTAR:t._src}));return s.forEach(((t,i)=>{const n=s[i+1],o=s[i-1];t===e.GLOBSTAR&&o!==e.GLOBSTAR&&(void 0===o?void 0!==n&&n!==e.GLOBSTAR?s[i+1]="(?:\\/|"+r+"\\/)?"+n:s[i]=r:void 0===n?s[i-1]=o+"(?:\\/|"+r+")?":n!==e.GLOBSTAR&&(s[i-1]=o+"(?:\\/|\\/"+r+"\\/)"+n,s[i+1]=e.GLOBSTAR))})),s.filter((t=>t!==e.GLOBSTAR)).join("/")})).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+a+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...i].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const s=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let n=r[r.length-1];if(!n)for(let e=r.length-2;!n&&e>=0;e--)n=r[e];for(let e=0;e<i.length;e++){const o=i[e];let a=r;s.matchBase&&1===o.length&&(a=[n]);if(this.matchOne(a,o,t))return!!s.flipNegate||!this.negate}return!s.flipNegate&&this.negate}static defaults(t){return e.minimatch.defaults(t).Minimatch}}e.Minimatch=G;var x=w;Object.defineProperty(e,"AST",{enumerable:!0,get:function(){return x.AST}});var F=Z;Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return F.escape}});var U=B;Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return U.unescape}}),e.minimatch.AST=i.AST,e.minimatch.Minimatch=G,e.minimatch.escape=n.escape,e.minimatch.unescape=o.unescape}(p);var ee={},te={},se={};Object.defineProperty(se,"__esModule",{value:!0}),se.LRUCache=void 0;const re="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,ie=new Set,ne="object"==typeof process&&process?process:{},oe=(e,t,s,r)=>{"function"==typeof ne.emitWarning?ne.emitWarning(e,t,s,r):console.error(`[${s}] ${t}: ${e}`)};let ae=globalThis.AbortController,ce=globalThis.AbortSignal;if(void 0===ae){ce=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},ae=class{constructor(){t()}signal=new ce;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==ne.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,oe("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const he=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),le=e=>he(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ue:null:null;class ue extends Array{constructor(e){super(e),this.fill(0)}}class pe{heap;length;static#T=!1;static create(e){const t=le(e);if(!t)return[];pe.#T=!0;const s=new pe(e,t);return pe.#T=!1,s}constructor(e,t){if(!pe.#T)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class de{#E;#m;#_;#A;#g;#S;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#I;#D;#O;#C;#N;#y;#b;#R;#P;#v;#k;#w;#L;#M;#G;#x;#F;static unsafeExposeInternals(e){return{starts:e.#L,ttls:e.#M,sizes:e.#w,keyMap:e.#O,keyList:e.#C,valList:e.#N,next:e.#y,prev:e.#b,get head(){return e.#R},get tail(){return e.#P},free:e.#v,isBackgroundFetch:t=>e.#B(t),backgroundFetch:(t,s,r,i)=>e.#U(t,s,r,i),moveToTail:t=>e.#H(t),indexes:t=>e.#j(t),rindexes:t=>e.#Y(t),isStale:t=>e.#W(t)}}get max(){return this.#E}get maxSize(){return this.#m}get calculatedSize(){return this.#D}get size(){return this.#I}get fetchMethod(){return this.#g}get memoMethod(){return this.#S}get dispose(){return this.#_}get disposeAfter(){return this.#A}constructor(e){const{max:t=0,ttl:s,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:n,updateAgeOnHas:o,allowStale:a,dispose:c,disposeAfter:h,noDisposeOnSet:l,noUpdateTTL:u,maxSize:p=0,maxEntrySize:d=0,sizeCalculation:f,fetchMethod:T,memoMethod:E,noDeleteOnFetchRejection:m,noDeleteOnStaleGet:_,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:g,ignoreFetchAbort:S}=e;if(0!==t&&!he(t))throw new TypeError("max option must be a nonnegative integer");const I=t?le(t):Array;if(!I)throw new Error("invalid max value: "+t);if(this.#E=t,this.#m=p,this.maxEntrySize=d||this.#m,this.sizeCalculation=f,this.sizeCalculation){if(!this.#m&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==E&&"function"!=typeof E)throw new TypeError("memoMethod must be a function if defined");if(this.#S=E,void 0!==T&&"function"!=typeof T)throw new TypeError("fetchMethod must be a function if specified");if(this.#g=T,this.#x=!!T,this.#O=new Map,this.#C=new Array(t).fill(void 0),this.#N=new Array(t).fill(void 0),this.#y=new I(t),this.#b=new I(t),this.#R=0,this.#P=0,this.#v=pe.create(t),this.#I=0,this.#D=0,"function"==typeof c&&(this.#_=c),"function"==typeof h?(this.#A=h,this.#k=[]):(this.#A=void 0,this.#k=void 0),this.#G=!!this.#_,this.#F=!!this.#A,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!m,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!g,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#m&&!he(this.#m))throw new TypeError("maxSize must be a positive integer if specified");if(!he(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#z()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!n,this.updateAgeOnHas=!!o,this.ttlResolution=he(r)||0===r?r:1,this.ttlAutopurge=!!i,this.ttl=s||0,this.ttl){if(!he(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#q()}if(0===this.#E&&0===this.ttl&&0===this.#m)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#E&&!this.#m){const e="LRU_CACHE_UNBOUNDED";if((e=>!ie.has(e))(e)){ie.add(e);oe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,de)}}}getRemainingTTL(e){return this.#O.has(e)?1/0:0}#q(){const e=new ue(this.#E),t=new ue(this.#E);this.#M=e,this.#L=t,this.#Q=(s,r,i=re.now())=>{if(t[s]=0!==r?i:0,e[s]=r,0!==r&&this.ttlAutopurge){const e=setTimeout((()=>{this.#W(s)&&this.#V(this.#C[s],"expire")}),r+1);e.unref&&e.unref()}},this.#K=s=>{t[s]=0!==e[s]?re.now():0},this.#X=(i,n)=>{if(e[n]){const o=e[n],a=t[n];if(!o||!a)return;i.ttl=o,i.start=a,i.now=s||r();const c=i.now-a;i.remainingTTL=o-c}};let s=0;const r=()=>{const e=re.now();if(this.ttlResolution>0){s=e;const t=setTimeout((()=>s=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=i=>{const n=this.#O.get(i);if(void 0===n)return 0;const o=e[n],a=t[n];if(!o||!a)return 1/0;return o-((s||r())-a)},this.#W=i=>{const n=t[i],o=e[i];return!!o&&!!n&&(s||r())-n>o}}#K=()=>{};#X=()=>{};#Q=()=>{};#W=()=>!1;#z(){const e=new ue(this.#E);this.#D=0,this.#w=e,this.#$=t=>{this.#D-=e[t],e[t]=0},this.#J=(e,t,s,r)=>{if(this.#B(t))return 0;if(!he(s)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(s=r(t,e),!he(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return s},this.#Z=(t,s,r)=>{if(e[t]=s,this.#m){const s=this.#m-e[t];for(;this.#D>s;)this.#ee(!0)}this.#D+=e[t],r&&(r.entrySize=s,r.totalCalculatedSize=this.#D)}}#$=e=>{};#Z=(e,t,s)=>{};#J=(e,t,s,r)=>{if(s||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#j({allowStale:e=this.allowStale}={}){if(this.#I)for(let t=this.#P;this.#te(t)&&(!e&&this.#W(t)||(yield t),t!==this.#R);)t=this.#b[t]}*#Y({allowStale:e=this.allowStale}={}){if(this.#I)for(let t=this.#R;this.#te(t)&&(!e&&this.#W(t)||(yield t),t!==this.#P);)t=this.#y[t]}#te(e){return void 0!==e&&this.#O.get(this.#C[e])===e}*entries(){for(const e of this.#j())void 0===this.#N[e]||void 0===this.#C[e]||this.#B(this.#N[e])||(yield[this.#C[e],this.#N[e]])}*rentries(){for(const e of this.#Y())void 0===this.#N[e]||void 0===this.#C[e]||this.#B(this.#N[e])||(yield[this.#C[e],this.#N[e]])}*keys(){for(const e of this.#j()){const t=this.#C[e];void 0===t||this.#B(this.#N[e])||(yield t)}}*rkeys(){for(const e of this.#Y()){const t=this.#C[e];void 0===t||this.#B(this.#N[e])||(yield t)}}*values(){for(const e of this.#j()){void 0===this.#N[e]||this.#B(this.#N[e])||(yield this.#N[e])}}*rvalues(){for(const e of this.#Y()){void 0===this.#N[e]||this.#B(this.#N[e])||(yield this.#N[e])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const s of this.#j()){const r=this.#N[s],i=this.#B(r)?r.__staleWhileFetching:r;if(void 0!==i&&e(i,this.#C[s],this))return this.get(this.#C[s],t)}}forEach(e,t=this){for(const s of this.#j()){const r=this.#N[s],i=this.#B(r)?r.__staleWhileFetching:r;void 0!==i&&e.call(t,i,this.#C[s],this)}}rforEach(e,t=this){for(const s of this.#Y()){const r=this.#N[s],i=this.#B(r)?r.__staleWhileFetching:r;void 0!==i&&e.call(t,i,this.#C[s],this)}}purgeStale(){let e=!1;for(const t of this.#Y({allowStale:!0}))this.#W(t)&&(this.#V(this.#C[t],"expire"),e=!0);return e}info(e){const t=this.#O.get(e);if(void 0===t)return;const s=this.#N[t],r=this.#B(s)?s.__staleWhileFetching:s;if(void 0===r)return;const i={value:r};if(this.#M&&this.#L){const e=this.#M[t],s=this.#L[t];if(e&&s){const t=e-(re.now()-s);i.ttl=t,i.start=Date.now()}}return this.#w&&(i.size=this.#w[t]),i}dump(){const e=[];for(const t of this.#j({allowStale:!0})){const s=this.#C[t],r=this.#N[t],i=this.#B(r)?r.__staleWhileFetching:r;if(void 0===i||void 0===s)continue;const n={value:i};if(this.#M&&this.#L){n.ttl=this.#M[t];const e=re.now()-this.#L[t];n.start=Math.floor(Date.now()-e)}this.#w&&(n.size=this.#w[t]),e.unshift([s,n])}return e}load(e){this.clear();for(const[t,s]of e){if(s.start){const e=Date.now()-s.start;s.start=re.now()-e}this.set(t,s.value,s)}}set(e,t,s={}){if(void 0===t)return this.delete(e),this;const{ttl:r=this.ttl,start:i,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=s;let{noUpdateTTL:c=this.noUpdateTTL}=s;const h=this.#J(e,t,s.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#V(e,"set"),this;let l=0===this.#I?void 0:this.#O.get(e);if(void 0===l)l=0===this.#I?this.#P:0!==this.#v.length?this.#v.pop():this.#I===this.#E?this.#ee(!1):this.#I,this.#C[l]=e,this.#N[l]=t,this.#O.set(e,l),this.#y[this.#P]=l,this.#b[l]=this.#P,this.#P=l,this.#I++,this.#Z(l,h,a),a&&(a.set="add"),c=!1;else{this.#H(l);const s=this.#N[l];if(t!==s){if(this.#x&&this.#B(s)){s.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=s;void 0===t||n||(this.#G&&this.#_?.(t,e,"set"),this.#F&&this.#k?.push([t,e,"set"]))}else n||(this.#G&&this.#_?.(s,e,"set"),this.#F&&this.#k?.push([s,e,"set"]));if(this.#$(l),this.#Z(l,h,a),this.#N[l]=t,a){a.set="replace";const e=s&&this.#B(s)?s.__staleWhileFetching:s;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===r||this.#M||this.#q(),this.#M&&(c||this.#Q(l,r,i),a&&this.#X(a,l)),!n&&this.#F&&this.#k){const e=this.#k;let t;for(;t=e?.shift();)this.#A?.(...t)}return this}pop(){try{for(;this.#I;){const e=this.#N[this.#R];if(this.#ee(!0),this.#B(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#F&&this.#k){const e=this.#k;let t;for(;t=e?.shift();)this.#A?.(...t)}}}#ee(e){const t=this.#R,s=this.#C[t],r=this.#N[t];return this.#x&&this.#B(r)?r.__abortController.abort(new Error("evicted")):(this.#G||this.#F)&&(this.#G&&this.#_?.(r,s,"evict"),this.#F&&this.#k?.push([r,s,"evict"])),this.#$(t),e&&(this.#C[t]=void 0,this.#N[t]=void 0,this.#v.push(t)),1===this.#I?(this.#R=this.#P=0,this.#v.length=0):this.#R=this.#y[t],this.#O.delete(s),this.#I--,t}has(e,t={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:r}=t,i=this.#O.get(e);if(void 0!==i){const e=this.#N[i];if(this.#B(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#W(i))return s&&this.#K(i),r&&(r.has="hit",this.#X(r,i)),!0;r&&(r.has="stale",this.#X(r,i))}else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:s=this.allowStale}=t,r=this.#O.get(e);if(void 0===r||!s&&this.#W(r))return;const i=this.#N[r];return this.#B(i)?i.__staleWhileFetching:i}#U(e,t,s,r){const i=void 0===t?void 0:this.#N[t];if(this.#B(i))return i;const n=new ae,{signal:o}=s;o?.addEventListener("abort",(()=>n.abort(o.reason)),{signal:n.signal});const a={signal:n.signal,options:s,context:r},c=(r,i=!1)=>{const{aborted:o}=n.signal,c=s.ignoreFetchAbort&&void 0!==r;if(s.status&&(o&&!i?(s.status.fetchAborted=!0,s.status.fetchError=n.signal.reason,c&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),o&&!c&&!i)return h(n.signal.reason);const u=l;return this.#N[t]===l&&(void 0===r?u.__staleWhileFetching?this.#N[t]=u.__staleWhileFetching:this.#V(e,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(e,r,a.options))),r},h=r=>{const{aborted:i}=n.signal,o=i&&s.allowStaleOnFetchAbort,a=o||s.allowStaleOnFetchRejection,c=a||s.noDeleteOnFetchRejection,h=l;if(this.#N[t]===l){!c||void 0===h.__staleWhileFetching?this.#V(e,"fetch"):o||(this.#N[t]=h.__staleWhileFetching)}if(a)return s.status&&void 0!==h.__staleWhileFetching&&(s.status.returnedStale=!0),h.__staleWhileFetching;if(h.__returned===h)throw r};s.status&&(s.status.fetchDispatched=!0);const l=new Promise(((t,r)=>{const o=this.#g?.(e,i,a);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),r),n.signal.addEventListener("abort",(()=>{s.ignoreFetchAbort&&!s.allowStaleOnFetchAbort||(t(void 0),s.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))}))})).then(c,(e=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=e),h(e)))),u=Object.assign(l,{__abortController:n,__staleWhileFetching:i,__returned:void 0});return void 0===t?(this.set(e,u,{...a.options,status:void 0}),t=this.#O.get(e)):this.#N[t]=u,u}#B(e){if(!this.#x)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof ae}async fetch(e,t={}){const{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:T=!1,status:E,signal:m}=t;if(!this.#x)return E&&(E.fetch="get"),this.get(e,{allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:i,status:E});const _={allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:i,ttl:n,noDisposeOnSet:o,size:a,sizeCalculation:c,noUpdateTTL:h,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:E,signal:m};let A=this.#O.get(e);if(void 0===A){E&&(E.fetch="miss");const t=this.#U(e,A,_,f);return t.__returned=t}{const t=this.#N[A];if(this.#B(t)){const e=s&&void 0!==t.__staleWhileFetching;return E&&(E.fetch="inflight",e&&(E.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=this.#W(A);if(!T&&!i)return E&&(E.fetch="hit"),this.#H(A),r&&this.#K(A),E&&this.#X(E,A),t;const n=this.#U(e,A,_,f),o=void 0!==n.__staleWhileFetching&&s;return E&&(E.fetch=i?"stale":"refresh",o&&i&&(E.returnedStale=!0)),o?n.__staleWhileFetching:n.__returned=n}}async forceFetch(e,t={}){const s=await this.fetch(e,t);if(void 0===s)throw new Error("fetch() returned undefined");return s}memo(e,t={}){const s=this.#S;if(!s)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:i,...n}=t,o=this.get(e,n);if(!i&&void 0!==o)return o;const a=s(e,o,{options:n,context:r});return this.set(e,a,n),a}get(e,t={}){const{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:n}=t,o=this.#O.get(e);if(void 0!==o){const t=this.#N[o],a=this.#B(t);return n&&this.#X(n,o),this.#W(o)?(n&&(n.get="stale"),a?(n&&s&&void 0!==t.__staleWhileFetching&&(n.returnedStale=!0),s?t.__staleWhileFetching:void 0):(i||this.#V(e,"expire"),n&&s&&(n.returnedStale=!0),s?t:void 0)):(n&&(n.get="hit"),a?t.__staleWhileFetching:(this.#H(o),r&&this.#K(o),t))}n&&(n.get="miss")}#se(e,t){this.#b[t]=e,this.#y[e]=t}#H(e){e!==this.#P&&(e===this.#R?this.#R=this.#y[e]:this.#se(this.#b[e],this.#y[e]),this.#se(this.#P,e),this.#P=e)}delete(e){return this.#V(e,"delete")}#V(e,t){let s=!1;if(0!==this.#I){const r=this.#O.get(e);if(void 0!==r)if(s=!0,1===this.#I)this.#re(t);else{this.#$(r);const s=this.#N[r];if(this.#B(s)?s.__abortController.abort(new Error("deleted")):(this.#G||this.#F)&&(this.#G&&this.#_?.(s,e,t),this.#F&&this.#k?.push([s,e,t])),this.#O.delete(e),this.#C[r]=void 0,this.#N[r]=void 0,r===this.#P)this.#P=this.#b[r];else if(r===this.#R)this.#R=this.#y[r];else{const e=this.#b[r];this.#y[e]=this.#y[r];const t=this.#y[r];this.#b[t]=this.#b[r]}this.#I--,this.#v.push(r)}}if(this.#F&&this.#k?.length){const e=this.#k;let t;for(;t=e?.shift();)this.#A?.(...t)}return s}clear(){return this.#re("delete")}#re(e){for(const t of this.#Y({allowStale:!0})){const s=this.#N[t];if(this.#B(s))s.__abortController.abort(new Error("deleted"));else{const r=this.#C[t];this.#G&&this.#_?.(s,r,e),this.#F&&this.#k?.push([s,r,e])}}if(this.#O.clear(),this.#N.fill(void 0),this.#C.fill(void 0),this.#M&&this.#L&&(this.#M.fill(0),this.#L.fill(0)),this.#w&&this.#w.fill(0),this.#R=0,this.#P=0,this.#v.length=0,this.#D=0,this.#I=0,this.#F&&this.#k){const e=this.#k;let t;for(;t=e?.shift();)this.#A?.(...t)}}}se.LRUCache=de;var fe={};!function(e){var t=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const s="object"==typeof process&&process?process:{stdout:null,stderr:null},r=i,a=t(n),h=o;e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof z||t instanceof a.default||(0,e.isReadable)(t)||(0,e.isWritable)(t));e.isReadable=e=>!!e&&"object"==typeof e&&e instanceof r.EventEmitter&&"function"==typeof e.pipe&&e.pipe!==a.default.Writable.prototype.pipe;e.isWritable=e=>!!e&&"object"==typeof e&&e instanceof r.EventEmitter&&"function"==typeof e.write&&"function"==typeof e.end;const l=Symbol("EOF"),u=Symbol("maybeEmitEnd"),p=Symbol("emittedEnd"),d=Symbol("emittingEnd"),f=Symbol("emittedError"),T=Symbol("closed"),E=Symbol("read"),m=Symbol("flush"),_=Symbol("flushChunk"),A=Symbol("encoding"),g=Symbol("decoder"),S=Symbol("flowing"),I=Symbol("paused"),D=Symbol("resume"),O=Symbol("buffer"),C=Symbol("pipes"),N=Symbol("bufferLength"),y=Symbol("bufferPush"),b=Symbol("bufferShift"),R=Symbol("objectMode"),P=Symbol("destroyed"),v=Symbol("error"),k=Symbol("emitData"),w=Symbol("emitEnd"),L=Symbol("emitEnd2"),M=Symbol("async"),G=Symbol("abort"),x=Symbol("aborted"),F=Symbol("signal"),B=Symbol("dataListeners"),U=Symbol("discarded"),H=e=>Promise.resolve().then(e),j=e=>e();class Y{src;dest;opts;ondrain;constructor(e,t,s){this.src=e,this.dest=t,this.opts=s,this.ondrain=()=>e[D](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class W extends Y{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,s){super(e,t,s),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}class z extends r.EventEmitter{[S]=!1;[I]=!1;[C]=[];[O]=[];[R];[A];[M];[g];[l]=!1;[p]=!1;[d]=!1;[T]=!1;[f]=null;[N]=0;[P]=!1;[F];[x]=!1;[B]=0;[U]=!1;writable=!0;readable=!0;constructor(...e){const t=e[0]||{};if(super(),t.objectMode&&"string"==typeof t.encoding)throw new TypeError("Encoding and objectMode may not be used together");(e=>!!e.objectMode)(t)?(this[R]=!0,this[A]=null):(e=>!e.objectMode&&!!e.encoding&&"buffer"!==e.encoding)(t)?(this[A]=t.encoding,this[R]=!1):(this[R]=!1,this[A]=null),this[M]=!!t.async,this[g]=this[A]?new h.StringDecoder(this[A]):null,t&&!0===t.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[O]}),t&&!0===t.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[C]});const{signal:s}=t;s&&(this[F]=s,s.aborted?this[G]():s.addEventListener("abort",(()=>this[G]())))}get bufferLength(){return this[N]}get encoding(){return this[A]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[R]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[M]}set async(e){this[M]=this[M]||!!e}[G](){this[x]=!0,this.emit("abort",this[F]?.reason),this.destroy(this[F]?.reason)}get aborted(){return this[x]}set aborted(e){}write(e,t,s){if(this[x])return!1;if(this[l])throw new Error("write after end");if(this[P])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(s=t,t="utf8"),t||(t="utf8");const r=this[M]?H:j;if(!this[R]&&!Buffer.isBuffer(e))if((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if((e=>e instanceof ArrayBuffer||!!e&&"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e))e=Buffer.from(e);else if("string"!=typeof e)throw new Error("Non-contiguous data written to non-objectMode stream");return this[R]?(this[S]&&0!==this[N]&&this[m](!0),this[S]?this.emit("data",e):this[y](e),0!==this[N]&&this.emit("readable"),s&&r(s),this[S]):e.length?("string"!=typeof e||t===this[A]&&!this[g]?.lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[A]&&(e=this[g].write(e)),this[S]&&0!==this[N]&&this[m](!0),this[S]?this.emit("data",e):this[y](e),0!==this[N]&&this.emit("readable"),s&&r(s),this[S]):(0!==this[N]&&this.emit("readable"),s&&r(s),this[S])}read(e){if(this[P])return null;if(this[U]=!1,0===this[N]||0===e||e&&e>this[N])return this[u](),null;this[R]&&(e=null),this[O].length>1&&!this[R]&&(this[O]=[this[A]?this[O].join(""):Buffer.concat(this[O],this[N])]);const t=this[E](e||null,this[O][0]);return this[u](),t}[E](e,t){if(this[R])this[b]();else{const s=t;e===s.length||null===e?this[b]():"string"==typeof s?(this[O][0]=s.slice(e),t=s.slice(0,e),this[N]-=e):(this[O][0]=s.subarray(e),t=s.subarray(0,e),this[N]-=e)}return this.emit("data",t),this[O].length||this[l]||this.emit("drain"),t}end(e,t,s){return"function"==typeof e&&(s=e,e=void 0),"function"==typeof t&&(s=t,t="utf8"),void 0!==e&&this.write(e,t),s&&this.once("end",s),this[l]=!0,this.writable=!1,!this[S]&&this[I]||this[u](),this}[D](){this[P]||(this[B]||this[C].length||(this[U]=!0),this[I]=!1,this[S]=!0,this.emit("resume"),this[O].length?this[m]():this[l]?this[u]():this.emit("drain"))}resume(){return this[D]()}pause(){this[S]=!1,this[I]=!0,this[U]=!1}get destroyed(){return this[P]}get flowing(){return this[S]}get paused(){return this[I]}[y](e){this[R]?this[N]+=1:this[N]+=e.length,this[O].push(e)}[b](){return this[R]?this[N]-=1:this[N]-=this[O][0].length,this[O].shift()}[m](e=!1){do{}while(this[_](this[b]())&&this[O].length);e||this[O].length||this[l]||this.emit("drain")}[_](e){return this.emit("data",e),this[S]}pipe(e,t){if(this[P])return e;this[U]=!1;const r=this[p];return t=t||{},e===s.stdout||e===s.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,r?t.end&&e.end():(this[C].push(t.proxyErrors?new W(this,e,t):new Y(this,e,t)),this[M]?H((()=>this[D]())):this[D]()),e}unpipe(e){const t=this[C].find((t=>t.dest===e));t&&(1===this[C].length?(this[S]&&0===this[B]&&(this[S]=!1),this[C]=[]):this[C].splice(this[C].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const s=super.on(e,t);if("data"===e)this[U]=!1,this[B]++,this[C].length||this[S]||this[D]();else if("readable"===e&&0!==this[N])super.emit("readable");else if((e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[p])super.emit(e),this.removeAllListeners(e);else if("error"===e&&this[f]){const e=t;this[M]?H((()=>e.call(this,this[f]))):e.call(this,this[f])}return s}removeListener(e,t){return this.off(e,t)}off(e,t){const s=super.off(e,t);return"data"===e&&(this[B]=this.listeners("data").length,0!==this[B]||this[U]||this[C].length||(this[S]=!1)),s}removeAllListeners(e){const t=super.removeAllListeners(e);return"data"!==e&&void 0!==e||(this[B]=0,this[U]||this[C].length||(this[S]=!1)),t}get emittedEnd(){return this[p]}[u](){this[d]||this[p]||this[P]||0!==this[O].length||!this[l]||(this[d]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[T]&&this.emit("close"),this[d]=!1)}emit(e,...t){const s=t[0];if("error"!==e&&"close"!==e&&e!==P&&this[P])return!1;if("data"===e)return!(!this[R]&&!s)&&(this[M]?(H((()=>this[k](s))),!0):this[k](s));if("end"===e)return this[w]();if("close"===e){if(this[T]=!0,!this[p]&&!this[P])return!1;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[f]=s,super.emit(v,s);const e=!(this[F]&&!this.listeners("error").length)&&super.emit("error",s);return this[u](),e}if("resume"===e){const e=super.emit("resume");return this[u](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const r=super.emit(e,...t);return this[u](),r}[k](e){for(const t of this[C])!1===t.dest.write(e)&&this.pause();const t=!this[U]&&super.emit("data",e);return this[u](),t}[w](){return!this[p]&&(this[p]=!0,this.readable=!1,this[M]?(H((()=>this[L]())),!0):this[L]())}[L](){if(this[g]){const e=this[g].end();if(e){for(const t of this[C])t.dest.write(e);this[U]||super.emit("data",e)}}for(const e of this[C])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){const e=Object.assign([],{dataLength:0});this[R]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[R]||(e.dataLength+=t.length)})),await t,e}async concat(){if(this[R])throw new Error("cannot concat in objectMode");const e=await this.collect();return this[A]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,t)=>{this.on(P,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[U]=!1;let e=!1;const t=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return t();const s=this.read();if(null!==s)return Promise.resolve({done:!1,value:s});if(this[l])return t();let r,i;const n=e=>{this.off("data",o),this.off("end",a),this.off(P,c),t(),i(e)},o=e=>{this.off("error",n),this.off("end",a),this.off(P,c),this.pause(),r({value:e,done:!!this[l]})},a=()=>{this.off("error",n),this.off("data",o),this.off(P,c),t(),r({done:!0,value:void 0})},c=()=>n(new Error("stream destroyed"));return new Promise(((e,t)=>{i=t,r=e,this.once(P,c),this.once("error",n),this.once("end",a),this.once("data",o)}))},throw:t,return:t,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[U]=!1;let e=!1;const t=()=>(this.pause(),this.off(v,t),this.off(P,t),this.off("end",t),e=!0,{done:!0,value:void 0});return this.once("end",t),this.once(v,t),this.once(P,t),{next:()=>{if(e)return t();const s=this.read();return null===s?t():{done:!1,value:s}},throw:t,return:t,[Symbol.iterator](){return this}}}destroy(e){if(this[P])return e?this.emit("error",e):this.emit(P),this;this[P]=!0,this[U]=!0,this[O].length=0,this[N]=0;return"function"!=typeof this.close||this[T]||this.close(),e?this.emit("error",e):this.emit(P),this}static get isStream(){return e.isStream}}e.Minipass=z}(fe);var Te=c&&c.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),Ee=c&&c.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),me=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&Te(t,e,s);return Ee(t,e),t};Object.defineProperty(te,"__esModule",{value:!0}),te.PathScurry=te.Path=te.PathScurryDarwin=te.PathScurryPosix=te.PathScurryWin32=te.PathScurryBase=te.PathPosix=te.PathWin32=te.PathBase=te.ChildrenCache=te.ResolveCache=void 0;const _e=se,Ae=s,ge=t,Se=e,Ie=me(e),De=Se.realpathSync.native,Oe=r,Ce=fe,Ne={lstatSync:Se.lstatSync,readdir:Se.readdir,readdirSync:Se.readdirSync,readlinkSync:Se.readlinkSync,realpathSync:De,promises:{lstat:Oe.lstat,readdir:Oe.readdir,readlink:Oe.readlink,realpath:Oe.realpath}},ye=e=>e&&e!==Ne&&e!==Ie?{...Ne,...e,promises:{...Ne.promises,...e.promises||{}}}:Ne,be=/^\\\\\?\\([a-z]:)\\?$/i,Re=/[\\\/]/,Pe=10,ve=15,ke=-16,we=128,Le=256,Me=512,Ge=e=>e.isFile()?8:e.isDirectory()?4:e.isSymbolicLink()?Pe:e.isCharacterDevice()?2:e.isBlockDevice()?6:e.isSocket()?12:e.isFIFO()?1:0,xe=new Map,Fe=e=>{const t=xe.get(e);if(t)return t;const s=e.normalize("NFKD");return xe.set(e,s),s},Be=new Map,Ue=e=>{const t=Be.get(e);if(t)return t;const s=Fe(e.toLowerCase());return Be.set(e,s),s};class He extends _e.LRUCache{constructor(){super({max:256})}}te.ResolveCache=He;class je extends _e.LRUCache{constructor(e=16384){super({maxSize:e,sizeCalculation:e=>e.length+1})}}te.ChildrenCache=je;const Ye=Symbol("PathScurry setAsCwd");class We{name;root;roots;parent;nocase;isCWD=!1;#ie;#ne;get dev(){return this.#ne}#oe;get mode(){return this.#oe}#ae;get nlink(){return this.#ae}#ce;get uid(){return this.#ce}#he;get gid(){return this.#he}#le;get rdev(){return this.#le}#ue;get blksize(){return this.#ue}#pe;get ino(){return this.#pe}#I;get size(){return this.#I}#de;get blocks(){return this.#de}#fe;get atimeMs(){return this.#fe}#Te;get mtimeMs(){return this.#Te}#Ee;get ctimeMs(){return this.#Ee}#me;get birthtimeMs(){return this.#me}#_e;get atime(){return this.#_e}#Ae;get mtime(){return this.#Ae}#ge;get ctime(){return this.#ge}#Se;get birthtime(){return this.#Se}#Ie;#De;#Oe;#Ce;#Ne;#ye;#be;#Re;#Pe;#ve;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,t=0,s,r,i,n,o){this.name=e,this.#Ie=i?Ue(e):Fe(e),this.#be=1023&t,this.nocase=i,this.roots=r,this.root=s||this,this.#Re=n,this.#Oe=o.fullpath,this.#Ne=o.relative,this.#ye=o.relativePosix,this.parent=o.parent,this.parent?this.#ie=this.parent.#ie:this.#ie=ye(o.fs)}depth(){return void 0!==this.#De?this.#De:this.parent?this.#De=this.parent.depth()+1:this.#De=0}childrenCache(){return this.#Re}resolve(e){if(!e)return this;const t=this.getRootString(e),s=e.substring(t.length).split(this.splitSep);return t?this.getRoot(t).#ke(s):this.#ke(s)}#ke(e){let t=this;for(const s of e)t=t.child(s);return t}children(){const e=this.#Re.get(this);if(e)return e;const t=Object.assign([],{provisional:0});return this.#Re.set(this,t),this.#be&=-17,t}child(e,t){if(""===e||"."===e)return this;if(".."===e)return this.parent||this;const s=this.children(),r=this.nocase?Ue(e):Fe(e);for(const e of s)if(e.#Ie===r)return e;const i=this.parent?this.sep:"",n=this.#Oe?this.#Oe+i+e:void 0,o=this.newChild(e,0,{...t,parent:this,fullpath:n});return this.canReaddir()||(o.#be|=we),s.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Ne)return this.#Ne;const e=this.name,t=this.parent;if(!t)return this.#Ne=this.name;const s=t.relative();return s+(s&&t.parent?this.sep:"")+e}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#ye)return this.#ye;const e=this.name,t=this.parent;if(!t)return this.#ye=this.fullpathPosix();const s=t.relativePosix();return s+(s&&t.parent?"/":"")+e}fullpath(){if(void 0!==this.#Oe)return this.#Oe;const e=this.name,t=this.parent;if(!t)return this.#Oe=this.name;const s=t.fullpath()+(t.parent?this.sep:"")+e;return this.#Oe=s}fullpathPosix(){if(void 0!==this.#Ce)return this.#Ce;if("/"===this.sep)return this.#Ce=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(e)?this.#Ce=`//?/${e}`:this.#Ce=e}const e=this.parent,t=e.fullpathPosix(),s=t+(t&&e.parent?"/":"")+this.name;return this.#Ce=s}isUnknown(){return!(this.#be&ve)}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#be&ve)}isDirectory(){return 4==(this.#be&ve)}isCharacterDevice(){return 2==(this.#be&ve)}isBlockDevice(){return 6==(this.#be&ve)}isFIFO(){return 1==(this.#be&ve)}isSocket(){return 12==(this.#be&ve)}isSymbolicLink(){return(this.#be&Pe)===Pe}lstatCached(){return 32&this.#be?this:void 0}readlinkCached(){return this.#Pe}realpathCached(){return this.#ve}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#Pe)return!0;if(!this.parent)return!1;const e=this.#be&ve;return!(0!==e&&e!==Pe||this.#be&Le||this.#be&we)}calledReaddir(){return!!(16&this.#be)}isENOENT(){return!!(this.#be&we)}isNamed(e){return this.nocase?this.#Ie===Ue(e):this.#Ie===Fe(e)}async readlink(){const e=this.#Pe;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=await this.#ie.promises.readlink(this.fullpath()),t=(await this.parent.realpath())?.resolve(e);if(t)return this.#Pe=t}catch(e){return void this.#we(e.code)}}readlinkSync(){const e=this.#Pe;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=this.#ie.readlinkSync(this.fullpath()),t=this.parent.realpathSync()?.resolve(e);if(t)return this.#Pe=t}catch(e){return void this.#we(e.code)}}#Le(e){this.#be|=16;for(let t=e.provisional;t<e.length;t++){const s=e[t];s&&s.#Me()}}#Me(){this.#be&we||(this.#be=(this.#be|we)&ke,this.#Ge())}#Ge(){const e=this.children();e.provisional=0;for(const t of e)t.#Me()}#xe(){this.#be|=Me,this.#Fe()}#Fe(){if(64&this.#be)return;let e=this.#be;4==(e&ve)&&(e&=ke),this.#be=64|e,this.#Ge()}#Be(e=""){"ENOTDIR"===e||"EPERM"===e?this.#Fe():"ENOENT"===e?this.#Me():this.children().provisional=0}#Ue(e=""){if("ENOTDIR"===e){this.parent.#Fe()}else"ENOENT"===e&&this.#Me()}#we(e=""){let t=this.#be;t|=Le,"ENOENT"===e&&(t|=we),"EINVAL"!==e&&"UNKNOWN"!==e||(t&=ke),this.#be=t,"ENOTDIR"===e&&this.parent&&this.parent.#Fe()}#He(e,t){return this.#je(e,t)||this.#Ye(e,t)}#Ye(e,t){const s=Ge(e),r=this.newChild(e.name,s,{parent:this}),i=r.#be&ve;return 4!==i&&i!==Pe&&0!==i&&(r.#be|=64),t.unshift(r),t.provisional++,r}#je(e,t){for(let s=t.provisional;s<t.length;s++){const r=t[s];if((this.nocase?Ue(e.name):Fe(e.name))===r.#Ie)return this.#We(e,r,s,t)}}#We(e,t,s,r){const i=t.name;return t.#be=t.#be&ke|Ge(e),i!==e.name&&(t.name=e.name),s!==r.provisional&&(s===r.length-1?r.pop():r.splice(s,1),r.unshift(t)),r.provisional++,t}async lstat(){if(!(this.#be&we))try{return this.#ze(await this.#ie.promises.lstat(this.fullpath())),this}catch(e){this.#Ue(e.code)}}lstatSync(){if(!(this.#be&we))try{return this.#ze(this.#ie.lstatSync(this.fullpath())),this}catch(e){this.#Ue(e.code)}}#ze(e){const{atime:t,atimeMs:s,birthtime:r,birthtimeMs:i,blksize:n,blocks:o,ctime:a,ctimeMs:c,dev:h,gid:l,ino:u,mode:p,mtime:d,mtimeMs:f,nlink:T,rdev:E,size:m,uid:_}=e;this.#_e=t,this.#fe=s,this.#Se=r,this.#me=i,this.#ue=n,this.#de=o,this.#ge=a,this.#Ee=c,this.#ne=h,this.#he=l,this.#pe=u,this.#oe=p,this.#Ae=d,this.#Te=f,this.#ae=T,this.#le=E,this.#I=m,this.#ce=_;const A=Ge(e);this.#be=this.#be&ke|A|32,0!==A&&4!==A&&A!==Pe&&(this.#be|=64)}#qe=[];#Qe=!1;#Ve(e){this.#Qe=!1;const t=this.#qe.slice();this.#qe.length=0,t.forEach((t=>t(null,e)))}readdirCB(e,t=!1){if(!this.canReaddir())return void(t?e(null,[]):queueMicrotask((()=>e(null,[]))));const s=this.children();if(this.calledReaddir()){const r=s.slice(0,s.provisional);return void(t?e(null,r):queueMicrotask((()=>e(null,r))))}if(this.#qe.push(e),this.#Qe)return;this.#Qe=!0;const r=this.fullpath();this.#ie.readdir(r,{withFileTypes:!0},((e,t)=>{if(e)this.#Be(e.code),s.provisional=0;else{for(const e of t)this.#He(e,s);this.#Le(s)}this.#Ve(s.slice(0,s.provisional))}))}#Ke;async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();if(this.#Ke)await this.#Ke;else{let s=()=>{};this.#Ke=new Promise((e=>s=e));try{for(const s of await this.#ie.promises.readdir(t,{withFileTypes:!0}))this.#He(s,e);this.#Le(e)}catch(t){this.#Be(t.code),e.provisional=0}this.#Ke=void 0,s()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();try{for(const s of this.#ie.readdirSync(t,{withFileTypes:!0}))this.#He(s,e);this.#Le(e)}catch(t){this.#Be(t.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(704&this.#be)return!1;const e=ve&this.#be;return 0===e||4===e||e===Pe}shouldWalk(e,t){return!(4&~this.#be)&&!(704&this.#be)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#ve)return this.#ve;if(!(896&this.#be))try{const e=await this.#ie.promises.realpath(this.fullpath());return this.#ve=this.resolve(e)}catch(e){this.#xe()}}realpathSync(){if(this.#ve)return this.#ve;if(!(896&this.#be))try{const e=this.#ie.realpathSync(this.fullpath());return this.#ve=this.resolve(e)}catch(e){this.#xe()}}[Ye](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;const t=new Set([]);let s=[],r=this;for(;r&&r.parent;)t.add(r),r.#Ne=s.join(this.sep),r.#ye=s.join("/"),r=r.parent,s.push("..");for(r=e;r&&r.parent&&!t.has(r);)r.#Ne=void 0,r.#ye=void 0,r=r.parent}}te.PathBase=We;class ze extends We{sep="\\";splitSep=Re;constructor(e,t=0,s,r,i,n,o){super(e,t,s,r,i,n,o)}newChild(e,t=0,s={}){return new ze(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(e){return Ae.win32.parse(e).root}getRoot(e){if((e=(e=>e.replace(/\//g,"\\").replace(be,"$1\\"))(e.toUpperCase()))===this.root.name)return this.root;for(const[t,s]of Object.entries(this.roots))if(this.sameRoot(e,t))return this.roots[e]=s;return this.roots[e]=new Ve(e,this).root}sameRoot(e,t=this.root.name){return(e=e.toUpperCase().replace(/\//g,"\\").replace(be,"$1\\"))===t}}te.PathWin32=ze;class qe extends We{splitSep="/";sep="/";constructor(e,t=0,s,r,i,n,o){super(e,t,s,r,i,n,o)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=0,s={}){return new qe(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}}te.PathPosix=qe;class Qe{root;rootPath;roots;cwd;#Xe;#$e;#Re;nocase;#ie;constructor(e=process.cwd(),t,s,{nocase:r,childrenCacheSize:i=16384,fs:n=Ne}={}){this.#ie=ye(n),(e instanceof URL||e.startsWith("file://"))&&(e=(0,ge.fileURLToPath)(e));const o=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Xe=new He,this.#$e=new He,this.#Re=new je(i);const a=o.substring(this.rootPath.length).split(s);if(1!==a.length||a[0]||a.pop(),void 0===r)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#ie),this.roots[this.rootPath]=this.root;let c=this.root,h=a.length-1;const l=t.sep;let u=this.rootPath,p=!1;for(const e of a){const t=h--;c=c.child(e,{relative:new Array(t).fill("..").join(l),relativePosix:new Array(t).fill("..").join("/"),fullpath:u+=(p?"":l)+e}),p=!0}this.cwd=c}depth(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#Re}resolve(...e){let t="";for(let s=e.length-1;s>=0;s--){const r=e[s];if(r&&"."!==r&&(t=t?`${r}/${t}`:r,this.isAbsolute(r)))break}const s=this.#Xe.get(t);if(void 0!==s)return s;const r=this.cwd.resolve(t).fullpath();return this.#Xe.set(t,r),r}resolvePosix(...e){let t="";for(let s=e.length-1;s>=0;s--){const r=e[s];if(r&&"."!==r&&(t=t?`${r}/${t}`:r,this.isAbsolute(r)))break}const s=this.#$e.get(t);if(void 0!==s)return s;const r=this.cwd.resolve(t).fullpathPosix();return this.#$e.set(t,r),r}relative(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s}=t;if(e.canReaddir()){const t=await e.readdir();return s?t:t.map((e=>e.name))}return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0}=t;return e.canReaddir()?s?e.readdirSync():e.readdirSync().map((e=>e.name)):[]}async lstat(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e.withFileTypes,e=this.cwd);const s=await e.readlink();return t?s:s?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e.withFileTypes,e=this.cwd);const s=e.readlinkSync();return t?s:s?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e.withFileTypes,e=this.cwd);const s=await e.realpath();return t?s:s?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e.withFileTypes,e=this.cwd);const s=e.realpathSync();return t?s:s?.fullpath()}async walk(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0,follow:r=!1,filter:i,walkFilter:n}=t,o=[];i&&!i(e)||o.push(s?e:e.fullpath());const a=new Set,c=(e,t)=>{a.add(e),e.readdirCB(((e,h)=>{if(e)return t(e);let l=h.length;if(!l)return t();const u=()=>{0==--l&&t()};for(const e of h)i&&!i(e)||o.push(s?e:e.fullpath()),r&&e.isSymbolicLink()?e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(a,n)?c(e,u):u())):e.shouldWalk(a,n)?c(e,u):u()}),!0)},h=e;return new Promise(((e,t)=>{c(h,(s=>{if(s)return t(s);e(o)}))}))}walkSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0,follow:r=!1,filter:i,walkFilter:n}=t,o=[];i&&!i(e)||o.push(s?e:e.fullpath());const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){i&&!i(e)||o.push(s?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,n)&&a.add(t)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0,follow:r=!1,filter:i,walkFilter:n}=t;i&&!i(e)||(yield s?e:e.fullpath());const o=new Set([e]);for(const e of o){const t=e.readdirSync();for(const e of t){i&&!i(e)||(yield s?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(o,n)&&o.add(t)}}}stream(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0,follow:r=!1,filter:i,walkFilter:n}=t,o=new Ce.Minipass({objectMode:!0});i&&!i(e)||o.write(s?e:e.fullpath());const a=new Set,c=[e];let h=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===h&&o.end());h++,a.add(t);const u=(t,d,f=!1)=>{if(t)return o.emit("error",t);if(r&&!f){const e=[];for(const t of d)t.isSymbolicLink()&&e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)));if(e.length)return void Promise.all(e).then((()=>u(null,d,!0)))}for(const t of d)!t||i&&!i(t)||o.write(s?t:t.fullpath())||(e=!0);h--;for(const e of d){const t=e.realpathCached()||e;t.shouldWalk(a,n)&&c.push(t)}e&&!o.flowing?o.once("drain",l):p||l()};let p=!0;t.readdirCB(u,!0),p=!1}};return l(),o}streamSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof We||(t=e,e=this.cwd);const{withFileTypes:s=!0,follow:r=!1,filter:i,walkFilter:n}=t,o=new Ce.Minipass({objectMode:!0}),a=new Set;i&&!i(e)||o.write(s?e:e.fullpath());const c=[e];let h=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===h&&o.end());h++,a.add(t);const l=t.readdirSync();for(const t of l)i&&!i(t)||o.write(s?t:t.fullpath())||(e=!0);h--;for(const e of l){let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,n)&&c.push(t)}}e&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(e=this.cwd){const t=this.cwd;this.cwd="string"==typeof e?this.cwd.resolve(e):e,this.cwd[Ye](t)}}te.PathScurryBase=Qe;class Ve extends Qe{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:s=!0}=t;super(e,Ae.win32,"\\",{...t,nocase:s}),this.nocase=s;for(let e=this.cwd;e;e=e.parent)e.nocase=this.nocase}parseRootPath(e){return Ae.win32.parse(e).root.toUpperCase()}newRoot(e){return new ze(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}te.PathScurryWin32=Ve;class Ke extends Qe{sep="/";constructor(e=process.cwd(),t={}){const{nocase:s=!1}=t;super(e,Ae.posix,"/",{...t,nocase:s}),this.nocase=s}parseRootPath(e){return"/"}newRoot(e){return new qe(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}te.PathScurryPosix=Ke;class Xe extends Ke{constructor(e=process.cwd(),t={}){const{nocase:s=!0}=t;super(e,{...t,nocase:s})}}te.PathScurryDarwin=Xe,te.Path="win32"===process.platform?ze:qe,te.PathScurry="win32"===process.platform?Ve:"darwin"===process.platform?Xe:Ke;var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.Pattern=void 0;const Je=p;class Ze{#Je;#Ze;#et;length;#tt;#st;#rt;#it;#nt;#ot;#at=!0;constructor(e,t,s,r){if(!(e.length>=1))throw new TypeError("empty pattern list");if(!(t.length>=1))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#Je=e,this.#Ze=t,this.#et=s,this.#tt=r,0===this.#et)if(this.isUNC()){const[e,t,s,r,...i]=this.#Je,[n,o,a,c,...h]=this.#Ze;""===i[0]&&(i.shift(),h.shift());const l=[e,t,s,r,""].join("/"),u=[n,o,a,c,""].join("/");this.#Je=[l,...i],this.#Ze=[u,...h],this.length=this.#Je.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#Je,[s,...r]=this.#Ze;""===t[0]&&(t.shift(),r.shift());const i=e+"/",n=s+"/";this.#Je=[i,...t],this.#Ze=[n,...r],this.length=this.#Je.length}}pattern(){return this.#Je[this.#et]}isString(){return"string"==typeof this.#Je[this.#et]}isGlobstar(){return this.#Je[this.#et]===Je.GLOBSTAR}isRegExp(){return this.#Je[this.#et]instanceof RegExp}globString(){return this.#rt=this.#rt||(0===this.#et?this.isAbsolute()?this.#Ze[0]+this.#Ze.slice(1).join("/"):this.#Ze.join("/"):this.#Ze.slice(this.#et).join("/"))}hasMore(){return this.length>this.#et+1}rest(){return void 0!==this.#st?this.#st:this.hasMore()?(this.#st=new Ze(this.#Je,this.#Ze,this.#et+1,this.#tt),this.#st.#ot=this.#ot,this.#st.#nt=this.#nt,this.#st.#it=this.#it,this.#st):this.#st=null}isUNC(){const e=this.#Je;return void 0!==this.#nt?this.#nt:this.#nt="win32"===this.#tt&&0===this.#et&&""===e[0]&&""===e[1]&&"string"==typeof e[2]&&!!e[2]&&"string"==typeof e[3]&&!!e[3]}isDrive(){const e=this.#Je;return void 0!==this.#it?this.#it:this.#it="win32"===this.#tt&&0===this.#et&&this.length>1&&"string"==typeof e[0]&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#Je;return void 0!==this.#ot?this.#ot:this.#ot=""===e[0]&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#Je[0];return"string"==typeof e&&this.isAbsolute()&&0===this.#et?e:""}checkFollowGlobstar(){return!(0===this.#et||!this.isGlobstar()||!this.#at)}markFollowGlobstar(){return!(0===this.#et||!this.isGlobstar()||!this.#at)&&(this.#at=!1,!0)}}$e.Pattern=Ze;var et={},tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.Ignore=void 0;const st=p,rt=$e,it="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";tt.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:t,nocase:s,noext:r,noglobstar:i,platform:n=it}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=n,this.mmopts={dot:!0,nobrace:t,nocase:s,noext:r,noglobstar:i,optimizationLevel:2,platform:n,nocomment:!0,nonegate:!0};for(const t of e)this.add(t)}add(e){const t=new st.Minimatch(e,this.mmopts);for(let e=0;e<t.set.length;e++){const s=t.set[e],r=t.globParts[e];if(!s||!r)throw new Error("invalid pattern object");for(;"."===s[0]&&"."===r[0];)s.shift(),r.shift();const i=new rt.Pattern(s,r,0,this.platform),n=new st.Minimatch(i.globString(),this.mmopts),o="**"===r[r.length-1],a=i.isAbsolute();a?this.absolute.push(n):this.relative.push(n),o&&(a?this.absoluteChildren.push(n):this.relativeChildren.push(n))}}ignored(e){const t=e.fullpath(),s=`${t}/`,r=e.relative()||".",i=`${r}/`;for(const e of this.relative)if(e.match(r)||e.match(i))return!0;for(const e of this.absolute)if(e.match(t)||e.match(s))return!0;return!1}childrenIgnored(e){const t=e.fullpath()+"/",s=(e.relative()||".")+"/";for(const e of this.relativeChildren)if(e.match(s))return!0;for(const e of this.absoluteChildren)if(e.match(t))return!0;return!1}};var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.Processor=nt.SubWalks=nt.MatchRecord=nt.HasWalkedCache=void 0;const ot=p;class at{store;constructor(e=new Map){this.store=e}copy(){return new at(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const s=e.fullpath(),r=this.store.get(s);r?r.add(t.globString()):this.store.set(s,new Set([t.globString()]))}}nt.HasWalkedCache=at;class ct{store=new Map;add(e,t,s){const r=(t?2:0)|(s?1:0),i=this.store.get(e);this.store.set(e,void 0===i?r:r&i)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(2&t),!!(1&t)]))}}nt.MatchRecord=ct;class ht{store=new Map;add(e,t){if(!e.canReaddir())return;const s=this.store.get(e);s?s.find((e=>e.globString()===t.globString()))||s.push(t):this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}nt.SubWalks=ht;nt.Processor=class e{hasWalkedCache;matches=new ct;subwalks=new ht;patterns;follow;dot;opts;constructor(e,t){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new at}processPatterns(e,t){this.patterns=t;const s=t.map((t=>[e,t]));for(let[e,t]of s){this.hasWalkedCache.storeWalked(e,t);const s=t.root(),r=t.isAbsolute()&&!1!==this.opts.absolute;if(s){e=e.resolve("/"===s&&void 0!==this.opts.root?this.opts.root:s);const r=t.rest();if(!r){this.matches.add(e,!0,!1);continue}t=r}if(e.isENOENT())continue;let i,n,o=!1;for(;"string"==typeof(i=t.pattern())&&(n=t.rest());){const s=e.resolve(i);e=s,t=n,o=!0}if(i=t.pattern(),n=t.rest(),o){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if("string"!=typeof i)if(i===ot.GLOBSTAR){(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar())&&this.subwalks.add(e,t);const s=n?.pattern(),i=n?.rest();if(n&&(""!==s&&"."!==s||i)){if(".."===s){const t=e.parent||e;i?this.hasWalkedCache.hasWalked(t,i)||this.subwalks.add(t,i):this.matches.add(t,r,!0)}}else this.matches.add(e,r,""===s||"."===s)}else i instanceof RegExp&&this.subwalks.add(e,t);else{const t=".."===i||""===i||"."===i;this.matches.add(e.resolve(i),r,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new e(this.opts,this.hasWalkedCache)}filterEntries(e,t){const s=this.subwalks.get(e),r=this.child();for(const e of t)for(const t of s){const s=t.isAbsolute(),i=t.pattern(),n=t.rest();i===ot.GLOBSTAR?r.testGlobstar(e,t,n,s):i instanceof RegExp?r.testRegExp(e,i,n,s):r.testString(e,i,n,s)}return r}testGlobstar(e,t,s,r){if(!this.dot&&e.name.startsWith(".")||(t.hasMore()||this.matches.add(e,r,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(s&&t.checkFollowGlobstar()?this.subwalks.add(e,s):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),s){const t=s.pattern();if("string"==typeof t&&".."!==t&&""!==t&&"."!==t)this.testString(e,t,s.rest(),r);else if(".."===t){const t=e.parent||e;this.subwalks.add(t,s)}else t instanceof RegExp&&this.testRegExp(e,t,s.rest(),r)}}testRegExp(e,t,s,r){t.test(e.name)&&(s?this.subwalks.add(e,s):this.matches.add(e,r,!1))}testString(e,t,s,r){e.isNamed(t)&&(s?this.subwalks.add(e,s):this.matches.add(e,r,!1))}},Object.defineProperty(et,"__esModule",{value:!0}),et.GlobStream=et.GlobWalker=et.GlobUtil=void 0;const lt=fe,ut=tt,pt=nt;class dt{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#ct=[];#ht;#lt;signal;maxDepth;includeChildMatches;constructor(e,t,s){if(this.patterns=e,this.path=t,this.opts=s,this.#lt=s.posix||"win32"!==s.platform?"/":"\\",this.includeChildMatches=!1!==s.includeChildMatches,(s.ignore||!this.includeChildMatches)&&(this.#ht=((e,t)=>"string"==typeof e?new ut.Ignore([e],t):Array.isArray(e)?new ut.Ignore(e,t):e)(s.ignore??[],s),!this.includeChildMatches&&"function"!=typeof this.#ht.add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",(()=>{this.#ct.length=0})))}#ut(e){return this.seen.has(e)||!!this.#ht?.ignored?.(e)}#pt(e){return!!this.#ht?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let e;for(this.paused=!1;!this.paused&&(e=this.#ct.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#ct.push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=e.realpathCached()||await e.realpath(),!s)return;e=s}const r=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){const e=await r.realpath();e&&(e.isUnknown()||this.opts.stat)&&await e.lstat()}return this.matchCheckTest(r,t)}matchCheckTest(e,t){return!e||!(this.maxDepth===1/0||e.depth()<=this.maxDepth)||t&&!e.canReaddir()||this.opts.nodir&&e.isDirectory()||this.opts.nodir&&this.opts.follow&&e.isSymbolicLink()&&e.realpathCached()?.isDirectory()||this.#ut(e)?void 0:e}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=e.realpathCached()||e.realpathSync(),!s)return;e=s}const r=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){const e=r.realpathSync();e&&(e?.isUnknown()||this.opts.stat)&&e.lstatSync()}return this.matchCheckTest(r,t)}matchFinish(e,t){if(this.#ut(e))return;if(!this.includeChildMatches&&this.#ht?.add){const t=`${e.relativePosix()}/**`;this.#ht.add(t)}const s=void 0===this.opts.absolute?t:this.opts.absolute;this.seen.add(e);const r=this.opts.mark&&e.isDirectory()?this.#lt:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(s){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+r)}else{const t=this.opts.posix?e.relativePosix():e.relative(),s=this.opts.dotRelative&&!t.startsWith(".."+this.#lt)?"."+this.#lt:"";this.matchEmit(t?s+t+r:"."+r)}}async match(e,t,s){const r=await this.matchCheck(e,s);r&&this.matchFinish(r,t)}matchSync(e,t,s){const r=this.matchCheckSync(e,s);r&&this.matchFinish(r,t)}walkCB(e,t,s){this.signal?.aborted&&s(),this.walkCB2(e,t,new pt.Processor(this.opts),s)}walkCB2(e,t,s,r){if(this.#pt(e))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2(e,t,s,r)));s.processPatterns(e,t);let i=1;const n=()=>{0==--i&&r()};for(const[e,t,r]of s.matches.entries())this.#ut(e)||(i++,this.match(e,t,r).then((()=>n())));for(const e of s.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;i++;const t=e.readdirCached();e.calledReaddir()?this.walkCB3(e,t,s,n):e.readdirCB(((t,r)=>this.walkCB3(e,r,s,n)),!0)}n()}walkCB3(e,t,s,r){s=s.filterEntries(e,t);let i=1;const n=()=>{0==--i&&r()};for(const[e,t,r]of s.matches.entries())this.#ut(e)||(i++,this.match(e,t,r).then((()=>n())));for(const[e,t]of s.subwalks.entries())i++,this.walkCB2(e,t,s.child(),n);n()}walkCBSync(e,t,s){this.signal?.aborted&&s(),this.walkCB2Sync(e,t,new pt.Processor(this.opts),s)}walkCB2Sync(e,t,s,r){if(this.#pt(e))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2Sync(e,t,s,r)));s.processPatterns(e,t);let i=1;const n=()=>{0==--i&&r()};for(const[e,t,r]of s.matches.entries())this.#ut(e)||this.matchSync(e,t,r);for(const e of s.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;i++;const t=e.readdirSync();this.walkCB3Sync(e,t,s,n)}n()}walkCB3Sync(e,t,s,r){s=s.filterEntries(e,t);let i=1;const n=()=>{0==--i&&r()};for(const[e,t,r]of s.matches.entries())this.#ut(e)||this.matchSync(e,t,r);for(const[e,t]of s.subwalks.entries())i++,this.walkCB2Sync(e,t,s.child(),n);n()}}et.GlobUtil=dt;et.GlobWalker=class extends dt{matches=new Set;constructor(e,t,s){super(e,t,s)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?t(this.signal.reason):e(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}};et.GlobStream=class extends dt{results;constructor(e,t,s){super(e,t,s),this.results=new lt.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){const e=this.path;return e.isUnknown()?e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))})):this.walkCB(e,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}},Object.defineProperty(ee,"__esModule",{value:!0}),ee.Glob=void 0;const ft=p,Tt=t,Et=te,mt=$e,_t=et,At="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class gt{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,Tt.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.includeChildMatches=!1!==t.includeChildMatches,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth="number"==typeof t.maxDepth?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof e&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(e=e.map((e=>e.replace(/\\/g,"/")))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map((e=>e.includes("/")?e:`./**/${e}`))}if(this.pattern=e,this.platform=t.platform||At,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,void 0!==t.nocase&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const e="win32"===t.platform?Et.PathScurryWin32:"darwin"===t.platform?Et.PathScurryDarwin:t.platform?Et.PathScurryPosix:Et.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const s="darwin"===this.platform||"win32"===this.platform,r={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},i=this.pattern.map((e=>new ft.Minimatch(e,r))),[n,o]=i.reduce(((e,t)=>(e[0].push(...t.set),e[1].push(...t.globParts),e)),[[],[]]);this.patterns=n.map(((e,t)=>{const s=o[t];if(!s)throw new Error("invalid pattern object");return new mt.Pattern(e,s,0,this.platform)}))}async walk(){return[...await new _t.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new _t.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new _t.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new _t.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}ee.Glob=gt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.hasMagic=void 0;const It=p;St.hasMagic=(e,t={})=>{Array.isArray(e)||(e=[e]);for(const s of e)if(new It.Minimatch(s,t).hasMagic())return!0;return!1},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.Ignore=e.hasMagic=e.Glob=e.unescape=e.escape=void 0,e.globStreamSync=c,e.globStream=h,e.globSync=l,e.globIterateSync=d,e.globIterate=f;const t=p,s=ee,r=St;var i=p;Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return i.unescape}});var n=ee;Object.defineProperty(e,"Glob",{enumerable:!0,get:function(){return n.Glob}});var o=St;Object.defineProperty(e,"hasMagic",{enumerable:!0,get:function(){return o.hasMagic}});var a=tt;function c(e,t={}){return new s.Glob(e,t).streamSync()}function h(e,t={}){return new s.Glob(e,t).stream()}function l(e,t={}){return new s.Glob(e,t).walkSync()}async function u(e,t={}){return new s.Glob(e,t).walk()}function d(e,t={}){return new s.Glob(e,t).iterateSync()}function f(e,t={}){return new s.Glob(e,t).iterate()}Object.defineProperty(e,"Ignore",{enumerable:!0,get:function(){return a.Ignore}}),e.streamSync=c,e.stream=Object.assign(h,{sync:c}),e.iterateSync=d,e.iterate=Object.assign(f,{sync:d}),e.sync=Object.assign(l,{stream:c,iterate:d}),e.glob=Object.assign(u,{glob:u,globSync:l,sync:e.sync,globStream:h,stream:e.stream,globStreamSync:c,streamSync:e.streamSync,globIterate:f,iterate:e.iterate,globIterateSync:d,iterateSync:e.iterateSync,Glob:s.Glob,hasMagic:r.hasMagic,escape:t.escape,unescape:t.unescape}),e.glob.glob=e.glob}(u);var Dt={exports:{}};let Ot=process||{},Ct=Ot.argv||[],Nt=Ot.env||{},yt=!(Nt.NO_COLOR||Ct.includes("--no-color"))&&(!!Nt.FORCE_COLOR||Ct.includes("--color")||"win32"===Ot.platform||(Ot.stdout||{}).isTTY&&"dumb"!==Nt.TERM||!!Nt.CI),bt=(e,t,s=e)=>r=>{let i=""+r,n=i.indexOf(t,e.length);return~n?e+Rt(i,t,s,n)+t:e+i+t},Rt=(e,t,s,r)=>{let i="",n=0;do{i+=e.substring(n,r)+s,n=r+t.length,r=e.indexOf(t,n)}while(~r);return i+e.substring(n)},Pt=(e=yt)=>{let t=e?bt:()=>String;return{isColorSupported:e,reset:t("[0m","[0m"),bold:t("[1m","[22m","[22m[1m"),dim:t("[2m","[22m","[22m[2m"),italic:t("[3m","[23m"),underline:t("[4m","[24m"),inverse:t("[7m","[27m"),hidden:t("[8m","[28m"),strikethrough:t("[9m","[29m"),black:t("[30m","[39m"),red:t("[31m","[39m"),green:t("[32m","[39m"),yellow:t("[33m","[39m"),blue:t("[34m","[39m"),magenta:t("[35m","[39m"),cyan:t("[36m","[39m"),white:t("[37m","[39m"),gray:t("[90m","[39m"),bgBlack:t("[40m","[49m"),bgRed:t("[41m","[49m"),bgGreen:t("[42m","[49m"),bgYellow:t("[43m","[49m"),bgBlue:t("[44m","[49m"),bgMagenta:t("[45m","[49m"),bgCyan:t("[46m","[49m"),bgWhite:t("[47m","[49m"),blackBright:t("[90m","[39m"),redBright:t("[91m","[39m"),greenBright:t("[92m","[39m"),yellowBright:t("[93m","[39m"),blueBright:t("[94m","[39m"),magentaBright:t("[95m","[39m"),cyanBright:t("[96m","[39m"),whiteBright:t("[97m","[39m"),bgBlackBright:t("[100m","[49m"),bgRedBright:t("[101m","[49m"),bgGreenBright:t("[102m","[49m"),bgYellowBright:t("[103m","[49m"),bgBlueBright:t("[104m","[49m"),bgMagentaBright:t("[105m","[49m"),bgCyanBright:t("[106m","[49m"),bgWhiteBright:t("[107m","[49m")}};Dt.exports=Pt(),Dt.exports.createColors=Pt;var vt=Dt.exports;const kt="'".charCodeAt(0),wt='"'.charCodeAt(0),Lt="\\".charCodeAt(0),Mt="/".charCodeAt(0),Gt="\n".charCodeAt(0),xt=" ".charCodeAt(0),Ft="\f".charCodeAt(0),Bt="\t".charCodeAt(0),Ut="\r".charCodeAt(0),Ht="[".charCodeAt(0),jt="]".charCodeAt(0),Yt="(".charCodeAt(0),Wt=")".charCodeAt(0),zt="{".charCodeAt(0),qt="}".charCodeAt(0),Qt=";".charCodeAt(0),Vt="*".charCodeAt(0),Kt=":".charCodeAt(0),Xt="@".charCodeAt(0),$t=/[\t\n\f\r "#'()/;[\\\]{}]/g,Jt=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Zt=/.[\r\n"'(/\\]/,es=/[\da-f]/i;var ts=function(e,t={}){let s,r,i,n,o,a,c,h,l,u,p=e.css.valueOf(),d=t.ignoreErrors,f=p.length,T=0,E=[],m=[];function _(t){throw e.error("Unclosed "+t,T)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&T>=f},nextToken:function(e){if(m.length)return m.pop();if(T>=f)return;let t=!!e&&e.ignoreUnclosed;switch(s=p.charCodeAt(T),s){case Gt:case xt:case Bt:case Ut:case Ft:n=T;do{n+=1,s=p.charCodeAt(n)}while(s===xt||s===Gt||s===Bt||s===Ut||s===Ft);a=["space",p.slice(T,n)],T=n-1;break;case Ht:case jt:case zt:case qt:case Kt:case Qt:case Wt:{let e=String.fromCharCode(s);a=[e,e,T];break}case Yt:if(u=E.length?E.pop()[1]:"",l=p.charCodeAt(T+1),"url"===u&&l!==kt&&l!==wt&&l!==xt&&l!==Gt&&l!==Bt&&l!==Ft&&l!==Ut){n=T;do{if(c=!1,n=p.indexOf(")",n+1),-1===n){if(d||t){n=T;break}_("bracket")}for(h=n;p.charCodeAt(h-1)===Lt;)h-=1,c=!c}while(c);a=["brackets",p.slice(T,n+1),T,n],T=n}else n=p.indexOf(")",T+1),r=p.slice(T,n+1),-1===n||Zt.test(r)?a=["(","(",T]:(a=["brackets",r,T,n],T=n);break;case kt:case wt:o=s===kt?"'":'"',n=T;do{if(c=!1,n=p.indexOf(o,n+1),-1===n){if(d||t){n=T+1;break}_("string")}for(h=n;p.charCodeAt(h-1)===Lt;)h-=1,c=!c}while(c);a=["string",p.slice(T,n+1),T,n],T=n;break;case Xt:$t.lastIndex=T+1,$t.test(p),n=0===$t.lastIndex?p.length-1:$t.lastIndex-2,a=["at-word",p.slice(T,n+1),T,n],T=n;break;case Lt:for(n=T,i=!0;p.charCodeAt(n+1)===Lt;)n+=1,i=!i;if(s=p.charCodeAt(n+1),i&&s!==Mt&&s!==xt&&s!==Gt&&s!==Bt&&s!==Ut&&s!==Ft&&(n+=1,es.test(p.charAt(n)))){for(;es.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===xt&&(n+=1)}a=["word",p.slice(T,n+1),T,n],T=n;break;default:s===Mt&&p.charCodeAt(T+1)===Vt?(n=p.indexOf("*/",T+2)+1,0===n&&(d||t?n=p.length:_("comment")),a=["comment",p.slice(T,n+1),T,n],T=n):(Jt.lastIndex=T+1,Jt.test(p),n=0===Jt.lastIndex?p.length-1:Jt.lastIndex-2,a=["word",p.slice(T,n+1),T,n],E.push(a),T=n)}return T++,a},position:function(){return T}}};let ss,rs=vt,is=ts;const ns={";":rs.yellow,":":rs.yellow,"(":rs.cyan,")":rs.cyan,"[":rs.yellow,"]":rs.yellow,"{":rs.yellow,"}":rs.yellow,"at-word":rs.cyan,brackets:rs.cyan,call:rs.cyan,class:rs.yellow,comment:rs.gray,hash:rs.magenta,string:rs.green};function os([e,t],s){if("word"===e){if("."===t[0])return"class";if("#"===t[0])return"hash"}if(!s.endOfFile()){let e=s.nextToken();if(s.back(e),"brackets"===e[0]||"("===e[0])return"call"}return e}function as(e){let t=is(new ss(e),{ignoreErrors:!0}),s="";for(;!t.endOfFile();){let e=t.nextToken(),r=ns[os(e,t)];s+=r?e[1].split(/\r?\n/).map((e=>r(e))).join("\n"):e[1]}return s}as.registerInput=function(e){ss=e};var cs=as;let hs=vt,ls=cs,us=class e extends Error{constructor(t,s,r,i,n,o){super(t),this.name="CssSyntaxError",this.reason=t,n&&(this.file=n),i&&(this.source=i),o&&(this.plugin=o),void 0!==s&&void 0!==r&&("number"==typeof s?(this.line=s,this.column=r):(this.line=s.line,this.column=s.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=hs.isColorSupported);let s=e=>e,r=e=>e,i=e=>e;if(e){let{bold:e,gray:t,red:n}=hs.createColors(!0);r=t=>e(n(t)),s=e=>t(e),ls&&(i=e=>ls(e))}let n=t.split(/\r?\n/),o=Math.max(this.line-3,0),a=Math.min(this.line+2,n.length),c=String(a).length;return n.slice(o,a).map(((e,t)=>{let n=o+1+t,a=" "+(" "+n).slice(-c)+" | ";if(n===this.line){if(e.length>160){let t=20,n=Math.max(0,this.column-t),o=Math.max(this.column+t,this.endColumn+t),c=e.slice(n,o),h=s(a.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,t-1)).replace(/[^\t]/g," ");return r(">")+s(a)+i(c)+"\n "+h+r("^")}let t=s(a.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+s(a)+i(e)+"\n "+t+r("^")}return" "+s(a)+i(e)})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var ps=us;us.default=us;const ds={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let fs=class{constructor(e){this.builder=e}atrule(e,t){let s="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?s+=e.raws.afterName:r&&(s+=" "),e.nodes)this.block(e,s+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(s+r+i,e)}}beforeAfter(e,t){let s;s="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(s.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)s+=t}return s}block(e,t){let s,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),s=this.raw(e,"after")):s=this.raw(e,"after","emptyBody"),s&&this.builder(s),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let s=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],n=this.raw(i,"before");n&&this.builder(n),this.stringify(i,t!==r||s)}}comment(e){let t=this.raw(e,"left","commentLeft"),s=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+s+"*/",e)}decl(e,t){let s=this.raw(e,"between","colon"),r=e.prop+s+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,s){let r;if(s||(s=t),t&&(r=e.raws[t],void 0!==r))return r;let i=e.parent;if("before"===s){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return ds[s];let n=e.root();if(n.rawCache||(n.rawCache={}),void 0!==n.rawCache[s])return n.rawCache[s];if("before"===s||"after"===s)return this.beforeAfter(e,s);{let i="raw"+function(e){return e[0].toUpperCase()+e.slice(1)}(s);this[i]?r=this[i](n,e):n.walk((e=>{if(r=e.raws[t],void 0!==r)return!1}))}return void 0===r&&(r=ds[s]),n.rawCache[s]=r,r}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let s;return e.walkComments((e=>{if(void 0!==e.raws.before)return s=e.raws.before,s.includes("\n")&&(s=s.replace(/[^\n]+$/,"")),!1})),void 0===s?s=this.raw(t,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeDecl(e,t){let s;return e.walkDecls((e=>{if(void 0!==e.raws.before)return s=e.raws.before,s.includes("\n")&&(s=s.replace(/[^\n]+$/,"")),!1})),void 0===s?s=this.raw(t,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((s=>{if(s.nodes&&(s.parent!==e||e.first!==s)&&void 0!==s.raws.before)return t=s.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((s=>{let r=s.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==s.raws.before){let e=s.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let s=e[t],r=e.raws[t];return r&&r.value===s?r.raw:s}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Ts=fs;fs.default=fs;let Es=Ts;function ms(e,t){new Es(t).stringify(e)}var _s=ms;ms.default=ms;var As={};As.isClean=Symbol("isClean"),As.my=Symbol("my");let gs=ps,Ss=Ts,Is=_s,{isClean:Ds,my:Os}=As;function Cs(e,t){let s=new e.constructor;for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("proxyCache"===r)continue;let i=e[r],n=typeof i;"parent"===r&&"object"===n?t&&(s[r]=t):"source"===r?s[r]=i:Array.isArray(i)?s[r]=i.map((e=>Cs(e,s))):("object"===n&&null!==i&&(i=Cs(i)),s[r]=i)}return s}let Ns=class{constructor(e={}){this.raws={},this[Ds]=!1,this[Os]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let s of e[t])"function"==typeof s.clone?this.append(s.clone()):this.append(s)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Cs(this);for(let s in e)t[s]=e[s];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:s,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:s.column,line:s.line},t)}return new gs(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,s)=>(e[t]===s||(e[t]=s,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markClean(){this[Ds]=!0}markDirty(){if(this[Ds]){this[Ds]=!1;let e=this;for(;e=e.parent;)e[Ds]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let s=this.source.start;if(e.index)s=this.positionInside(e.index,t);else if(e.word){let r=(t=this.toString()).indexOf(e.word);-1!==r&&(s=this.positionInside(r,t))}return s}positionInside(e,t){let s=t||this.toString(),r=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===s[t]?(r=1,i+=1):r+=1;return{column:r,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),s=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?s={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?s=this.positionInside(e.endIndex):e.index&&(s=this.positionInside(e.index+1));return(s.line<t.line||s.line===t.line&&s.column<=t.column)&&(s={column:t.column+1,line:t.line}),{end:s,start:t}}raw(e,t){return(new Ss).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,s=!1;for(let r of e)r===this?s=!0:s?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);s||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let s={},r=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let r=this[e];if(Array.isArray(r))s[e]=r.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof r&&r.toJSON)s[e]=r.toJSON(null,t);else if("source"===e){let n=t.get(r.input);null==n&&(n=i,t.set(r.input,i),i++),s[e]={end:r.end,inputId:n,start:r.start}}else s[e]=r}return r&&(s.inputs=[...t.keys()].map((e=>e.toJSON()))),s}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Is){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,s){let r={node:this};for(let e in s)r[e]=s[e];return e.warn(t,r)}get proxyOf(){return this}};var ys=Ns;Ns.default=Ns;let bs=ys,Rs=class extends bs{constructor(e){super(e),this.type="comment"}};var Ps=Rs;Rs.default=Rs;let vs=ys,ks=class extends vs{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var ws=ks;ks.default=ks;let Ls,Ms,Gs,xs,Fs=Ps,Bs=ws,Us=ys,{isClean:Hs,my:js}=As;function Ys(e){return e.map((e=>(e.nodes&&(e.nodes=Ys(e.nodes)),delete e.source,e)))}function Ws(e){if(e[Hs]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)Ws(t)}let zs=class e extends Us{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,s,r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],s=e(this.proxyOf.nodes[t],t),!1!==s);)this.indexes[r]+=1;return delete this.indexes[r],s}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...s)=>e[t](...s.map((e=>"function"==typeof e?(t,s)=>e(t.toProxy(),s):e))):"every"===t||"some"===t?s=>e[t](((e,...t)=>s(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,s)=>(e[t]===s||(e[t]=s,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let s,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let e of i)this.proxyOf.nodes.splice(r+1,0,e);for(let e in this.indexes)s=this.indexes[e],r<s&&(this.indexes[e]=s+i.length);return this.markDirty(),this}insertBefore(e,t){let s,r=this.index(e),i=0===r&&"prepend",n=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let e of n)this.proxyOf.nodes.splice(r,0,e);for(let e in this.indexes)s=this.indexes[e],r<=s&&(this.indexes[e]=s+n.length);return this.markDirty(),this}normalize(t,s){if("string"==typeof t)t=Ys(Ms(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Bs(t)]}else if(t.selector||t.selectors)t=[new xs(t)];else if(t.name)t=[new Ls(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new Fs(t)]}let r=t.map((t=>(t[js]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Hs]&&Ws(t),t.raws||(t.raws={}),void 0===t.raws.before&&s&&void 0!==s.raws.before&&(t.raws.before=s.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)));return r}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let s in this.indexes)t=this.indexes[s],t>=e&&(this.indexes[s]=t-1);return this.markDirty(),this}replaceValues(e,t,s){return s||(s=t,t={}),this.walkDecls((r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,s))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,s)=>{let r;try{r=e(t,s)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((s,r)=>{if("atrule"===s.type&&e.test(s.name))return t(s,r)})):this.walk(((s,r)=>{if("atrule"===s.type&&s.name===e)return t(s,r)})):(t=e,this.walk(((e,s)=>{if("atrule"===e.type)return t(e,s)})))}walkComments(e){return this.walk(((t,s)=>{if("comment"===t.type)return e(t,s)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((s,r)=>{if("decl"===s.type&&e.test(s.prop))return t(s,r)})):this.walk(((s,r)=>{if("decl"===s.type&&s.prop===e)return t(s,r)})):(t=e,this.walk(((e,s)=>{if("decl"===e.type)return t(e,s)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((s,r)=>{if("rule"===s.type&&e.test(s.selector))return t(s,r)})):this.walk(((s,r)=>{if("rule"===s.type&&s.selector===e)return t(s,r)})):(t=e,this.walk(((e,s)=>{if("rule"===e.type)return t(e,s)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};zs.registerParse=e=>{Ms=e},zs.registerRule=e=>{xs=e},zs.registerAtRule=e=>{Ls=e},zs.registerRoot=e=>{Gs=e};var qs=zs;zs.default=zs,zs.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,Ls.prototype):"rule"===e.type?Object.setPrototypeOf(e,xs.prototype):"decl"===e.type?Object.setPrototypeOf(e,Bs.prototype):"comment"===e.type?Object.setPrototypeOf(e,Fs.prototype):"root"===e.type&&Object.setPrototypeOf(e,Gs.prototype),e[js]=!0,e.nodes&&e.nodes.forEach((e=>{zs.rebuild(e)}))};let Qs=qs,Vs=class extends Qs{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var Ks=Vs;Vs.default=Vs,Qs.registerAtRule(Vs);let Xs,$s,Js=qs,Zs=class extends Js{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new Xs(new $s,this,e).stringify()}};Zs.registerLazyResult=e=>{Xs=e},Zs.registerProcessor=e=>{$s=e};var er=Zs;Zs.default=Zs;var tr={nanoid:(e=21)=>{let t="",s=e;for(;s--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(s=t)=>{let r="",i=s;for(;i--;)r+=e[Math.random()*e.length|0];return r}},sr={},rr={},ir={},nr={},or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");nr.encode=function(e){if(0<=e&&e<or.length)return or[e];throw new TypeError("Must be between 0 and 63: "+e)},nr.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var ar=nr;ir.encode=function(e){var t,s="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),s+=ar.encode(t)}while(r>0);return s},ir.decode=function(e,t,s){var r,i,n,o,a=e.length,c=0,h=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=ar.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&i),c+=(i&=31)<<h,h+=5}while(r);s.value=(o=(n=c)>>1,1&~n?o:-o),s.rest=t};var cr={};!function(e){e.getArg=function(e,t,s){if(t in e)return e[t];if(3===arguments.length)return s;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,s=/^data:.+\,.+$/;function r(e){var s=e.match(t);return s?{scheme:s[1],auth:s[2],host:s[3],port:s[4],path:s[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}e.urlParse=r,e.urlGenerate=i;var n=function(e){var t=[];return function(s){for(var r=0;r<t.length;r++)if(t[r].input===s){var i=t[0];return t[0]=t[r],t[r]=i,t[0].result}var n=e(s);return t.unshift({input:s,result:n}),t.length>32&&t.pop(),n}}((function(t){var s=t,n=r(t);if(n){if(!n.path)return t;s=n.path}for(var o=e.isAbsolute(s),a=[],c=0,h=0;;){if(c=h,-1===(h=s.indexOf("/",c))){a.push(s.slice(c));break}for(a.push(s.slice(c,h));h<s.length&&"/"===s[h];)h++}var l,u=0;for(h=a.length-1;h>=0;h--)"."===(l=a[h])?a.splice(h,1):".."===l?u++:u>0&&(""===l?(a.splice(h+1,u),u=0):(a.splice(h,2),u--));return""===(s=a.join("/"))&&(s=o?"/":"."),n?(n.path=s,i(n)):s}));function o(e,t){""===e&&(e="."),""===t&&(t=".");var o=r(t),a=r(e);if(a&&(e=a.path||"/"),o&&!o.scheme)return a&&(o.scheme=a.scheme),i(o);if(o||t.match(s))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var c="/"===t.charAt(0)?t:n(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c}e.normalize=n,e.join=o,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var s=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++s}return Array(s+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var s=t-10;s>=0;s--)if(36!==e.charCodeAt(s))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?c:function(e){return h(e)?"$"+e:e},e.fromSetString=a?c:function(e){return h(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,s){var r=l(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||s||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:l(e.name,t.name)},e.compareByOriginalPositionsNoSource=function(e,t,s){var r;return 0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||s||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:l(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,s){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||s||0!==(r=l(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:l(e.name,t.name)},e.compareByGeneratedPositionsDeflatedNoLine=function(e,t,s){var r=e.generatedColumn-t.generatedColumn;return 0!==r||s||0!==(r=l(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:l(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var s=e.generatedLine-t.generatedLine;return 0!==s||0!==(s=e.generatedColumn-t.generatedColumn)||0!==(s=l(e.source,t.source))||0!==(s=e.originalLine-t.originalLine)||0!==(s=e.originalColumn-t.originalColumn)?s:l(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,s){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),s){var a=r(s);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var c=a.path.lastIndexOf("/");c>=0&&(a.path=a.path.substring(0,c+1))}t=o(i(a),t)}return n(t)}}(cr);var hr={},lr=cr,ur=Object.prototype.hasOwnProperty,pr="undefined"!=typeof Map;function dr(){this._array=[],this._set=pr?new Map:Object.create(null)}dr.fromArray=function(e,t){for(var s=new dr,r=0,i=e.length;r<i;r++)s.add(e[r],t);return s},dr.prototype.size=function(){return pr?this._set.size:Object.getOwnPropertyNames(this._set).length},dr.prototype.add=function(e,t){var s=pr?e:lr.toSetString(e),r=pr?this.has(e):ur.call(this._set,s),i=this._array.length;r&&!t||this._array.push(e),r||(pr?this._set.set(e,i):this._set[s]=i)},dr.prototype.has=function(e){if(pr)return this._set.has(e);var t=lr.toSetString(e);return ur.call(this._set,t)},dr.prototype.indexOf=function(e){if(pr){var t=this._set.get(e);if(t>=0)return t}else{var s=lr.toSetString(e);if(ur.call(this._set,s))return this._set[s]}throw new Error('"'+e+'" is not in the set.')},dr.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},dr.prototype.toArray=function(){return this._array.slice()},hr.ArraySet=dr;var fr={},Tr=cr;function Er(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Er.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},Er.prototype.add=function(e){var t,s,r,i,n,o;t=this._last,s=e,r=t.generatedLine,i=s.generatedLine,n=t.generatedColumn,o=s.generatedColumn,i>r||i==r&&o>=n||Tr.compareByGeneratedPositionsInflated(t,s)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},Er.prototype.toArray=function(){return this._sorted||(this._array.sort(Tr.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},fr.MappingList=Er;var mr=ir,_r=cr,Ar=hr.ArraySet,gr=fr.MappingList;function Sr(e){e||(e={}),this._file=_r.getArg(e,"file",null),this._sourceRoot=_r.getArg(e,"sourceRoot",null),this._skipValidation=_r.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=_r.getArg(e,"ignoreInvalidMapping",!1),this._sources=new Ar,this._names=new Ar,this._mappings=new gr,this._sourcesContents=null}Sr.prototype._version=3,Sr.fromSourceMap=function(e,t){var s=e.sourceRoot,r=new Sr(Object.assign(t||{},{file:e.file,sourceRoot:s}));return e.eachMapping((function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=s&&(t.source=_r.relative(s,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),r.addMapping(t)})),e.sources.forEach((function(t){var i=t;null!==s&&(i=_r.relative(s,t)),r._sources.has(i)||r._sources.add(i);var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)})),r},Sr.prototype.addMapping=function(e){var t=_r.getArg(e,"generated"),s=_r.getArg(e,"original",null),r=_r.getArg(e,"source",null),i=_r.getArg(e,"name",null);(this._skipValidation||!1!==this._validateMapping(t,s,r,i))&&(null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=s&&s.line,originalColumn:null!=s&&s.column,source:r,name:i}))},Sr.prototype.setSourceContent=function(e,t){var s=e;null!=this._sourceRoot&&(s=_r.relative(this._sourceRoot,s)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[_r.toSetString(s)]=t):this._sourcesContents&&(delete this._sourcesContents[_r.toSetString(s)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},Sr.prototype.applySourceMap=function(e,t,s){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=_r.relative(i,r));var n=new Ar,o=new Ar;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=s&&(t.source=_r.join(s,t.source)),null!=i&&(t.source=_r.relative(i,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||n.has(c)||n.add(c);var h=t.name;null==h||o.has(h)||o.add(h)}),this),this._sources=n,this._names=o,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=s&&(t=_r.join(s,t)),null!=i&&(t=_r.relative(i,t)),this.setSourceContent(t,r))}),this)},Sr.prototype._validateMapping=function(e,t,s,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column){var i="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(i),!1;throw new Error(i)}if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||s||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&s)){i="Invalid mapping: "+JSON.stringify({generated:e,source:s,original:t,name:r});if(this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(i),!1;throw new Error(i)}},Sr.prototype._serializeMappings=function(){for(var e,t,s,r,i=0,n=1,o=0,a=0,c=0,h=0,l="",u=this._mappings.toArray(),p=0,d=u.length;p<d;p++){if(e="",(t=u[p]).generatedLine!==n)for(i=0;t.generatedLine!==n;)e+=";",n++;else if(p>0){if(!_r.compareByGeneratedPositionsInflated(t,u[p-1]))continue;e+=","}e+=mr.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=mr.encode(r-h),h=r,e+=mr.encode(t.originalLine-1-a),a=t.originalLine-1,e+=mr.encode(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(s=this._names.indexOf(t.name),e+=mr.encode(s-c),c=s)),l+=e}return l},Sr.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=_r.relative(t,e));var s=_r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null}),this)},Sr.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},Sr.prototype.toString=function(){return JSON.stringify(this.toJSON())},rr.SourceMapGenerator=Sr;var Ir={},Dr={};!function(e){function t(s,r,i,n,o,a){var c=Math.floor((r-s)/2)+s,h=o(i,n[c],!0);return 0===h?c:h>0?r-c>1?t(c,r,i,n,o,a):a==e.LEAST_UPPER_BOUND?r<n.length?r:-1:c:c-s>1?t(s,c,i,n,o,a):a==e.LEAST_UPPER_BOUND?c:s<0?-1:s}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(s,r,i,n){if(0===r.length)return-1;var o=t(-1,r.length,s,r,i,n||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(r[o],r[o-1],!0);)--o;return o}}(Dr);var Or={};function Cr(e){function t(e,t,s){var r=e[t];e[t]=e[s],e[s]=r}return function e(s,r,i,n){if(i<n){var o=i-1;t(s,(l=i,u=n,Math.round(l+Math.random()*(u-l))),n);for(var a=s[n],c=i;c<n;c++)r(s[c],a,!1)<=0&&t(s,o+=1,c);t(s,o+1,c);var h=o+1;e(s,r,i,h-1),e(s,r,h+1,n)}var l,u}}let Nr=new WeakMap;Or.quickSort=function(e,t,s=0){let r=Nr.get(t);void 0===r&&(r=function(e){let t=Cr.toString();return new Function(`return ${t}`)()(e)}(t),Nr.set(t,r)),r(e,t,s,e.length-1)};var yr=cr,br=Dr,Rr=hr.ArraySet,Pr=ir,vr=Or.quickSort;function kr(e,t){var s=e;return"string"==typeof e&&(s=yr.parseSourceMapInput(e)),null!=s.sections?new xr(s,t):new wr(s,t)}function wr(e,t){var s=e;"string"==typeof e&&(s=yr.parseSourceMapInput(e));var r=yr.getArg(s,"version"),i=yr.getArg(s,"sources"),n=yr.getArg(s,"names",[]),o=yr.getArg(s,"sourceRoot",null),a=yr.getArg(s,"sourcesContent",null),c=yr.getArg(s,"mappings"),h=yr.getArg(s,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o&&(o=yr.normalize(o)),i=i.map(String).map(yr.normalize).map((function(e){return o&&yr.isAbsolute(o)&&yr.isAbsolute(e)?yr.relative(o,e):e})),this._names=Rr.fromArray(n.map(String),!0),this._sources=Rr.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map((function(e){return yr.computeSourceURL(o,e,t)})),this.sourceRoot=o,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=h}function Lr(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}kr.fromSourceMap=function(e,t){return wr.fromSourceMap(e,t)},kr.prototype._version=3,kr.prototype.__generatedMappings=null,Object.defineProperty(kr.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),kr.prototype.__originalMappings=null,Object.defineProperty(kr.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),kr.prototype._charIsMappingSeparator=function(e,t){var s=e.charAt(t);return";"===s||","===s},kr.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},kr.GENERATED_ORDER=1,kr.ORIGINAL_ORDER=2,kr.GREATEST_LOWER_BOUND=1,kr.LEAST_UPPER_BOUND=2,kr.prototype.eachMapping=function(e,t,s){var r,i=t||null;switch(s||kr.GENERATED_ORDER){case kr.GENERATED_ORDER:r=this._generatedMappings;break;case kr.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var n=this.sourceRoot,o=e.bind(i),a=this._names,c=this._sources,h=this._sourceMapURL,l=0,u=r.length;l<u;l++){var p=r[l],d=null===p.source?null:c.at(p.source);null!==d&&(d=yr.computeSourceURL(n,d,h)),o({source:d,generatedLine:p.generatedLine,generatedColumn:p.generatedColumn,originalLine:p.originalLine,originalColumn:p.originalColumn,name:null===p.name?null:a.at(p.name)})}},kr.prototype.allGeneratedPositionsFor=function(e){var t=yr.getArg(e,"line"),s={source:yr.getArg(e,"source"),originalLine:t,originalColumn:yr.getArg(e,"column",0)};if(s.source=this._findSourceIndex(s.source),s.source<0)return[];var r=[],i=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",yr.compareByOriginalPositions,br.LEAST_UPPER_BOUND);if(i>=0){var n=this._originalMappings[i];if(void 0===e.column)for(var o=n.originalLine;n&&n.originalLine===o;)r.push({line:yr.getArg(n,"generatedLine",null),column:yr.getArg(n,"generatedColumn",null),lastColumn:yr.getArg(n,"lastGeneratedColumn",null)}),n=this._originalMappings[++i];else for(var a=n.originalColumn;n&&n.originalLine===t&&n.originalColumn==a;)r.push({line:yr.getArg(n,"generatedLine",null),column:yr.getArg(n,"generatedColumn",null),lastColumn:yr.getArg(n,"lastGeneratedColumn",null)}),n=this._originalMappings[++i]}return r},Ir.SourceMapConsumer=kr,wr.prototype=Object.create(kr.prototype),wr.prototype.consumer=kr,wr.prototype._findSourceIndex=function(e){var t,s=e;if(null!=this.sourceRoot&&(s=yr.relative(this.sourceRoot,s)),this._sources.has(s))return this._sources.indexOf(s);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},wr.fromSourceMap=function(e,t){var s=Object.create(wr.prototype),r=s._names=Rr.fromArray(e._names.toArray(),!0),i=s._sources=Rr.fromArray(e._sources.toArray(),!0);s.sourceRoot=e._sourceRoot,s.sourcesContent=e._generateSourcesContent(s._sources.toArray(),s.sourceRoot),s.file=e._file,s._sourceMapURL=t,s._absoluteSources=s._sources.toArray().map((function(e){return yr.computeSourceURL(s.sourceRoot,e,t)}));for(var n=e._mappings.toArray().slice(),o=s.__generatedMappings=[],a=s.__originalMappings=[],c=0,h=n.length;c<h;c++){var l=n[c],u=new Lr;u.generatedLine=l.generatedLine,u.generatedColumn=l.generatedColumn,l.source&&(u.source=i.indexOf(l.source),u.originalLine=l.originalLine,u.originalColumn=l.originalColumn,l.name&&(u.name=r.indexOf(l.name)),a.push(u)),o.push(u)}return vr(s.__originalMappings,yr.compareByOriginalPositions),s},wr.prototype._version=3,Object.defineProperty(wr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});const Mr=yr.compareByGeneratedPositionsDeflatedNoLine;function Gr(e,t){let s=e.length,r=e.length-t;if(!(r<=1))if(2==r){let s=e[t],r=e[t+1];Mr(s,r)>0&&(e[t]=r,e[t+1]=s)}else if(r<20)for(let r=t;r<s;r++)for(let s=r;s>t;s--){let t=e[s-1],r=e[s];if(Mr(t,r)<=0)break;e[s-1]=r,e[s]=t}else vr(e,Mr,t)}function xr(e,t){var s=e;"string"==typeof e&&(s=yr.parseSourceMapInput(e));var r=yr.getArg(s,"version"),i=yr.getArg(s,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Rr,this._names=new Rr;var n={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var s=yr.getArg(e,"offset"),r=yr.getArg(s,"line"),i=yr.getArg(s,"column");if(r<n.line||r===n.line&&i<n.column)throw new Error("Section offsets must be ordered and non-overlapping.");return n=s,{generatedOffset:{generatedLine:r+1,generatedColumn:i+1},consumer:new kr(yr.getArg(e,"map"),t)}}))}wr.prototype._parseMappings=function(e,t){var s,r,i,n,o=1,a=0,c=0,h=0,l=0,u=0,p=e.length,d=0,f={},T=[],E=[];let m=0;for(;d<p;)if(";"===e.charAt(d))o++,d++,a=0,Gr(E,m),m=E.length;else if(","===e.charAt(d))d++;else{for((s=new Lr).generatedLine=o,i=d;i<p&&!this._charIsMappingSeparator(e,i);i++);for(e.slice(d,i),r=[];d<i;)Pr.decode(e,d,f),n=f.value,d=f.rest,r.push(n);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");if(s.generatedColumn=a+r[0],a=s.generatedColumn,r.length>1&&(s.source=l+r[1],l+=r[1],s.originalLine=c+r[2],c=s.originalLine,s.originalLine+=1,s.originalColumn=h+r[3],h=s.originalColumn,r.length>4&&(s.name=u+r[4],u+=r[4])),E.push(s),"number"==typeof s.originalLine){let e=s.source;for(;T.length<=e;)T.push(null);null===T[e]&&(T[e]=[]),T[e].push(s)}}Gr(E,m),this.__generatedMappings=E;for(var _=0;_<T.length;_++)null!=T[_]&&vr(T[_],yr.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...T)},wr.prototype._findMapping=function(e,t,s,r,i,n){if(e[s]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[s]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return br.search(e,t,i,n)},wr.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var s=this._generatedMappings[e+1];if(t.generatedLine===s.generatedLine){t.lastGeneratedColumn=s.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},wr.prototype.originalPositionFor=function(e){var t={generatedLine:yr.getArg(e,"line"),generatedColumn:yr.getArg(e,"column")},s=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",yr.compareByGeneratedPositionsDeflated,yr.getArg(e,"bias",kr.GREATEST_LOWER_BOUND));if(s>=0){var r=this._generatedMappings[s];if(r.generatedLine===t.generatedLine){var i=yr.getArg(r,"source",null);null!==i&&(i=this._sources.at(i),i=yr.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var n=yr.getArg(r,"name",null);return null!==n&&(n=this._names.at(n)),{source:i,line:yr.getArg(r,"originalLine",null),column:yr.getArg(r,"originalColumn",null),name:n}}}return{source:null,line:null,column:null,name:null}},wr.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},wr.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var s=this._findSourceIndex(e);if(s>=0)return this.sourcesContent[s];var r,i=e;if(null!=this.sourceRoot&&(i=yr.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(r=yr.urlParse(this.sourceRoot))){var n=i.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!r.path||"/"==r.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')},wr.prototype.generatedPositionFor=function(e){var t=yr.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var s={source:t,originalLine:yr.getArg(e,"line"),originalColumn:yr.getArg(e,"column")},r=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",yr.compareByOriginalPositions,yr.getArg(e,"bias",kr.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===s.source)return{line:yr.getArg(i,"generatedLine",null),column:yr.getArg(i,"generatedColumn",null),lastColumn:yr.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Ir.BasicSourceMapConsumer=wr,xr.prototype=Object.create(kr.prototype),xr.prototype.constructor=kr,xr.prototype._version=3,Object.defineProperty(xr.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var s=0;s<this._sections[t].consumer.sources.length;s++)e.push(this._sections[t].consumer.sources[s]);return e}}),xr.prototype.originalPositionFor=function(e){var t={generatedLine:yr.getArg(e,"line"),generatedColumn:yr.getArg(e,"column")},s=br.search(t,this._sections,(function(e,t){var s=e.generatedLine-t.generatedOffset.generatedLine;return s||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[s];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},xr.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},xr.prototype.sourceContentFor=function(e,t){for(var s=0;s<this._sections.length;s++){var r=this._sections[s].consumer.sourceContentFor(e,!0);if(r||""===r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},xr.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var s=this._sections[t];if(-1!==s.consumer._findSourceIndex(yr.getArg(e,"source"))){var r=s.consumer.generatedPositionFor(e);if(r)return{line:r.line+(s.generatedOffset.generatedLine-1),column:r.column+(s.generatedOffset.generatedLine===r.line?s.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},xr.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var s=0;s<this._sections.length;s++)for(var r=this._sections[s],i=r.consumer._generatedMappings,n=0;n<i.length;n++){var o=i[n],a=r.consumer._sources.at(o.source);null!==a&&(a=yr.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL)),this._sources.add(a),a=this._sources.indexOf(a);var c=null;o.name&&(c=r.consumer._names.at(o.name),this._names.add(c),c=this._names.indexOf(c));var h={source:a,generatedLine:o.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(r.generatedOffset.generatedLine===o.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:c};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}vr(this.__generatedMappings,yr.compareByGeneratedPositionsDeflated),vr(this.__originalMappings,yr.compareByOriginalPositions)},Ir.IndexedSourceMapConsumer=xr;var Fr={},Br=rr.SourceMapGenerator,Ur=cr,Hr=/(\r?\n)/,jr="$$$isSourceNode$$$";function Yr(e,t,s,r,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=s??null,this.name=i??null,this[jr]=!0,null!=r&&this.add(r)}Yr.fromStringWithSourceMap=function(e,t,s){var r=new Yr,i=e.split(Hr),n=0,o=function(){return e()+(e()||"");function e(){return n<i.length?i[n++]:void 0}},a=1,c=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(a<e.generatedLine)){var t=(s=i[n]||"").substr(0,e.generatedColumn-c);return i[n]=s.substr(e.generatedColumn-c),c=e.generatedColumn,l(h,t),void(h=e)}l(h,o()),a++,c=0}for(;a<e.generatedLine;)r.add(o()),a++;if(c<e.generatedColumn){var s=i[n]||"";r.add(s.substr(0,e.generatedColumn)),i[n]=s.substr(e.generatedColumn),c=e.generatedColumn}h=e}),this),n<i.length&&(h&&l(h,o()),r.add(i.splice(n).join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=s&&(e=Ur.join(s,e)),r.setSourceContent(e,i))})),r;function l(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=s?Ur.join(s,e.source):e.source;r.add(new Yr(e.originalLine,e.originalColumn,i,t,e.name))}}},Yr.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[jr]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},Yr.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[jr]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},Yr.prototype.walk=function(e){for(var t,s=0,r=this.children.length;s<r;s++)(t=this.children[s])[jr]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},Yr.prototype.join=function(e){var t,s,r=this.children.length;if(r>0){for(t=[],s=0;s<r-1;s++)t.push(this.children[s]),t.push(e);t.push(this.children[s]),this.children=t}return this},Yr.prototype.replaceRight=function(e,t){var s=this.children[this.children.length-1];return s[jr]?s.replaceRight(e,t):"string"==typeof s?this.children[this.children.length-1]=s.replace(e,t):this.children.push("".replace(e,t)),this},Yr.prototype.setSourceContent=function(e,t){this.sourceContents[Ur.toSetString(e)]=t},Yr.prototype.walkSourceContents=function(e){for(var t=0,s=this.children.length;t<s;t++)this.children[t][jr]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,s=r.length;t<s;t++)e(Ur.fromSetString(r[t]),this.sourceContents[r[t]])},Yr.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},Yr.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},s=new Br(e),r=!1,i=null,n=null,o=null,a=null;return this.walk((function(e,c){t.code+=e,null!==c.source&&null!==c.line&&null!==c.column?(i===c.source&&n===c.line&&o===c.column&&a===c.name||s.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),i=c.source,n=c.line,o=c.column,a=c.name,r=!0):r&&(s.addMapping({generated:{line:t.line,column:t.column}}),i=null,r=!1);for(var h=0,l=e.length;h<l;h++)10===e.charCodeAt(h)?(t.line++,t.column=0,h+1===l?(i=null,r=!1):r&&s.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++})),this.walkSourceContents((function(e,t){s.setSourceContent(e,t)})),{code:t.code,map:s}},Fr.SourceNode=Yr,sr.SourceMapGenerator=rr.SourceMapGenerator,sr.SourceMapConsumer=Ir.SourceMapConsumer,sr.SourceNode=Fr.SourceNode;let{existsSync:Wr,readFileSync:zr}=e,{dirname:qr,join:Qr}=s,{SourceMapConsumer:Vr,SourceMapGenerator:Kr}=sr;let Xr=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let s=t.map?t.map.prev:void 0,r=this.loadMap(t.from,s);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=qr(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new Vr(this.text)),this.consumerCache}decodeInline(e){let t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));let s=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(s)return function(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}(e.substr(s[0].length));let r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let s=e.lastIndexOf(t.pop()),r=e.indexOf("*/",s);s>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(s,r)))}loadFile(e){if(this.root=qr(e),Wr(e))return this.mapFile=e,zr(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof Vr)return Kr.fromSourceMap(t).toString();if(t instanceof Kr)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let s=t(e);if(s){let e=this.loadFile(s);if(!e)throw new Error("Unable to load previous source map: "+s.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=Qr(qr(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var $r=Xr;Xr.default=Xr;let{nanoid:Jr}=tr,{isAbsolute:Zr,resolve:ei}=s,{SourceMapConsumer:ti,SourceMapGenerator:si}=sr,{fileURLToPath:ri,pathToFileURL:ii}=t,ni=ps,oi=$r,ai=cs,ci=Symbol("fromOffsetCache"),hi=Boolean(ti&&si),li=Boolean(ei&&Zr),ui=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!li||/^\w+:\/\//.test(t.from)||Zr(t.from)?this.file=t.from:this.file=ei(t.from)),li&&hi){let e=new oi(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+Jr(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,s,r={}){let i,n,o;if(t&&"object"==typeof t){let e=t,r=s;if("number"==typeof e.offset){let r=this.fromOffset(e.offset);t=r.line,s=r.col}else t=e.line,s=e.column;if("number"==typeof r.offset){let e=this.fromOffset(r.offset);n=e.line,i=e.col}else n=r.line,i=r.column}else if(!s){let e=this.fromOffset(t);t=e.line,s=e.col}let a=this.origin(t,s,n,i);return o=a?new ni(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):new ni(e,void 0===n?t:{column:s,line:t},void 0===n?s:{column:i,line:n},this.css,this.file,r.plugin),o.input={column:s,endColumn:i,endLine:n,line:t,source:this.css},this.file&&(ii&&(o.input.url=ii(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,s;if(this[ci])s=this[ci];else{let e=this.css.split("\n");s=new Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)s[r]=t,t+=e[r].length+1;this[ci]=s}t=s[s.length-1];let r=0;if(e>=t)r=s.length-1;else{let t,i=s.length-2;for(;r<i;)if(t=r+(i-r>>1),e<s[t])i=t-1;else{if(!(e>=s[t+1])){r=t;break}r=t+1}}return{col:e-s[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:ei(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,s,r){if(!this.map)return!1;let i,n,o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof s&&(i=o.originalPositionFor({column:r,line:s})),n=Zr(a.source)?ii(a.source):new URL(a.source,this.map.consumer().sourceRoot||ii(this.map.mapFile));let c={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:n.toString()};if("file:"===n.protocol){if(!ri)throw new Error("file: protocol is not available in this PostCSS build");c.file=ri(n)}let h=o.sourceContentFor(a.source);return h&&(c.source=h),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var pi=ui;ui.default=ui,ai&&ai.registerInput&&ai.registerInput(ui);let di,fi,Ti=qs,Ei=class extends Ti{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,s){let r=super.normalize(e);if(t)if("prepend"===s)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of r)e.raws.before=t.raws.before;return r}removeChild(e,t){let s=this.index(e);return!t&&0===s&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),super.removeChild(e)}toResult(e={}){return new di(new fi,this,e).stringify()}};Ei.registerLazyResult=e=>{di=e},Ei.registerProcessor=e=>{fi=e};var mi=Ei;Ei.default=Ei,Ti.registerRoot(Ei);let _i={comma:e=>_i.split(e,[","],!0),space:e=>_i.split(e,[" ","\n","\t"]),split(e,t,s){let r=[],i="",n=!1,o=0,a=!1,c="",h=!1;for(let s of e)h?h=!1:"\\"===s?h=!0:a?s===c&&(a=!1):'"'===s||"'"===s?(a=!0,c=s):"("===s?o+=1:")"===s?o>0&&(o-=1):0===o&&t.includes(s)&&(n=!0),n?(""!==i&&r.push(i.trim()),i="",n=!1):i+=s;return(s||""!==i)&&r.push(i.trim()),r}};var Ai=_i;_i.default=_i;let gi=qs,Si=Ai,Ii=class extends gi{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Si.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,s=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(s)}};var Di=Ii;Ii.default=Ii,gi.registerRule(Ii);let Oi=Ks,Ci=Ps,Ni=ws,yi=pi,bi=$r,Ri=mi,Pi=Di;function vi(e,t){if(Array.isArray(e))return e.map((e=>vi(e)));let{inputs:s,...r}=e;if(s){t=[];for(let e of s){let s={...e,__proto__:yi.prototype};s.map&&(s.map={...s.map,__proto__:bi.prototype}),t.push(s)}}if(r.nodes&&(r.nodes=e.nodes.map((e=>vi(e,t)))),r.source){let{inputId:e,...s}=r.source;r.source=s,null!=e&&(r.source.input=t[e])}if("root"===r.type)return new Ri(r);if("decl"===r.type)return new Ni(r);if("rule"===r.type)return new Pi(r);if("comment"===r.type)return new Ci(r);if("atrule"===r.type)return new Oi(r);throw new Error("Unknown node type: "+e.type)}var ki=vi;vi.default=vi;let{dirname:wi,relative:Li,resolve:Mi,sep:Gi}=s,{SourceMapConsumer:xi,SourceMapGenerator:Fi}=sr,{pathToFileURL:Bi}=t,Ui=pi,Hi=Boolean(xi&&Fi),ji=Boolean(wi&&Mi&&Li&&Gi);var Yi=class{constructor(e,t,s,r){this.stringify=e,this.mapOpts=s.map||{},this.root=t,this.opts=s,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,s=this.toUrl(this.path(e.file)),r=e.root||wi(e.file);!1===this.mapOpts.sourcesContent?(t=new xi(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,s,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),ji&&Hi&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Fi.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Fi({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Fi({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,s=1,r=1,i="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,c)=>{if(this.css+=o,a&&"end"!==c&&(n.generated.line=s,n.generated.column=r-1,a.source&&a.source.start?(n.source=this.sourcePath(a),n.original.line=a.source.start.line,n.original.column=a.source.start.column-1,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,this.map.addMapping(n))),t=o.match(/\n/g),t?(s+=t.length,e=o.lastIndexOf("\n"),r=o.length-e):r+=o.length,a&&"start"!==c){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(n.source=this.sourcePath(a),n.original.line=a.source.end.line,n.original.column=a.source.end.column-1,n.generated.line=s,n.generated.column=r-2,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,n.generated.line=s,n.generated.column=r-1,this.map.addMapping(n)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let s=this.opts.to?wi(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(s=wi(Mi(s,this.mapOpts.annotation)));let r=Li(s,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new Ui(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let s=t.source.input.from;if(s&&!e[s]){e[s]=!0;let r=this.usesFileUrls?this.toFileUrl(s):this.toUrl(this.path(s));this.map.setSourceContent(r,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Bi){let t=Bi(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===Gi&&(e=e.replace(/\\/g,"/"));let s=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,s),s}};let Wi=Ks,zi=Ps,qi=ws,Qi=mi,Vi=Di,Ki=ts;const Xi={empty:!0,space:!0};var $i=class{constructor(e){this.input=e,this.root=new Qi,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,s,r,i=new Wi;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let n=!1,o=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(r=a.length-1,s=a[r];s&&"space"===s[0];)s=a[--r];s&&(i.source.end=this.getPosition(s[3]||s[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){n=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),n&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let s,r=0;for(let i=t-1;i>=0&&(s=e[i],"space"===s[0]||(r+=1,2!==r));i--);throw this.input.error("Missed semicolon","word"===s[0]?s[3]+1:s[2])}colon(e){let t,s,r,i=0;for(let[n,o]of e.entries()){if(s=o,r=s[0],"("===r&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(t){if("word"===t[0]&&"progid"===t[1])continue;return n}this.doubleColon(s)}t=s}return!1}comment(e){let t=new zi;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let s=e[1].slice(2,-2);if(/^\s*$/.test(s))t.text="",t.raws.left=s,t.raws.right="";else{let e=s.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=Ki(this.input)}decl(e,t){let s=new qi;this.init(s,e[0][2]);let r,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),s.source.end=this.getPosition(i[3]||i[2]||function(e){for(let t=e.length-1;t>=0;t--){let s=e[t],r=s[3]||s[2];if(r)return r}}(e)),s.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),s.raws.before+=e.shift()[1];for(s.source.start=this.getPosition(e[0][2]),s.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;s.prop+=e.shift()[1]}for(s.raws.between="";e.length;){if(r=e.shift(),":"===r[0]){s.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),s.raws.between+=r[1]}"_"!==s.prop[0]&&"*"!==s.prop[0]||(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let n,o=[];for(;e.length&&(n=e[0][0],"space"===n||"comment"===n);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(r=e[t],"!important"===r[1].toLowerCase()){s.important=!0;let r=this.stringFrom(e,t);r=this.spacesFromEnd(e)+r," !important"!==r&&(s.raws.important=r);break}if("important"===r[1].toLowerCase()){let r=e.slice(0),i="";for(let e=t;e>0;e--){let t=r[e][0];if(i.trim().startsWith("!")&&"space"!==t)break;i=r.pop()[1]+i}i.trim().startsWith("!")&&(s.important=!0,s.raws.important=i,e=r)}if("space"!==r[0]&&"comment"!==r[0])break}let a=e.some((e=>"space"!==e[0]&&"comment"!==e[0]));a&&(s.raws.between+=o.map((e=>e[1])).join(""),o=[]),this.raw(s,"value",o.concat(e),t),s.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Vi;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,s=null,r=!1,i=null,n=[],o=e[1].startsWith("--"),a=[],c=e;for(;c;){if(s=c[0],a.push(c),"("===s||"["===s)i||(i=c),n.push("("===s?")":"]");else if(o&&r&&"{"===s)i||(i=c),n.push("}");else if(0===n.length){if(";"===s){if(r)return void this.decl(a,o);break}if("{"===s)return void this.rule(a);if("}"===s){this.tokenizer.back(a.pop()),t=!0;break}":"===s&&(r=!0)}else s===n[n.length-1]&&(n.pop(),0===n.length&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),n.length>0&&this.unclosedBracket(i),t&&r){if(!o)for(;a.length&&(c=a[a.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,s,r){let i,n,o,a,c=s.length,h="",l=!0;for(let e=0;e<c;e+=1)i=s[e],n=i[0],"space"!==n||e!==c-1||r?"comment"===n?(a=s[e-1]?s[e-1][0]:"empty",o=s[e+1]?s[e+1][0]:"empty",Xi[a]||Xi[o]||","===h.slice(-1)?l=!1:h+=i[1]):h+=i[1]:l=!1;if(!l){let r=s.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:r,value:h}}e[t]=h}rule(e){e.pop();let t=new Vi;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,s="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)s=e.pop()[1]+s;return s}spacesAndCommentsFromStart(e){let t,s="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)s+=e.shift()[1];return s}spacesFromEnd(e){let t,s="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)s=e.pop()[1]+s;return s}stringFrom(e,t){let s="";for(let r=t;r<e.length;r++)s+=e[r][1];return e.splice(t,e.length-t),s}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let Ji=qs,Zi=pi,en=$i;function tn(e,t){let s=new Zi(e,t),r=new en(s);try{r.parse()}catch(e){throw"production"!==process.env.NODE_ENV&&"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return r.root}var sn=tn;tn.default=tn,Ji.registerParse(tn);let rn=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var nn=rn;rn.default=rn;let on=nn,an=class{constructor(e,t,s){this.processor=e,this.messages=[],this.root=t,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let s=new on(e,t);return this.messages.push(s),s}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var cn=an;an.default=an;let hn={};var ln=function(e){hn[e]||(hn[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))};let un=qs,pn=er,dn=Yi,fn=sn,Tn=cn,En=mi,mn=_s,{isClean:_n,my:An}=As,gn=ln;const Sn={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},In={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Dn={Once:!0,postcssPlugin:!0,prepare:!0};function On(e){return"object"==typeof e&&"function"==typeof e.then}function Cn(e){let t=!1,s=Sn[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[s,s+"-"+t,0,s+"Exit",s+"Exit-"+t]:t?[s,s+"-"+t,s+"Exit",s+"Exit-"+t]:e.append?[s,0,s+"Exit"]:[s,s+"Exit"]}function Nn(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:Cn(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function yn(e){return e[_n]=!1,e.nodes&&e.nodes.forEach((e=>yn(e))),e}let bn={},Rn=class e{constructor(t,s,r){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof s||null===s||"root"!==s.type&&"document"!==s.type)if(s instanceof e||s instanceof Tn)i=yn(s.root),s.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=s.map);else{let e=fn;r.syntax&&(e=r.syntax.parse),r.parser&&(e=r.parser),e.parse&&(e=e.parse);try{i=e(s,r)}catch(e){this.processed=!0,this.error=e}i&&!i[An]&&un.rebuild(i)}else i=yn(s);this.result=new Tn(t,i,r),this.helpers={...bn,postcss:bn,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let s=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(s.postcssVersion&&"production"!==process.env.NODE_ENV){let e=s.postcssPlugin,t=s.postcssVersion,r=this.result.processor.version,i=t.split("."),n=r.split(".");(i[0]!==n[0]||parseInt(i[1])>parseInt(n[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+r+", but "+e+" uses "+t+". Perhaps this is the source of the error below.")}}else e.plugin=s.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,s)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,s])};for(let t of this.plugins)if("object"==typeof t)for(let s in t){if(!In[s]&&/^[A-Z]/.test(s))throw new Error(`Unknown event ${s} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Dn[s])if("object"==typeof t[s])for(let r in t[s])e(t,"*"===r?s:s+"-"+r.toLowerCase(),t[s][r]);else"function"==typeof t[s]&&e(t,s,t[s])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],s=this.runOnRoot(t);if(On(s))try{await s}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[_n];){e[_n]=!0;let t=[Nn(e)];for(;t.length>0;){let e=this.visitTick(t);if(On(e))try{await e}catch(e){let s=t[t.length-1].node;throw this.handleError(e,s)}}}if(this.listeners.OnceExit)for(let[t,s]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>s(e,this.helpers)));await Promise.all(t)}else await s(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return On(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=mn;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let s=new dn(t,this.result.root,this.result.opts).generate();return this.result.css=s[0],this.result.map=s[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(On(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[_n];)e[_n]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this.opts||gn("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[s,r]of e){let e;this.result.lastPlugin=s;try{e=r(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(On(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:s,visitors:r}=t;if("root"!==s.type&&"document"!==s.type&&!s.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(s.toProxy(),this.helpers)}catch(e){throw this.handleError(e,s)}}if(0!==t.iterator){let r,i=t.iterator;for(;r=s.nodes[s.indexes[i]];)if(s.indexes[i]+=1,!r[_n])return r[_n]=!0,void e.push(Nn(r));t.iterator=0,delete s.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,0===e)return void(s.nodes&&s.nodes.length&&(s[_n]=!0,t.iterator=s.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[_n]=!0;let t=Cn(e);for(let s of t)if(0===s)e.nodes&&e.each((e=>{e[_n]||this.walkSync(e)}));else{let t=this.listeners[s];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Rn.registerPostcss=e=>{bn=e};var Pn=Rn;Rn.default=Rn,En.registerLazyResult(Rn),pn.registerLazyResult(Rn);let vn=Yi,kn=sn;const wn=cn;let Ln=_s,Mn=ln,Gn=class{constructor(e,t,s){let r;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=s,this._map=void 0;let i=Ln;this.result=new wn(this._processor,r,this._opts),this.result.css=t;let n=this;Object.defineProperty(this.result,"root",{get:()=>n.root});let o=new vn(i,r,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return"production"!==process.env.NODE_ENV&&("from"in this._opts||Mn("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=kn;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var xn=Gn;Gn.default=Gn;let Fn=er,Bn=Pn,Un=xn,Hn=mi,jn=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let s of e)if(!0===s.postcss?s=s():s.postcss&&(s=s.postcss),"object"==typeof s&&Array.isArray(s.plugins))t=t.concat(s.plugins);else if("object"==typeof s&&s.postcssPlugin)t.push(s);else if("function"==typeof s)t.push(s);else{if("object"!=typeof s||!s.parse&&!s.stringify)throw new Error(s+" is not a PostCSS plugin");if("production"!==process.env.NODE_ENV)throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new Bn(this,e,t):new Un(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Yn=jn;jn.default=jn,Hn.registerProcessor(jn),Fn.registerProcessor(jn);let Wn=Ks,zn=Ps,qn=qs,Qn=ps,Vn=ws,Kn=er,Xn=ki,$n=pi,Jn=Pn,Zn=Ai,eo=ys,to=sn,so=Yn,ro=cn,io=mi,no=Di,oo=_s,ao=nn;function co(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new so(e)}co.plugin=function(e,t){let s,r=!1;function i(...s){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let i=t(...s);return i.postcssPlugin=e,i.postcssVersion=(new so).version,i}return Object.defineProperty(i,"postcss",{get:()=>(s||(s=i()),s)}),i.process=function(e,t,s){return co([i(s)]).process(e,t)},i},co.stringify=oo,co.parse=to,co.fromJSON=Xn,co.list=Zn,co.comment=e=>new zn(e),co.atRule=e=>new Wn(e),co.decl=e=>new Vn(e),co.rule=e=>new no(e),co.root=e=>new io(e),co.document=e=>new Kn(e),co.CssSyntaxError=Qn,co.Declaration=Vn,co.Container=qn,co.Processor=so,co.Document=Kn,co.Comment=zn,co.Warning=ao,co.AtRule=Wn,co.Result=ro,co.Input=$n,co.Rule=no,co.Root=io,co.Node=eo,Jn.registerPostcss(co);var ho=co;co.default=co;var lo={exports:{}},uo={exports:{}},po={exports:{}},fo={exports:{}},To={exports:{}},Eo={exports:{}},mo={},_o={exports:{}};!function(e,t){function s(e){for(var t=e.toLowerCase(),s="",r=!1,i=0;i<6&&void 0!==t[i];i++){var n=t.charCodeAt(i);if(r=32===n,!(n>=97&&n<=102||n>=48&&n<=57))break;s+=t[i]}if(0!==s.length){var o=parseInt(s,16);return o>=55296&&o<=57343||0===o||o>1114111?["",s.length+(r?1:0)]:[String.fromCodePoint(o),s.length+(r?1:0)]}}t.__esModule=!0,t.default=function(e){var t=r.test(e);if(!t)return e;for(var i="",n=0;n<e.length;n++)if("\\"!==e[n])i+=e[n];else{var o=s(e.slice(n+1,n+7));if(void 0!==o){i+=o[0],n+=o[1];continue}if("\\"===e[n+1]){i+="\\",n++;continue}e.length===n+1&&(i+=e[n])}return i};var r=/\\/;e.exports=t.default}(_o,_o.exports);var Ao,go,So=_o.exports,Io={exports:{}};Ao=Io,(go=Io.exports).__esModule=!0,go.default=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];for(;s.length>0;){var i=s.shift();if(!e[i])return;e=e[i]}return e},Ao.exports=go.default;var Do=Io.exports,Oo={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];for(;s.length>0;){var i=s.shift();e[i]||(e[i]={}),e=e[i]}},e.exports=t.default}(Oo,Oo.exports);var Co=Oo.exports,No={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){var t="",s=e.indexOf("/*"),r=0;for(;s>=0;){t+=e.slice(r,s);var i=e.indexOf("*/",s+2);if(i<0)return t;r=i+2,s=e.indexOf("/*",r)}return t+=e.slice(r),t},e.exports=t.default}(No,No.exports);var yo=No.exports;mo.__esModule=!0,mo.unesc=mo.stripComments=mo.getProp=mo.ensureObject=void 0;var bo=ko(So);mo.unesc=bo.default;var Ro=ko(Do);mo.getProp=Ro.default;var Po=ko(Co);mo.ensureObject=Po.default;var vo=ko(yo);function ko(e){return e&&e.__esModule?e:{default:e}}mo.stripComments=vo.default,function(e,t){t.__esModule=!0,t.default=void 0;var s=mo;function r(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var i=function e(t,s){if("object"!=typeof t||null===t)return t;var r=new t.constructor;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];"parent"===i&&"object"===typeof n?s&&(r[i]=s):r[i]=n instanceof Array?n.map((function(t){return e(t,r)})):e(n,r)}return r},n=function(){function e(e){void 0===e&&(e={}),Object.assign(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t=e.prototype;return t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){if(this.parent){for(var e in arguments)this.parent.insertBefore(this,arguments[e]);this.remove()}return this},t.next=function(){return this.parent.at(this.parent.index(this)+1)},t.prev=function(){return this.parent.at(this.parent.index(this)-1)},t.clone=function(e){void 0===e&&(e={});var t=i(this);for(var s in e)t[s]=e[s];return t},t.appendToPropertyAndEscape=function(e,t,s){this.raws||(this.raws={});var r=this[e],i=this.raws[e];this[e]=r+t,i||s!==t?this.raws[e]=(i||r)+s:delete this.raws[e]},t.setPropertyAndEscape=function(e,t,s){this.raws||(this.raws={}),this[e]=t,this.raws[e]=s},t.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},t.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e)&&(!(this.source.end.line<e)&&(!(this.source.start.line===e&&this.source.start.column>t)&&!(this.source.end.line===e&&this.source.end.column<t)))},t.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},t.valueToString=function(){return String(this.stringifyProperty("value"))},t.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},r(e,[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,s.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,s.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}]),e}();t.default=n,e.exports=t.default}(Eo,Eo.exports);var wo=Eo.exports,Lo={__esModule:!0};Lo.UNIVERSAL=Lo.TAG=Lo.STRING=Lo.SELECTOR=Lo.ROOT=Lo.PSEUDO=Lo.NESTING=Lo.ID=Lo.COMMENT=Lo.COMBINATOR=Lo.CLASS=Lo.ATTRIBUTE=void 0;Lo.TAG="tag";Lo.STRING="string";Lo.SELECTOR="selector";Lo.ROOT="root";Lo.PSEUDO="pseudo";Lo.NESTING="nesting";Lo.ID="id";Lo.COMMENT="comment";Lo.COMBINATOR="combinator";Lo.CLASS="class";Lo.ATTRIBUTE="attribute";Lo.UNIVERSAL="universal",function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=n(t);if(s&&s.has(e))return s.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,s&&s.set(e,r);return r}(Lo);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(n=function(e){return e?s:t})(e)}function o(e,t){var s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return(s=s.call(e)).next.bind(s);if(Array.isArray(e)||(s=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a(e,t)}(e))||t){s&&(e=s);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function c(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var l=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).nodes||(s.nodes=[]),s}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,h(t,s);var n=r.prototype;return n.append=function(e){return e.parent=this,this.nodes.push(e),this},n.prepend=function(e){return e.parent=this,this.nodes.unshift(e),this},n.at=function(e){return this.nodes[e]},n.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},n.removeChild=function(e){var t;for(var s in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[s])>=e&&(this.indexes[s]=t-1);return this},n.removeAll=function(){for(var e,t=o(this.nodes);!(e=t()).done;){e.value.parent=void 0}return this.nodes=[],this},n.empty=function(){return this.removeAll()},n.insertAfter=function(e,t){t.parent=this;var s,r=this.index(e);for(var i in this.nodes.splice(r+1,0,t),t.parent=this,this.indexes)r<=(s=this.indexes[i])&&(this.indexes[i]=s+1);return this},n.insertBefore=function(e,t){t.parent=this;var s,r=this.index(e);for(var i in this.nodes.splice(r,0,t),t.parent=this,this.indexes)(s=this.indexes[i])<=r&&(this.indexes[i]=s+1);return this},n._findChildAtPosition=function(e,t){var s=void 0;return this.each((function(r){if(r.atPosition){var i=r.atPosition(e,t);if(i)return s=i,!1}else if(r.isAtPosition(e,t))return s=r,!1})),s},n.atPosition=function(e,t){return this.isAtPosition(e,t)?this._findChildAtPosition(e,t)||this:void 0},n._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},n.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t=this.lastEach;if(this.indexes[t]=0,this.length){for(var s,r;this.indexes[t]<this.length&&(s=this.indexes[t],!1!==(r=e(this.at(s),s)));)this.indexes[t]+=1;return delete this.indexes[t],!1!==r&&void 0}},n.walk=function(e){return this.each((function(t,s){var r=e(t,s);if(!1!==r&&t.length&&(r=t.walk(e)),!1===r)return!1}))},n.walkAttributes=function(e){var t=this;return this.walk((function(s){if(s.type===i.ATTRIBUTE)return e.call(t,s)}))},n.walkClasses=function(e){var t=this;return this.walk((function(s){if(s.type===i.CLASS)return e.call(t,s)}))},n.walkCombinators=function(e){var t=this;return this.walk((function(s){if(s.type===i.COMBINATOR)return e.call(t,s)}))},n.walkComments=function(e){var t=this;return this.walk((function(s){if(s.type===i.COMMENT)return e.call(t,s)}))},n.walkIds=function(e){var t=this;return this.walk((function(s){if(s.type===i.ID)return e.call(t,s)}))},n.walkNesting=function(e){var t=this;return this.walk((function(s){if(s.type===i.NESTING)return e.call(t,s)}))},n.walkPseudos=function(e){var t=this;return this.walk((function(s){if(s.type===i.PSEUDO)return e.call(t,s)}))},n.walkTags=function(e){var t=this;return this.walk((function(s){if(s.type===i.TAG)return e.call(t,s)}))},n.walkUniversals=function(e){var t=this;return this.walk((function(s){if(s.type===i.UNIVERSAL)return e.call(t,s)}))},n.split=function(e){var t=this,s=[];return this.reduce((function(r,i,n){var o=e.call(t,i);return s.push(i),o?(r.push(s),s=[]):n===t.length-1&&r.push(s),r}),[])},n.map=function(e){return this.nodes.map(e)},n.reduce=function(e,t){return this.nodes.reduce(e,t)},n.every=function(e){return this.nodes.every(e)},n.some=function(e){return this.nodes.some(e)},n.filter=function(e){return this.nodes.filter(e)},n.sort=function(e){return this.nodes.sort(e)},n.toString=function(){return this.map(String).join("")},c(r,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),r}(r.default);t.default=l,e.exports=t.default}(To,To.exports);var Mo=To.exports;!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=Mo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var a=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.ROOT,s}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,o(t,s);var a=r.prototype;return a.toString=function(){var e=this.reduce((function(e,t){return e.push(String(t)),e}),[]).join(",");return this.trailingComma?e+",":e},a.error=function(e,t){return this._error?this._error(e,t):new Error(e)},n(r,[{key:"errorGenerator",set:function(e){this._error=e}}]),r}(r.default);t.default=a,e.exports=t.default}(fo,fo.exports);var Go=fo.exports,xo={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=Mo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.SELECTOR,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(xo,xo.exports);var Fo=xo.exports,Bo={exports:{}},Uo={}.hasOwnProperty,Ho=/[ -,\.\/:-@\[-\^`\{-~]/,jo=/[ -,\.\/:-@\[\]\^`\{-~]/,Yo=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Wo=function e(t,s){s=function(e,t){if(!e)return t;var s={};for(var r in t)s[r]=Uo.call(e,r)?e[r]:t[r];return s}(s,e.options),"single"!=s.quotes&&"double"!=s.quotes&&(s.quotes="single");for(var r="double"==s.quotes?'"':"'",i=s.isIdentifier,n=t.charAt(0),o="",a=0,c=t.length;a<c;){var h=t.charAt(a++),l=h.charCodeAt(),u=void 0;if(l<32||l>126){if(l>=55296&&l<=56319&&a<c){var p=t.charCodeAt(a++);56320==(64512&p)?l=((1023&l)<<10)+(1023&p)+65536:a--}u="\\"+l.toString(16).toUpperCase()+" "}else u=s.escapeEverything?Ho.test(h)?"\\"+h:"\\"+l.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(h)?"\\"+l.toString(16).toUpperCase()+" ":"\\"==h||!i&&('"'==h&&r==h||"'"==h&&r==h)||i&&jo.test(h)?"\\"+h:h;o+=u}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(n)&&(o="\\3"+n+" "+o.slice(1))),o=o.replace(Yo,(function(e,t,s){return t&&t.length%2?e:(t||"")+s})),!i&&s.wrap?r+o+r:o};Wo.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Wo.version="3.0.0";var zo=Wo;!function(e,t){t.__esModule=!0,t.default=void 0;var s=o(zo),r=mo,i=o(wo),n=Lo;function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var h=function(e){var t,i;function o(t){var s;return(s=e.call(this,t)||this).type=n.CLASS,s._constructed=!0,s}return i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,c(t,i),o.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},a(o,[{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=(0,s.default)(e,{isIdentifier:!0});t!==e?((0,r.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e}}]),o}(i.default);t.default=h,e.exports=t.default}(Bo,Bo.exports);var qo=Bo.exports,Qo={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.COMMENT,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(Qo,Qo.exports);var Vo=Qo.exports,Ko={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.ID,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},r}(r.default);t.default=o,e.exports=t.default}(Ko,Ko.exports);var Xo=Ko.exports,$o={exports:{}},Jo={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s=i(zo),r=mo;function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var a=function(e){var t,i;function a(){return e.apply(this,arguments)||this}i=e,(t=a).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i);var c=a.prototype;return c.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},c.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},n(a,[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e)return this._namespace=e,void(this.raws&&delete this.raws.namespace);var t=(0,s.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,r.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(this.namespace){var e=this.stringifyProperty("namespace");return!0===e?"":e}return""}}]),a}(i(wo).default);t.default=a,e.exports=t.default}(Jo,Jo.exports);var Zo=Jo.exports;!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=Zo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.TAG,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}($o,$o.exports);var ea=$o.exports,ta={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.STRING,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(ta,ta.exports);var sa=ta.exports,ra={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=Mo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.PSEUDO,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},r}(r.default);t.default=o,e.exports=t.default}(ra,ra.exports);var ia=ra.exports,na={},oa=a.deprecate;!function(e){e.__esModule=!0,e.default=void 0,e.unescapeValue=f;var t,s=o(zo),r=o(So),i=o(Zo),n=Lo;function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var h=oa,l=/^('|")([^]*)\1$/,u=h((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),p=h((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),d=h((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function f(e){var t=!1,s=null,i=e,n=i.match(l);return n&&(s=n[1],i=n[2]),(i=(0,r.default)(i))!==e&&(t=!0),{deprecatedUsage:t,unescaped:i,quoteMark:s}}var T=function(e){var t,r;function i(t){var s;return void 0===t&&(t={}),s=e.call(this,function(e){if(void 0!==e.quoteMark)return e;if(void 0===e.value)return e;d();var t=f(e.value),s=t.quoteMark,r=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=r,e.quoteMark=s,e}(t))||this,s.type=n.ATTRIBUTE,s.raws=s.raws||{},Object.defineProperty(s.raws,"unquoted",{get:h((function(){return s.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:h((function(){return s.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),s._constructed=!0,s}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,c(t,r);var o=i.prototype;return o.getQuotedValue=function(e){void 0===e&&(e={});var t=this._determineQuoteMark(e),r=E[t];return(0,s.default)(this._value,r)},o._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},o.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},o.smartQuoteMark=function(e){var t=this.value,r=t.replace(/[^']/g,"").length,n=t.replace(/[^"]/g,"").length;if(r+n===0){var o=(0,s.default)(t,{isIdentifier:!0});if(o===t)return i.NO_QUOTE;var a=this.preferredQuoteMark(e);if(a===i.NO_QUOTE){var c=this.quoteMark||e.quoteMark||i.DOUBLE_QUOTE,h=E[c];if((0,s.default)(t,h).length<o.length)return c}return a}return n===r?this.preferredQuoteMark(e):n<r?i.DOUBLE_QUOTE:i.SINGLE_QUOTE},o.preferredQuoteMark=function(e){var t=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===t&&(t=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===t&&(t=i.DOUBLE_QUOTE),t},o._syncRawValue=function(){var e=(0,s.default)(this._value,E[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},o._handleEscapes=function(e,t){if(this._constructed){var r=(0,s.default)(t,{isIdentifier:!0});r!==t?this.raws[e]=r:delete this.raws[e]}},o._spacesFor=function(e){var t=this.spaces[e]||{},s=this.raws.spaces&&this.raws.spaces[e]||{};return Object.assign({before:"",after:""},t,s)},o._stringFor=function(e,t,s){void 0===t&&(t=e),void 0===s&&(s=m);var r=this._spacesFor(t);return s(this.stringifyProperty(e),r)},o.offsetOf=function(e){var t=1,s=this._spacesFor("attribute");if(t+=s.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e)return t;if(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e)return t;t+=this.stringifyProperty("attribute").length,t+=s.after.length;var r=this._spacesFor("operator");t+=r.before.length;var i=this.stringifyProperty("operator");if("operator"===e)return i?t:-1;t+=i.length,t+=r.after.length;var n=this._spacesFor("value");t+=n.before.length;var o=this.stringifyProperty("value");return"value"===e?o?t:-1:(t+=o.length,t+=n.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},o.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",(function(t,s){return!(t.length>0)||e.quoted||0!==s.before.length||e.spaces.value&&e.spaces.value.after||(s.before=" "),m(t,s)})))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},a(i,[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){p()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){this._constructed?this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue()):this._quoteMark=e}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=f(e),s=t.deprecatedUsage,r=t.unescaped,i=t.quoteMark;if(s&&u(),r===this._value&&i===this._quoteMark)return;this._value=r,this._quoteMark=i,this._syncRawValue()}else this._value=e}},{key:"insensitive",get:function(){return this._insensitive},set:function(e){e||(this._insensitive=!1,!this.raws||"I"!==this.raws.insensitiveFlag&&"i"!==this.raws.insensitiveFlag||(this.raws.insensitiveFlag=void 0)),this._insensitive=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}]),i}(i.default);e.default=T,T.NO_QUOTE=null,T.SINGLE_QUOTE="'",T.DOUBLE_QUOTE='"';var E=((t={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},t);function m(e,t){return""+t.before+e+t.after}}(na);var aa={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=Zo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.UNIVERSAL,s.value="*",s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(aa,aa.exports);var ca=aa.exports,ha={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.COMBINATOR,s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(ha,ha.exports);var la=ha.exports,ua={exports:{}};!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=wo)&&s.__esModule?s:{default:s},i=Lo;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o=function(e){var t,s;function r(t){var s;return(s=e.call(this,t)||this).type=i.NESTING,s.value="&",s}return s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,n(t,s),r}(r.default);t.default=o,e.exports=t.default}(ua,ua.exports);var pa=ua.exports,da={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){return e.sort((function(e,t){return e-t}))},e.exports=t.default}(da,da.exports);var fa=da.exports,Ta={},Ea={__esModule:!0};Ea.word=Ea.tilde=Ea.tab=Ea.str=Ea.space=Ea.slash=Ea.singleQuote=Ea.semicolon=Ea.plus=Ea.pipe=Ea.openSquare=Ea.openParenthesis=Ea.newline=Ea.greaterThan=Ea.feed=Ea.equals=Ea.doubleQuote=Ea.dollar=Ea.cr=Ea.comment=Ea.comma=Ea.combinator=Ea.colon=Ea.closeSquare=Ea.closeParenthesis=Ea.caret=Ea.bang=Ea.backslash=Ea.at=Ea.asterisk=Ea.ampersand=void 0;Ea.ampersand=38;Ea.asterisk=42;Ea.at=64;Ea.comma=44;Ea.colon=58;Ea.semicolon=59;Ea.openParenthesis=40;Ea.closeParenthesis=41;Ea.openSquare=91;Ea.closeSquare=93;Ea.dollar=36;Ea.tilde=126;Ea.caret=94;Ea.plus=43;Ea.equals=61;Ea.pipe=124;Ea.greaterThan=62;Ea.space=32;Ea.singleQuote=39;Ea.doubleQuote=34;Ea.slash=47;Ea.bang=33;Ea.backslash=92;Ea.cr=13;Ea.feed=12;Ea.newline=10;Ea.tab=9;Ea.str=39;Ea.comment=-1;Ea.word=-2;Ea.combinator=-3,function(e){e.__esModule=!0,e.FIELDS=void 0,e.default=function(e){var t,s,i,n,o,a,c,h,u,p,d,f,T=[],E=e.css.valueOf(),m=E.length,_=-1,A=1,g=0,S=0;function I(t,s){if(!e.safe)throw e.error("Unclosed "+t,A,g-_,g);h=(E+=s).length-1}for(;g<m;){switch((t=E.charCodeAt(g))===r.newline&&(_=g,A+=1),t){case r.space:case r.tab:case r.newline:case r.cr:case r.feed:h=g;do{h+=1,(t=E.charCodeAt(h))===r.newline&&(_=h,A+=1)}while(t===r.space||t===r.newline||t===r.tab||t===r.cr||t===r.feed);f=r.space,i=A,s=h-_-1,S=h;break;case r.plus:case r.greaterThan:case r.tilde:case r.pipe:h=g;do{h+=1,t=E.charCodeAt(h)}while(t===r.plus||t===r.greaterThan||t===r.tilde||t===r.pipe);f=r.combinator,i=A,s=g-_,S=h;break;case r.asterisk:case r.ampersand:case r.bang:case r.comma:case r.equals:case r.dollar:case r.caret:case r.openSquare:case r.closeSquare:case r.colon:case r.semicolon:case r.openParenthesis:case r.closeParenthesis:f=t,i=A,s=g-_,S=(h=g)+1;break;case r.singleQuote:case r.doubleQuote:d=t===r.singleQuote?"'":'"',h=g;do{for(n=!1,-1===(h=E.indexOf(d,h+1))&&I("quote",d),o=h;E.charCodeAt(o-1)===r.backslash;)o-=1,n=!n}while(n);f=r.str,i=A,s=g-_,S=h+1;break;default:t===r.slash&&E.charCodeAt(g+1)===r.asterisk?(0===(h=E.indexOf("*/",g+2)+1)&&I("comment","*/"),(a=(c=E.slice(g,h+1).split("\n")).length-1)>0?(u=A+a,p=h-c[a].length):(u=A,p=_),f=r.comment,A=u,i=u,s=h-p):t===r.slash?(f=t,i=A,s=g-_,S=(h=g)+1):(h=l(E,g),f=r.word,i=A,s=h-_),S=h+1}T.push([f,A,g-_,i,s,g,S]),p&&(_=p,p=null),g=S}return T};var t,s,r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=i(t);if(s&&s.has(e))return s.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,s&&s.set(e,r);return r}(Ea);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(i=function(e){return e?s:t})(e)}for(var n=((t={})[r.tab]=!0,t[r.newline]=!0,t[r.cr]=!0,t[r.feed]=!0,t),o=((s={})[r.space]=!0,s[r.tab]=!0,s[r.newline]=!0,s[r.cr]=!0,s[r.feed]=!0,s[r.ampersand]=!0,s[r.asterisk]=!0,s[r.bang]=!0,s[r.comma]=!0,s[r.colon]=!0,s[r.semicolon]=!0,s[r.openParenthesis]=!0,s[r.closeParenthesis]=!0,s[r.openSquare]=!0,s[r.closeSquare]=!0,s[r.singleQuote]=!0,s[r.doubleQuote]=!0,s[r.plus]=!0,s[r.pipe]=!0,s[r.tilde]=!0,s[r.greaterThan]=!0,s[r.equals]=!0,s[r.dollar]=!0,s[r.caret]=!0,s[r.slash]=!0,s),a={},c="0123456789abcdefABCDEF",h=0;h<22;h++)a[c.charCodeAt(h)]=!0;function l(e,t){var s,i=t;do{if(s=e.charCodeAt(i),o[s])return i-1;s===r.backslash?i=u(e,i)+1:i++}while(i<e.length);return i-1}function u(e,t){var s=t,i=e.charCodeAt(s+1);if(n[i]);else if(a[i]){var o=0;do{s++,o++,i=e.charCodeAt(s+1)}while(a[i]&&o<6);o<6&&i===r.space&&s++}else s++;return s}e.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}}(Ta),function(e,t){t.__esModule=!0,t.default=void 0;var s,r,i=D(Go),n=D(Fo),o=D(qo),a=D(Vo),c=D(Xo),h=D(ea),l=D(sa),u=D(ia),p=I(na),d=D(ca),f=D(la),T=D(pa),E=D(fa),m=I(Ta),_=I(Ea),A=I(Lo),g=mo;function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(S=function(e){return e?s:t})(e)}function I(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=S(t);if(s&&s.has(e))return s.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}function D(e){return e&&e.__esModule?e:{default:e}}function O(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var C=((s={})[_.space]=!0,s[_.cr]=!0,s[_.feed]=!0,s[_.newline]=!0,s[_.tab]=!0,s),N=Object.assign({},C,((r={})[_.comment]=!0,r));function y(e){return{line:e[m.FIELDS.START_LINE],column:e[m.FIELDS.START_COL]}}function b(e){return{line:e[m.FIELDS.END_LINE],column:e[m.FIELDS.END_COL]}}function R(e,t,s,r){return{start:{line:e,column:t},end:{line:s,column:r}}}function P(e){return R(e[m.FIELDS.START_LINE],e[m.FIELDS.START_COL],e[m.FIELDS.END_LINE],e[m.FIELDS.END_COL])}function v(e,t){if(e)return R(e[m.FIELDS.START_LINE],e[m.FIELDS.START_COL],t[m.FIELDS.END_LINE],t[m.FIELDS.END_COL])}function k(e,t){var s=e[t];if("string"==typeof s)return-1!==s.indexOf("\\")&&((0,g.ensureObject)(e,"raws"),e[t]=(0,g.unesc)(s),void 0===e.raws[t]&&(e.raws[t]=s)),e}function w(e,t){for(var s=-1,r=[];-1!==(s=e.indexOf(t,s+1));)r.push(s);return r}var L=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=Object.assign({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,m.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var s=v(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new i.default({source:s}),this.root.errorGenerator=this._errorGenerator();var r=new n.default({source:{start:{line:1,column:1}},sourceIndex:0});this.root.append(r),this.current=r,this.loop()}var t=e.prototype;return t._errorGenerator=function(){var e=this;return function(t,s){return"string"==typeof e.rule?new Error(t):e.rule.error(t,s)}},t.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[m.FIELDS.TYPE]!==_.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[m.FIELDS.TYPE]!==_.closeSquare)return this.expected("closing square bracket",this.currToken[m.FIELDS.START_POS]);var s=e.length,r={source:R(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[m.FIELDS.START_POS]};if(1===s&&!~[_.word].indexOf(e[0][m.FIELDS.TYPE]))return this.expected("attribute",e[0][m.FIELDS.START_POS]);for(var i=0,n="",o="",a=null,c=!1;i<s;){var h=e[i],l=this.content(h),u=e[i+1];switch(h[m.FIELDS.TYPE]){case _.space:if(c=!0,this.options.lossy)break;if(a){(0,g.ensureObject)(r,"spaces",a);var d=r.spaces[a].after||"";r.spaces[a].after=d+l;var f=(0,g.getProp)(r,"raws","spaces",a,"after")||null;f&&(r.raws.spaces[a].after=f+l)}else n+=l,o+=l;break;case _.asterisk:if(u[m.FIELDS.TYPE]===_.equals)r.operator=l,a="operator";else if((!r.namespace||"namespace"===a&&!c)&&u){n&&((0,g.ensureObject)(r,"spaces","attribute"),r.spaces.attribute.before=n,n=""),o&&((0,g.ensureObject)(r,"raws","spaces","attribute"),r.raws.spaces.attribute.before=n,o=""),r.namespace=(r.namespace||"")+l,((0,g.getProp)(r,"raws","namespace")||null)&&(r.raws.namespace+=l),a="namespace"}c=!1;break;case _.dollar:if("value"===a){var T=(0,g.getProp)(r,"raws","value");r.value+="$",T&&(r.raws.value=T+"$");break}case _.caret:u[m.FIELDS.TYPE]===_.equals&&(r.operator=l,a="operator"),c=!1;break;case _.combinator:if("~"===l&&u[m.FIELDS.TYPE]===_.equals&&(r.operator=l,a="operator"),"|"!==l){c=!1;break}u[m.FIELDS.TYPE]===_.equals?(r.operator=l,a="operator"):r.namespace||r.attribute||(r.namespace=!0),c=!1;break;case _.word:if(u&&"|"===this.content(u)&&e[i+2]&&e[i+2][m.FIELDS.TYPE]!==_.equals&&!r.operator&&!r.namespace)r.namespace=l,a="namespace";else if(!r.attribute||"attribute"===a&&!c){n&&((0,g.ensureObject)(r,"spaces","attribute"),r.spaces.attribute.before=n,n=""),o&&((0,g.ensureObject)(r,"raws","spaces","attribute"),r.raws.spaces.attribute.before=o,o=""),r.attribute=(r.attribute||"")+l,((0,g.getProp)(r,"raws","attribute")||null)&&(r.raws.attribute+=l),a="attribute"}else if(!r.value&&""!==r.value||"value"===a&&!c&&!r.quoteMark){var E=(0,g.unesc)(l),A=(0,g.getProp)(r,"raws","value")||"",S=r.value||"";r.value=S+E,r.quoteMark=null,(E!==l||A)&&((0,g.ensureObject)(r,"raws"),r.raws.value=(A||S)+l),a="value"}else{var I="i"===l||"I"===l;!r.value&&""!==r.value||!r.quoteMark&&!c?(r.value||""===r.value)&&(a="value",r.value+=l,r.raws.value&&(r.raws.value+=l)):(r.insensitive=I,I&&"I"!==l||((0,g.ensureObject)(r,"raws"),r.raws.insensitiveFlag=l),a="insensitive",n&&((0,g.ensureObject)(r,"spaces","insensitive"),r.spaces.insensitive.before=n,n=""),o&&((0,g.ensureObject)(r,"raws","spaces","insensitive"),r.raws.spaces.insensitive.before=o,o=""))}c=!1;break;case _.str:if(!r.attribute||!r.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:h[m.FIELDS.START_POS]});var D=(0,p.unescapeValue)(l),O=D.unescaped,C=D.quoteMark;r.value=O,r.quoteMark=C,a="value",(0,g.ensureObject)(r,"raws"),r.raws.value=l,c=!1;break;case _.equals:if(!r.attribute)return this.expected("attribute",h[m.FIELDS.START_POS],l);if(r.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:h[m.FIELDS.START_POS]});r.operator=r.operator?r.operator+l:l,a="operator",c=!1;break;case _.comment:if(a)if(c||u&&u[m.FIELDS.TYPE]===_.space||"insensitive"===a){var N=(0,g.getProp)(r,"spaces",a,"after")||"",y=(0,g.getProp)(r,"raws","spaces",a,"after")||N;(0,g.ensureObject)(r,"raws","spaces",a),r.raws.spaces[a].after=y+l}else{var b=r[a]||"",P=(0,g.getProp)(r,"raws",a)||b;(0,g.ensureObject)(r,"raws"),r.raws[a]=P+l}else o+=l;break;default:return this.error('Unexpected "'+l+'" found.',{index:h[m.FIELDS.START_POS]})}i++}k(r,"attribute"),k(r,"namespace"),this.newNode(new p.default(r)),this.position++},t.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,s=[],r="",i=void 0;do{if(C[this.currToken[m.FIELDS.TYPE]])this.options.lossy||(r+=this.content());else if(this.currToken[m.FIELDS.TYPE]===_.comment){var n={};r&&(n.before=r,r=""),i=new a.default({value:this.content(),source:P(this.currToken),sourceIndex:this.currToken[m.FIELDS.START_POS],spaces:n}),s.push(i)}}while(++this.position<e);if(r)if(i)i.spaces.after=r;else if(!this.options.lossy){var o=this.tokens[t],c=this.tokens[this.position-1];s.push(new l.default({value:"",source:R(o[m.FIELDS.START_LINE],o[m.FIELDS.START_COL],c[m.FIELDS.END_LINE],c[m.FIELDS.END_COL]),sourceIndex:o[m.FIELDS.START_POS],spaces:{before:r,after:""}}))}return s},t.convertWhitespaceNodesToSpace=function(e,t){var s=this;void 0===t&&(t=!1);var r="",i="";return e.forEach((function(e){var n=s.lossySpace(e.spaces.before,t),o=s.lossySpace(e.rawSpaceBefore,t);r+=n+s.lossySpace(e.spaces.after,t&&0===n.length),i+=n+e.value+s.lossySpace(e.rawSpaceAfter,t&&0===o.length)})),i===r&&(i=void 0),{space:r,rawSpace:i}},t.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][m.FIELDS.TYPE]===_.slash&&this.tokens[e+1]&&this.tokens[e+1][m.FIELDS.TYPE]===_.word&&this.tokens[e+2]&&this.tokens[e+2][m.FIELDS.TYPE]===_.slash},t.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,g.unesc)(e).toLowerCase(),s={};t!==e&&(s.value="/"+e+"/");var r=new f.default({value:"/"+t+"/",source:R(this.currToken[m.FIELDS.START_LINE],this.currToken[m.FIELDS.START_COL],this.tokens[this.position+2][m.FIELDS.END_LINE],this.tokens[this.position+2][m.FIELDS.END_COL]),sourceIndex:this.currToken[m.FIELDS.START_POS],raws:s});return this.position=this.position+3,r}this.unexpected()},t.combinator=function(){var e=this;if("|"===this.content())return this.namespace();var t=this.locateNextMeaningfulToken(this.position);if(!(t<0||this.tokens[t][m.FIELDS.TYPE]===_.comma||this.tokens[t][m.FIELDS.TYPE]===_.closeParenthesis)){var s,r=this.currToken,i=void 0;if(t>this.position&&(i=this.parseWhitespaceEquivalentTokens(t)),this.isNamedCombinator()?s=this.namedCombinator():this.currToken[m.FIELDS.TYPE]===_.combinator?(s=new f.default({value:this.content(),source:P(this.currToken),sourceIndex:this.currToken[m.FIELDS.START_POS]}),this.position++):C[this.currToken[m.FIELDS.TYPE]]||i||this.unexpected(),s){if(i){var n=this.convertWhitespaceNodesToSpace(i),o=n.space,a=n.rawSpace;s.spaces.before=o,s.rawSpaceBefore=a}}else{var c=this.convertWhitespaceNodesToSpace(i,!0),h=c.space,l=c.rawSpace;l||(l=h);var u={},p={spaces:{}};h.endsWith(" ")&&l.endsWith(" ")?(u.before=h.slice(0,h.length-1),p.spaces.before=l.slice(0,l.length-1)):h.startsWith(" ")&&l.startsWith(" ")?(u.after=h.slice(1),p.spaces.after=l.slice(1)):p.value=l,s=new f.default({value:" ",source:v(r,this.tokens[this.position-1]),sourceIndex:r[m.FIELDS.START_POS],spaces:u,raws:p})}return this.currToken&&this.currToken[m.FIELDS.TYPE]===_.space&&(s.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(s)}var d=this.parseWhitespaceEquivalentTokens(t);if(d.length>0){var T=this.current.last;if(T){var E=this.convertWhitespaceNodesToSpace(d),A=E.space,g=E.rawSpace;void 0!==g&&(T.rawSpaceAfter+=g),T.spaces.after+=A}else d.forEach((function(t){return e.newNode(t)}))}},t.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var e=new n.default({source:{start:y(this.tokens[this.position+1])},sourceIndex:this.tokens[this.position+1][m.FIELDS.START_POS]});this.current.parent.append(e),this.current=e,this.position++},t.comment=function(){var e=this.currToken;this.newNode(new a.default({value:this.content(),source:P(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},t.error=function(e,t){throw this.root.error(e,t)},t.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[m.FIELDS.START_POS]})},t.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[m.FIELDS.START_POS])},t.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[m.FIELDS.START_POS])},t.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[m.FIELDS.START_POS])},t.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[m.FIELDS.START_POS])},t.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[m.FIELDS.TYPE]===_.word?(this.position++,this.word(e)):this.nextToken[m.FIELDS.TYPE]===_.asterisk?(this.position++,this.universal(e)):void this.unexpectedPipe()},t.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new T.default({value:this.content(),source:P(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},t.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===A.PSEUDO){var s=new n.default({source:{start:y(this.tokens[this.position])},sourceIndex:this.tokens[this.position][m.FIELDS.START_POS]}),r=this.current;for(e.append(s),this.current=s;this.position<this.tokens.length&&t;)this.currToken[m.FIELDS.TYPE]===_.openParenthesis&&t++,this.currToken[m.FIELDS.TYPE]===_.closeParenthesis&&t--,t?this.parse():(this.current.source.end=b(this.currToken),this.current.parent.source.end=b(this.currToken),this.position++);this.current=r}else{for(var i,o=this.currToken,a="(";this.position<this.tokens.length&&t;)this.currToken[m.FIELDS.TYPE]===_.openParenthesis&&t++,this.currToken[m.FIELDS.TYPE]===_.closeParenthesis&&t--,i=this.currToken,a+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",a,a):this.newNode(new l.default({value:a,source:R(o[m.FIELDS.START_LINE],o[m.FIELDS.START_COL],i[m.FIELDS.END_LINE],i[m.FIELDS.END_COL]),sourceIndex:o[m.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[m.FIELDS.START_POS])},t.pseudo=function(){for(var e=this,t="",s=this.currToken;this.currToken&&this.currToken[m.FIELDS.TYPE]===_.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[m.FIELDS.TYPE]!==_.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[m.FIELDS.START_POS]):void this.splitWord(!1,(function(r,i){t+=r,e.newNode(new u.default({value:t,source:v(s,e.currToken),sourceIndex:s[m.FIELDS.START_POS]})),i>1&&e.nextToken&&e.nextToken[m.FIELDS.TYPE]===_.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[m.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},t.space=function(){var e=this.content();0===this.position||this.prevToken[m.FIELDS.TYPE]===_.comma||this.prevToken[m.FIELDS.TYPE]===_.openParenthesis||this.current.nodes.every((function(e){return"comment"===e.type}))?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[m.FIELDS.TYPE]===_.comma||this.nextToken[m.FIELDS.TYPE]===_.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},t.string=function(){var e=this.currToken;this.newNode(new l.default({value:this.content(),source:P(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},t.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var s=this.currToken;this.newNode(new d.default({value:this.content(),source:P(s),sourceIndex:s[m.FIELDS.START_POS]}),e),this.position++},t.splitWord=function(e,t){for(var s=this,r=this.nextToken,i=this.content();r&&~[_.dollar,_.caret,_.equals,_.word].indexOf(r[m.FIELDS.TYPE]);){this.position++;var n=this.content();if(i+=n,n.lastIndexOf("\\")===n.length-1){var a=this.nextToken;a&&a[m.FIELDS.TYPE]===_.space&&(i+=this.requiredSpace(this.content(a)),this.position++)}r=this.nextToken}var l=w(i,".").filter((function(e){var t="\\"===i[e-1],s=/^\d+\.\d+%$/.test(i);return!t&&!s})),u=w(i,"#").filter((function(e){return"\\"!==i[e-1]})),p=w(i,"#{");p.length&&(u=u.filter((function(e){return!~p.indexOf(e)})));var d=(0,E.default)(function(){var e=Array.prototype.concat.apply([],arguments);return e.filter((function(t,s){return s===e.indexOf(t)}))}([0].concat(l,u)));d.forEach((function(r,n){var a,p=d[n+1]||i.length,f=i.slice(r,p);if(0===n&&t)return t.call(s,f,d.length);var T=s.currToken,E=T[m.FIELDS.START_POS]+d[n],_=R(T[1],T[2]+r,T[3],T[2]+(p-1));if(~l.indexOf(r)){var A={value:f.slice(1),source:_,sourceIndex:E};a=new o.default(k(A,"value"))}else if(~u.indexOf(r)){var g={value:f.slice(1),source:_,sourceIndex:E};a=new c.default(k(g,"value"))}else{var S={value:f,source:_,sourceIndex:E};k(S,"value"),a=new h.default(S)}s.newNode(a,e),e=null})),this.position++},t.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},t.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},t.parse=function(e){switch(this.currToken[m.FIELDS.TYPE]){case _.space:this.space();break;case _.comment:this.comment();break;case _.openParenthesis:this.parentheses();break;case _.closeParenthesis:e&&this.missingParenthesis();break;case _.openSquare:this.attribute();break;case _.dollar:case _.caret:case _.equals:case _.word:this.word();break;case _.colon:this.pseudo();break;case _.comma:this.comma();break;case _.asterisk:this.universal();break;case _.ampersand:this.nesting();break;case _.slash:case _.combinator:this.combinator();break;case _.str:this.string();break;case _.closeSquare:this.missingSquareBracket();case _.semicolon:this.missingBackslash();default:this.unexpected()}},t.expected=function(e,t,s){if(Array.isArray(e)){var r=e.pop();e=e.join(", ")+" or "+r}var i=/^[aeiou]/.test(e[0])?"an":"a";return s?this.error("Expected "+i+" "+e+', found "'+s+'" instead.',{index:t}):this.error("Expected "+i+" "+e+".",{index:t})},t.requiredSpace=function(e){return this.options.lossy?" ":e},t.optionalSpace=function(e){return this.options.lossy?"":e},t.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},t.parseParenthesisToken=function(e){var t=this.content(e);return e[m.FIELDS.TYPE]===_.space?this.requiredSpace(t):t},t.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,k(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},t.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[m.FIELDS.START_POS],e[m.FIELDS.END_POS])},t.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;){if(!N[this.tokens[t][m.FIELDS.TYPE]])return t;t++}return-1},O(e,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),e}();t.default=L,e.exports=t.default}(po,po.exports);var ma=po.exports;!function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=ma)&&s.__esModule?s:{default:s};var i=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==Object.assign({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===Object.assign({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new r.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var s=this;return void 0===t&&(t={}),new Promise((function(r,i){try{var n=s._root(e,t);Promise.resolve(s.func(n)).then((function(r){var i=void 0;return s._shouldUpdateSelector(e,t)&&(i=n.toString(),e.selector=i),{transform:r,root:n,string:i}})).then(r,i)}catch(e){return void i(e)}}))},t._runSync=function(e,t){void 0===t&&(t={});var s=this._root(e,t),r=this.func(s);if(r&&"function"==typeof r.then)throw new Error("Selector processor returned a promise to a synchronous call.");var i=void 0;return t.updateSelector&&"string"!=typeof e&&(i=s.toString(),e.selector=i),{transform:r,root:s,string:i}},t.ast=function(e,t){return this._run(e,t).then((function(e){return e.root}))},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then((function(e){return e.transform}))},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then((function(e){return e.string||e.root.toString()}))},t.processSync=function(e,t){var s=this._runSync(e,t);return s.string||s.root.toString()},e}();t.default=i,e.exports=t.default}(uo,uo.exports);var _a=uo.exports,Aa={},ga={__esModule:!0};ga.universal=ga.tag=ga.string=ga.selector=ga.root=ga.pseudo=ga.nesting=ga.id=ga.comment=ga.combinator=ga.className=ga.attribute=void 0;var Sa=wa(na),Ia=wa(qo),Da=wa(la),Oa=wa(Vo),Ca=wa(Xo),Na=wa(pa),ya=wa(ia),ba=wa(Go),Ra=wa(Fo),Pa=wa(sa),va=wa(ea),ka=wa(ca);function wa(e){return e&&e.__esModule?e:{default:e}}ga.attribute=function(e){return new Sa.default(e)};ga.className=function(e){return new Ia.default(e)};ga.combinator=function(e){return new Da.default(e)};ga.comment=function(e){return new Oa.default(e)};ga.id=function(e){return new Ca.default(e)};ga.nesting=function(e){return new Na.default(e)};ga.pseudo=function(e){return new ya.default(e)};ga.root=function(e){return new ba.default(e)};ga.selector=function(e){return new Ra.default(e)};ga.string=function(e){return new Pa.default(e)};ga.tag=function(e){return new va.default(e)};ga.universal=function(e){return new ka.default(e)};var La={__esModule:!0};La.isComment=La.isCombinator=La.isClassName=La.isAttribute=void 0,La.isContainer=function(e){return!(!Fa(e)||!e.walk)},La.isIdentifier=void 0,La.isNamespace=function(e){return Ua(e)||Xa(e)},La.isNesting=void 0,La.isNode=Fa,La.isPseudo=void 0,La.isPseudoClass=function(e){return qa(e)&&!Ja(e)},La.isPseudoElement=Ja,La.isUniversal=La.isTag=La.isString=La.isSelector=La.isRoot=void 0;var Ma,Ga=Lo,xa=((Ma={})[Ga.ATTRIBUTE]=!0,Ma[Ga.CLASS]=!0,Ma[Ga.COMBINATOR]=!0,Ma[Ga.COMMENT]=!0,Ma[Ga.ID]=!0,Ma[Ga.NESTING]=!0,Ma[Ga.PSEUDO]=!0,Ma[Ga.ROOT]=!0,Ma[Ga.SELECTOR]=!0,Ma[Ga.STRING]=!0,Ma[Ga.TAG]=!0,Ma[Ga.UNIVERSAL]=!0,Ma);function Fa(e){return"object"==typeof e&&xa[e.type]}function Ba(e,t){return Fa(t)&&t.type===e}var Ua=Ba.bind(null,Ga.ATTRIBUTE);La.isAttribute=Ua;var Ha=Ba.bind(null,Ga.CLASS);La.isClassName=Ha;var ja=Ba.bind(null,Ga.COMBINATOR);La.isCombinator=ja;var Ya=Ba.bind(null,Ga.COMMENT);La.isComment=Ya;var Wa=Ba.bind(null,Ga.ID);La.isIdentifier=Wa;var za=Ba.bind(null,Ga.NESTING);La.isNesting=za;var qa=Ba.bind(null,Ga.PSEUDO);La.isPseudo=qa;var Qa=Ba.bind(null,Ga.ROOT);La.isRoot=Qa;var Va=Ba.bind(null,Ga.SELECTOR);La.isSelector=Va;var Ka=Ba.bind(null,Ga.STRING);La.isString=Ka;var Xa=Ba.bind(null,Ga.TAG);La.isTag=Xa;var $a=Ba.bind(null,Ga.UNIVERSAL);function Ja(e){return qa(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase()||":first-letter"===e.value.toLowerCase()||":first-line"===e.value.toLowerCase())}La.isUniversal=$a,function(e){e.__esModule=!0;var t=Lo;Object.keys(t).forEach((function(s){"default"!==s&&"__esModule"!==s&&(s in e&&e[s]===t[s]||(e[s]=t[s]))}));var s=ga;Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||(e[t]=s[t]))}));var r=La;Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||(e[t]=r[t]))}))}(Aa),function(e,t){t.__esModule=!0,t.default=void 0;var s,r=(s=_a)&&s.__esModule?s:{default:s},i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=n(t);if(s&&s.has(e))return s.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,s&&s.set(e,r);return r}(Aa);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(n=function(e){return e?s:t})(e)}var o=function(e){return new r.default(e)};Object.assign(o,i),delete o.__esModule;var a=o;t.default=a,e.exports=t.default}(lo,lo.exports);var Za,ec=lo.exports;Object.defineProperty(l,"__esModule",{value:!0});var tc=u,sc=s,rc=ho,ic=ec,nc=a;function oc(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var ac,cc=oc(e),hc=oc(tc),lc=oc(sc),uc=oc(rc),pc=(ac=ic)&&"object"==typeof ac&&"default"in ac?ac:{default:ac};function dc(e,t){t&&t.forEach(e.add,e)}class fc{constructor(e){this.undetermined=new Set,this.attrNames=new Set,this.attrValues=new Set,this.classes=new Set,this.ids=new Set,this.tags=new Set,this.merge(e)}merge(e){return Array.isArray(e)?dc(this.undetermined,e):e instanceof fc?(dc(this.undetermined,e.undetermined),dc(this.attrNames,e.attrNames),dc(this.attrValues,e.attrValues),dc(this.classes,e.classes),dc(this.ids,e.ids),dc(this.tags,e.tags)):(dc(this.undetermined,e.undetermined),e.attributes&&(dc(this.attrNames,e.attributes.names),dc(this.attrValues,e.attributes.values)),dc(this.classes,e.classes),dc(this.ids,e.ids),dc(this.tags,e.tags)),this}hasAttrName(e){return this.attrNames.has(e)||this.undetermined.has(e)}someAttrValue(e){for(const t of this.attrValues)if(e(t))return!0;for(const t of this.undetermined)if(e(t))return!0;return!1}hasAttrPrefix(e){return this.someAttrValue((t=>t.startsWith(e)))}hasAttrSuffix(e){return this.someAttrValue((t=>t.endsWith(e)))}hasAttrSubstr(e){return e.trim().split(" ").every((e=>this.someAttrValue((t=>t.includes(e)))))}hasAttrValue(e){return this.attrValues.has(e)||this.undetermined.has(e)}hasClass(e){return this.classes.has(e)||this.undetermined.has(e)}hasId(e){return this.ids.has(e)||this.undetermined.has(e)}hasTag(e){return this.tags.has(e)||this.undetermined.has(e)}}const Tc=["*",":root",":after",":before"],Ec={css:[],content:[],defaultExtractor:e=>e.match(/[A-Za-z0-9_-]+/g)||[],extractors:[],fontFace:!1,keyframes:!1,rejected:!1,rejectedCss:!1,sourceMap:!1,stdin:!1,stdout:!1,variables:!1,safelist:{standard:[],deep:[],greedy:[],variables:[],keyframes:[]},blocklist:[],skippedContentGlobs:[],dynamicAttributes:[]};class mc{constructor(e){this.nodes=[],this.isUsed=!1,this.value=e}}class _c{constructor(){this.nodes=new Map,this.usedVariables=new Set,this.safelist=[]}addVariable(e){const{prop:t}=e;if(this.nodes.has(t)){const s=new mc(e),r=this.nodes.get(t)||[];this.nodes.set(t,[...r,s])}else{const s=new mc(e);this.nodes.set(t,[s])}}addVariableUsage(e,t){const{prop:s}=e,r=this.nodes.get(s);for(const e of t){const t=e[1];if(this.nodes.has(t)){const e=this.nodes.get(t);null==r||r.forEach((t=>{null==e||e.forEach((e=>t.nodes.push(e)))}))}}}addVariableUsageInProperties(e){for(const t of e){const e=t[1];this.usedVariables.add(e)}}setAsUsed(e){const t=this.nodes.get(e);if(t){const e=[...t];for(;0!==e.length;){const t=e.pop();t&&!t.isUsed&&(t.isUsed=!0,e.push(...t.nodes))}}}removeUnused(){for(const e of this.usedVariables){const t=this.nodes.get(e);if(t)for(const e of t){const t=e.value.value.matchAll(/var\((.+?)[,)]/g);for(const e of t)this.usedVariables.has(e[1])||this.usedVariables.add(e[1])}}for(const e of this.usedVariables)this.setAsUsed(e);for(const[e,t]of this.nodes)for(const s of t)s.isUsed||this.isVariablesSafelisted(e)||s.value.remove()}isVariablesSafelisted(e){return this.safelist.some((t=>"string"==typeof t?t===e:t.test(e)))}}const Ac={access:nc.promisify(cc.access),readFile:nc.promisify(cc.readFile)};function gc(e=[]){return Array.isArray(e)?{...Ec.safelist,standard:e}:{...Ec.safelist,...e}}async function Sc(e="purgecss.config.js"){let t;try{const r=lc.resolve(process.cwd(),e);t=await(s=r,Promise.resolve().then((function(){return oc(function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(s))})))}catch(s){if(s instanceof Error)throw new Error(`Error loading the config file ${s.message}`);throw new Error}var s;return{...Ec,...t,safelist:gc(t.safelist)}}async function Ic(e,t){return new fc(await t(e))}function Dc(e,t){switch(t){case"next":return e.text.includes("purgecss ignore");case"start":return e.text.includes("purgecss start ignore");case"end":return e.text.includes("purgecss end ignore")}}function Oc(...e){const t=new fc([]);return e.forEach(t.merge,t),t}function Cc(e){return e.replace(/(^["'])|(["']$)/g,"")}function Nc(e,t){if(!t.hasAttrName(e.attribute))return!1;if(void 0===e.value)return!0;switch(e.operator){case"$=":return t.hasAttrSuffix(e.value);case"~=":case"*=":return t.hasAttrSubstr(e.value);case"=":return t.hasAttrValue(e.value);case"|=":case"^=":return t.hasAttrPrefix(e.value);default:return!0}}function yc(e,t){return t.hasId(e.value)}function bc(e,t){return t.hasTag(e.value)}function Rc(e){return"atrule"===(null==e?void 0:e.type)}function Pc(e){return"rule"===(null==e?void 0:e.type)}l.ExtractorResultSets=fc,Za=l.PurgeCSS=class{constructor(){this.ignore=!1,this.atRules={fontFace:[],keyframes:[]},this.usedAnimations=new Set,this.usedFontFaces=new Set,this.selectorsRemoved=new Set,this.removedNodes=[],this.variablesStructure=new _c,this.options=Ec}collectDeclarationsData(e){const{prop:t,value:s}=e;if(this.options.variables){const r=s.matchAll(/var\((.+?)[,)]/g);t.startsWith("--")?(this.variablesStructure.addVariable(e),this.variablesStructure.addVariableUsage(e,r)):this.variablesStructure.addVariableUsageInProperties(r)}if(!this.options.keyframes||"animation"!==t&&"animation-name"!==t){if(this.options.fontFace&&"font-family"===t)for(const e of s.split(",")){const t=Cc(e.trim());this.usedFontFaces.add(t)}}else for(const e of s.split(/[\s,]+/))this.usedAnimations.add(e)}getFileExtractor(e,t){const s=t.find((t=>t.extensions.find((t=>e.endsWith(t)))));return void 0===s?this.options.defaultExtractor:s.extractor}async extractSelectorsFromFiles(e,t){const s=new fc([]),r=[];for(const t of e)try{await Ac.access(t,cc.constants.F_OK),r.push(t)}catch(e){r.push(...hc.sync(t,{nodir:!0,ignore:this.options.skippedContentGlobs.map((e=>e.replace(/^\.\//,"")))}))}e.length>0&&0===r.length&&console.warn("No files found from the passed PurgeCSS option 'content'.");for(const e of r){const r=await Ac.readFile(e,"utf-8"),i=this.getFileExtractor(e,t),n=await Ic(r,i);s.merge(n)}return s}async extractSelectorsFromString(e,t){const s=new fc([]);for(const{raw:r,extension:i}of e){const e=this.getFileExtractor(`.${i}`,t),n=await Ic(r,e);s.merge(n)}return s}evaluateAtRule(e){if(this.options.keyframes&&e.name.endsWith("keyframes"))this.atRules.keyframes.push(e);else if(this.options.fontFace&&"font-face"===e.name&&e.nodes)for(const t of e.nodes)"decl"===t.type&&"font-family"===t.prop&&this.atRules.fontFace.push({name:Cc(t.value),node:e})}evaluateRule(e,t){if(this.ignore)return;const s=e.prev();if("comment"===(null==(r=s)?void 0:r.type)&&Dc(s,"next"))return void s.remove();var r;if(e.parent&&Rc(e.parent)&&e.parent.name.endsWith("keyframes"))return;if(!Pc(e))return;if(function(e){let t=!1;return e.walkComments((e=>{e&&"comment"===e.type&&e.text.includes("purgecss ignore current")&&(t=!0,e.remove())})),t}(e))return;const i=[];if(e.selector=pc.default((e=>{e.walk((e=>{"selector"===e.type&&(this.shouldKeepSelector(e,t)||(this.options.rejected&&this.selectorsRemoved.add(e.toString()),this.options.rejectedCss&&i.push(e.toString()),e.remove()))})),e.walk((e=>{"selector"===e.type&&e.toString()&&/(:where)|(:is)/.test(e.toString())&&e.walk((t=>{"pseudo"===t.type&&(":where"!==t.value&&":is"!==t.value||0===t.nodes.length&&e.remove())}))}))})).processSync(e.selector),e.selector&&void 0!==e.nodes)for(const t of e.nodes)"decl"===t.type&&this.collectDeclarationsData(t);const n=e.parent;if(e.selector||e.remove(),function(e){return!!(Pc(e)&&!e.selector||(null==e?void 0:e.nodes)&&!e.nodes.length||Rc(e)&&(!e.nodes&&!e.params||!e.params&&e.nodes&&!e.nodes.length))}(n)&&(null==n||n.remove()),this.options.rejectedCss&&i.length>0){const t=e.clone(),s=null==n?void 0:n.clone().removeAll().append(t);t.selectors=i;const r=s||t;this.removedNodes.push(r)}}async getPurgedCSS(e,t){var s;const r=[],i=[];for(const t of e)"string"==typeof t?i.push(...hc.sync(t,{nodir:!0,ignore:this.options.skippedContentGlobs})):i.push(t);for(const e of i){const i="string"==typeof e?this.options.stdin?e:await Ac.readFile(e,"utf-8"):e.raw,n="string"==typeof e&&!this.options.stdin,o=uc.parse(i,{from:n?e:void 0});this.walkThroughCSS(o,t),this.options.fontFace&&this.removeUnusedFontFaces(),this.options.keyframes&&this.removeUnusedKeyframes(),this.options.variables&&this.removeUnusedCSSVariables();const a=o.toResult({map:this.options.sourceMap,to:"object"==typeof this.options.sourceMap?this.options.sourceMap.to:void 0}),c={css:a.toString(),file:"string"==typeof e?e:e.name};this.options.sourceMap&&(c.sourceMap=null===(s=a.map)||void 0===s?void 0:s.toString()),this.options.rejected&&(c.rejected=Array.from(this.selectorsRemoved),this.selectorsRemoved.clear()),this.options.rejectedCss&&(c.rejectedCss=uc.root({nodes:this.removedNodes}).toString()),r.push(c)}return r}isKeyframesSafelisted(e){return this.options.safelist.keyframes.some((t=>"string"==typeof t?t===e:t.test(e)))}isSelectorBlocklisted(e){return this.options.blocklist.some((t=>"string"==typeof t?t===e:t.test(e)))}isSelectorSafelisted(e){const t=this.options.safelist.standard.some((t=>"string"==typeof t?t===e:t.test(e))),s=/^::.*/.test(e);return Tc.includes(e)||s||t}isSelectorSafelistedDeep(e){return this.options.safelist.deep.some((t=>t.test(e)))}isSelectorSafelistedGreedy(e){return this.options.safelist.greedy.some((t=>t.test(e)))}async purge(e){this.options="object"!=typeof e?await Sc(e):{...Ec,...e,safelist:gc(e.safelist)};const{content:t,css:s,extractors:r,safelist:i}=this.options;this.options.variables&&(this.variablesStructure.safelist=i.variables||[]);const n=t.filter((e=>"string"==typeof e)),o=t.filter((e=>"object"==typeof e)),a=await this.extractSelectorsFromFiles(n,r),c=await this.extractSelectorsFromString(o,r);return this.getPurgedCSS(s,Oc(a,c))}removeUnusedCSSVariables(){this.variablesStructure.removeUnused()}removeUnusedFontFaces(){for(const{name:e,node:t}of this.atRules.fontFace)this.usedFontFaces.has(e)||t.remove()}removeUnusedKeyframes(){for(const e of this.atRules.keyframes)this.usedAnimations.has(e.params)||this.isKeyframesSafelisted(e.params)||e.remove()}getSelectorValue(e){return"attribute"===e.type&&e.attribute||e.value}shouldKeepSelector(e,t){if((s=e).parent&&"pseudo"===s.parent.type&&s.parent.value.startsWith(":")&&!function(e){return e.parent&&"pseudo"===e.parent.type&&(":where"===e.parent.value||":is"===e.parent.value)||!1}(e))return!0;var s;if(this.options.safelist.greedy.length>0&&e.nodes.map(this.getSelectorValue).some((e=>e&&this.isSelectorSafelistedGreedy(e))))return!0;let r=!1;for(const s of e.nodes){const e=this.getSelectorValue(s);if(e&&this.isSelectorSafelistedDeep(e))return!0;if(e&&(Tc.includes(e)||this.isSelectorSafelisted(e)))r=!0;else{if(e&&this.isSelectorBlocklisted(e))return!1;switch(s.type){case"attribute":r=!![...this.options.dynamicAttributes,"value","checked","selected","open"].includes(s.attribute)||Nc(s,t);break;case"class":i=s,r=t.hasClass(i.value);break;case"id":r=yc(s,t);break;case"tag":r=bc(s,t);break;default:continue}if(!r)return!1}}var i;return r}walkThroughCSS(e,t){e.walk((e=>"rule"===e.type?this.evaluateRule(e,t):"atrule"===e.type?this.evaluateAtRule(e):void("comment"===e.type&&(Dc(e,"start")?(this.ignore=!0,e.remove()):Dc(e,"end")&&(this.ignore=!1,e.remove())))))}},l.VariableNode=mc,l.VariablesStructure=_c,l.defaultOptions=Ec,l.mergeExtractorSelectors=Oc,l.setOptions=Sc,l.standardizeSafelist=gc;var vc={},kc={},wc={},Lc={},Mc={};Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.SEQUENCES=Mc.CODE_POINTS=Mc.REPLACEMENT_CHARACTER=void 0,Mc.isSurrogate=function(e){return e>=55296&&e<=57343},Mc.isSurrogatePair=function(e){return e>=56320&&e<=57343},Mc.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},Mc.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},Mc.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||Gc.has(e)};const Gc=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);var xc;Mc.REPLACEMENT_CHARACTER="",function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(xc||(Mc.CODE_POINTS=xc={})),Mc.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};var Fc,Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.ERR=void 0,function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(Fc||(Bc.ERR=Fc={})),Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.Preprocessor=void 0;const Uc=Mc,Hc=Bc;Lc.Preprocessor=class{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:s,col:r,offset:i}=this,n=r+t,o=i+t;return{code:e,startLine:s,endLine:s,startCol:n,endCol:n,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if((0,Uc.isSurrogatePair)(t))return this.pos++,this._addGap(),(0,Uc.getSurrogatePairCodePoint)(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Uc.CODE_POINTS.EOF;return this._err(Hc.ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++){if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Uc.CODE_POINTS.EOF;const s=this.html.charCodeAt(t);return s===Uc.CODE_POINTS.CARRIAGE_RETURN?Uc.CODE_POINTS.LINE_FEED:s}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Uc.CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);if(e===Uc.CODE_POINTS.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Uc.CODE_POINTS.LINE_FEED;if(e===Uc.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,(0,Uc.isSurrogate)(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Uc.CODE_POINTS.LINE_FEED||e===Uc.CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){(0,Uc.isControlCodePoint)(e)?this._err(Hc.ERR.controlCharacterInInputStream):(0,Uc.isUndefinedCodePoint)(e)&&this._err(Hc.ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var jc,Yc={};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.TokenType=void 0,Yc.getTokenAttr=function(e,t){for(let s=e.attrs.length-1;s>=0;s--)if(e.attrs[s].name===t)return e.attrs[s].value;return null},function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(jc||(Yc.TokenType=jc={}));var Wc={},zc={};Object.defineProperty(zc,"__esModule",{value:!0}),zc.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((function(e){return e.charCodeAt(0)})));var qc={};Object.defineProperty(qc,"__esModule",{value:!0}),qc.default=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((function(e){return e.charCodeAt(0)})));var Qc={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var s=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function r(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=s.get(e))&&void 0!==t?t:e}e.fromCodePoint=null!==(t=String.fromCodePoint)&&void 0!==t?t:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)},e.replaceCodePoint=r,e.default=function(t){return(0,e.fromCodePoint)(r(t))}}(Qc),function(e){var t=c&&c.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),s=c&&c.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return s(r,e),r},i=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var n=i(zc);e.htmlDecodeTree=n.default;var o=i(qc);e.xmlDecodeTree=o.default;var a=r(Qc);e.decodeCodePoint=a.default;var h,l=Qc;Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(h||(h={}));var u,p,d;function f(e){return e>=h.ZERO&&e<=h.NINE}function T(e){return e===h.EQUALS||function(e){return e>=h.UPPER_A&&e<=h.UPPER_Z||e>=h.LOWER_A&&e<=h.LOWER_Z||f(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(u=e.BinTrieFlags||(e.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(p||(p={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(d=e.DecodingMode||(e.DecodingMode={}));var E=function(){function e(e,t,s){this.decodeTree=e,this.emitCodePoint=t,this.errors=s,this.state=p.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=d.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=p.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case p.EntityStart:return e.charCodeAt(t)===h.NUM?(this.state=p.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=p.NamedEntity,this.stateNamedEntity(e,t));case p.NumericStart:return this.stateNumericStart(e,t);case p.NumericDecimal:return this.stateNumericDecimal(e,t);case p.NumericHex:return this.stateNumericHex(e,t);case p.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===h.LOWER_X?(this.state=p.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=p.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,s,r){if(t!==s){var i=s-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}},e.prototype.stateNumericHex=function(e,t){for(var s,r=t;t<e.length;){var i=e.charCodeAt(t);if(!(f(i)||(s=i,s>=h.UPPER_A&&s<=h.UPPER_F||s>=h.LOWER_A&&s<=h.LOWER_F)))return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,r,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var s=t;t<e.length;){var r=e.charCodeAt(t);if(!f(r))return this.addToNumericResult(e,s,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,s,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var s;if(this.consumed<=t)return null===(s=this.errors)||void 0===s||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===h.SEMI)this.consumed+=1;else if(this.decodeMode===d.Strict)return 0;return this.emitCodePoint((0,a.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==h.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var s=this.decodeTree,r=s[this.treeIndex],i=(r&u.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var n=e.charCodeAt(t);if(this.treeIndex=_(s,r,this.treeIndex+Math.max(1,i),n),this.treeIndex<0)return 0===this.result||this.decodeMode===d.Attribute&&(0===i||T(n))?0:this.emitNotTerminatedNamedEntity();if(0!==(i=((r=s[this.treeIndex])&u.VALUE_LENGTH)>>14)){if(n===h.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==d.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,s=(this.decodeTree[t]&u.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,s,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,s){var r=this.decodeTree;return this.emitCodePoint(1===t?r[e]&~u.VALUE_LENGTH:r[e+1],s),3===t&&this.emitCodePoint(r[e+2],s),s},e.prototype.end=function(){var e;switch(this.state){case p.NamedEntity:return 0===this.result||this.decodeMode===d.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case p.NumericDecimal:return this.emitNumericEntity(0,2);case p.NumericHex:return this.emitNumericEntity(0,3);case p.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case p.EntityStart:return 0}},e}();function m(e){var t="",s=new E(e,(function(e){return t+=(0,a.fromCodePoint)(e)}));return function(e,r){for(var i=0,n=0;(n=e.indexOf("&",n))>=0;){t+=e.slice(i,n),s.startEntity(r);var o=s.write(e,n+1);if(o<0){i=n+s.end();break}i=n+o,n=0===o?i+1:i}var a=t+e.slice(i);return t="",a}}function _(e,t,s,r){var i=(t&u.BRANCH_LENGTH)>>7,n=t&u.JUMP_TABLE;if(0===i)return 0!==n&&r===n?s:-1;if(n){var o=r-n;return o<0||o>=i?-1:e[s+o]-1}for(var a=s,c=a+i-1;a<=c;){var h=a+c>>>1,l=e[h];if(l<r)a=h+1;else{if(!(l>r))return e[h+i];c=h-1}}return-1}e.EntityDecoder=E,e.determineBranch=_;var A=m(n.default),g=m(o.default);e.decodeHTML=function(e,t){return void 0===t&&(t=d.Legacy),A(e,t)},e.decodeHTMLAttribute=function(e){return A(e,d.Attribute)},e.decodeHTMLStrict=function(e){return A(e,d.Strict)},e.decodeXML=function(e){return g(e,d.Strict)}}(Wc);var Vc,Kc,Xc,$c,Jc,Zc={};Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.NUMBERED_HEADERS=Zc.SPECIAL_ELEMENTS=Zc.TAG_ID=Zc.TAG_NAMES=Zc.DOCUMENT_MODE=Zc.ATTRS=Zc.NS=void 0,Zc.getTagID=function(e){var t;return null!==(t=eh.get(e))&&void 0!==t?t:Jc.UNKNOWN},Zc.hasUnescapedText=function(e,t){return sh.has(e)||t&&e===$c.NOSCRIPT},function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(Vc||(Zc.NS=Vc={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(Kc||(Zc.ATTRS=Kc={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(Xc||(Zc.DOCUMENT_MODE=Xc={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}($c||(Zc.TAG_NAMES=$c={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(Jc||(Zc.TAG_ID=Jc={}));const eh=new Map([[$c.A,Jc.A],[$c.ADDRESS,Jc.ADDRESS],[$c.ANNOTATION_XML,Jc.ANNOTATION_XML],[$c.APPLET,Jc.APPLET],[$c.AREA,Jc.AREA],[$c.ARTICLE,Jc.ARTICLE],[$c.ASIDE,Jc.ASIDE],[$c.B,Jc.B],[$c.BASE,Jc.BASE],[$c.BASEFONT,Jc.BASEFONT],[$c.BGSOUND,Jc.BGSOUND],[$c.BIG,Jc.BIG],[$c.BLOCKQUOTE,Jc.BLOCKQUOTE],[$c.BODY,Jc.BODY],[$c.BR,Jc.BR],[$c.BUTTON,Jc.BUTTON],[$c.CAPTION,Jc.CAPTION],[$c.CENTER,Jc.CENTER],[$c.CODE,Jc.CODE],[$c.COL,Jc.COL],[$c.COLGROUP,Jc.COLGROUP],[$c.DD,Jc.DD],[$c.DESC,Jc.DESC],[$c.DETAILS,Jc.DETAILS],[$c.DIALOG,Jc.DIALOG],[$c.DIR,Jc.DIR],[$c.DIV,Jc.DIV],[$c.DL,Jc.DL],[$c.DT,Jc.DT],[$c.EM,Jc.EM],[$c.EMBED,Jc.EMBED],[$c.FIELDSET,Jc.FIELDSET],[$c.FIGCAPTION,Jc.FIGCAPTION],[$c.FIGURE,Jc.FIGURE],[$c.FONT,Jc.FONT],[$c.FOOTER,Jc.FOOTER],[$c.FOREIGN_OBJECT,Jc.FOREIGN_OBJECT],[$c.FORM,Jc.FORM],[$c.FRAME,Jc.FRAME],[$c.FRAMESET,Jc.FRAMESET],[$c.H1,Jc.H1],[$c.H2,Jc.H2],[$c.H3,Jc.H3],[$c.H4,Jc.H4],[$c.H5,Jc.H5],[$c.H6,Jc.H6],[$c.HEAD,Jc.HEAD],[$c.HEADER,Jc.HEADER],[$c.HGROUP,Jc.HGROUP],[$c.HR,Jc.HR],[$c.HTML,Jc.HTML],[$c.I,Jc.I],[$c.IMG,Jc.IMG],[$c.IMAGE,Jc.IMAGE],[$c.INPUT,Jc.INPUT],[$c.IFRAME,Jc.IFRAME],[$c.KEYGEN,Jc.KEYGEN],[$c.LABEL,Jc.LABEL],[$c.LI,Jc.LI],[$c.LINK,Jc.LINK],[$c.LISTING,Jc.LISTING],[$c.MAIN,Jc.MAIN],[$c.MALIGNMARK,Jc.MALIGNMARK],[$c.MARQUEE,Jc.MARQUEE],[$c.MATH,Jc.MATH],[$c.MENU,Jc.MENU],[$c.META,Jc.META],[$c.MGLYPH,Jc.MGLYPH],[$c.MI,Jc.MI],[$c.MO,Jc.MO],[$c.MN,Jc.MN],[$c.MS,Jc.MS],[$c.MTEXT,Jc.MTEXT],[$c.NAV,Jc.NAV],[$c.NOBR,Jc.NOBR],[$c.NOFRAMES,Jc.NOFRAMES],[$c.NOEMBED,Jc.NOEMBED],[$c.NOSCRIPT,Jc.NOSCRIPT],[$c.OBJECT,Jc.OBJECT],[$c.OL,Jc.OL],[$c.OPTGROUP,Jc.OPTGROUP],[$c.OPTION,Jc.OPTION],[$c.P,Jc.P],[$c.PARAM,Jc.PARAM],[$c.PLAINTEXT,Jc.PLAINTEXT],[$c.PRE,Jc.PRE],[$c.RB,Jc.RB],[$c.RP,Jc.RP],[$c.RT,Jc.RT],[$c.RTC,Jc.RTC],[$c.RUBY,Jc.RUBY],[$c.S,Jc.S],[$c.SCRIPT,Jc.SCRIPT],[$c.SEARCH,Jc.SEARCH],[$c.SECTION,Jc.SECTION],[$c.SELECT,Jc.SELECT],[$c.SOURCE,Jc.SOURCE],[$c.SMALL,Jc.SMALL],[$c.SPAN,Jc.SPAN],[$c.STRIKE,Jc.STRIKE],[$c.STRONG,Jc.STRONG],[$c.STYLE,Jc.STYLE],[$c.SUB,Jc.SUB],[$c.SUMMARY,Jc.SUMMARY],[$c.SUP,Jc.SUP],[$c.TABLE,Jc.TABLE],[$c.TBODY,Jc.TBODY],[$c.TEMPLATE,Jc.TEMPLATE],[$c.TEXTAREA,Jc.TEXTAREA],[$c.TFOOT,Jc.TFOOT],[$c.TD,Jc.TD],[$c.TH,Jc.TH],[$c.THEAD,Jc.THEAD],[$c.TITLE,Jc.TITLE],[$c.TR,Jc.TR],[$c.TRACK,Jc.TRACK],[$c.TT,Jc.TT],[$c.U,Jc.U],[$c.UL,Jc.UL],[$c.SVG,Jc.SVG],[$c.VAR,Jc.VAR],[$c.WBR,Jc.WBR],[$c.XMP,Jc.XMP]]);const th=Jc;Zc.SPECIAL_ELEMENTS={[Vc.HTML]:new Set([th.ADDRESS,th.APPLET,th.AREA,th.ARTICLE,th.ASIDE,th.BASE,th.BASEFONT,th.BGSOUND,th.BLOCKQUOTE,th.BODY,th.BR,th.BUTTON,th.CAPTION,th.CENTER,th.COL,th.COLGROUP,th.DD,th.DETAILS,th.DIR,th.DIV,th.DL,th.DT,th.EMBED,th.FIELDSET,th.FIGCAPTION,th.FIGURE,th.FOOTER,th.FORM,th.FRAME,th.FRAMESET,th.H1,th.H2,th.H3,th.H4,th.H5,th.H6,th.HEAD,th.HEADER,th.HGROUP,th.HR,th.HTML,th.IFRAME,th.IMG,th.INPUT,th.LI,th.LINK,th.LISTING,th.MAIN,th.MARQUEE,th.MENU,th.META,th.NAV,th.NOEMBED,th.NOFRAMES,th.NOSCRIPT,th.OBJECT,th.OL,th.P,th.PARAM,th.PLAINTEXT,th.PRE,th.SCRIPT,th.SECTION,th.SELECT,th.SOURCE,th.STYLE,th.SUMMARY,th.TABLE,th.TBODY,th.TD,th.TEMPLATE,th.TEXTAREA,th.TFOOT,th.TH,th.THEAD,th.TITLE,th.TR,th.TRACK,th.UL,th.WBR,th.XMP]),[Vc.MATHML]:new Set([th.MI,th.MO,th.MN,th.MS,th.MTEXT,th.ANNOTATION_XML]),[Vc.SVG]:new Set([th.TITLE,th.FOREIGN_OBJECT,th.DESC]),[Vc.XLINK]:new Set,[Vc.XML]:new Set,[Vc.XMLNS]:new Set},Zc.NUMBERED_HEADERS=new Set([th.H1,th.H2,th.H3,th.H4,th.H5,th.H6]);const sh=new Set([$c.STYLE,$c.SCRIPT,$c.XMP,$c.IFRAME,$c.NOEMBED,$c.NOFRAMES,$c.PLAINTEXT]);Object.defineProperty(wc,"__esModule",{value:!0}),wc.Tokenizer=wc.TokenizerMode=void 0;const rh=Lc,ih=Mc,nh=Yc,oh=Wc,ah=Bc,ch=Zc;var hh;function lh(e){return e>=ih.CODE_POINTS.LATIN_CAPITAL_A&&e<=ih.CODE_POINTS.LATIN_CAPITAL_Z}function uh(e){return function(e){return e>=ih.CODE_POINTS.LATIN_SMALL_A&&e<=ih.CODE_POINTS.LATIN_SMALL_Z}(e)||lh(e)}function ph(e){return uh(e)||function(e){return e>=ih.CODE_POINTS.DIGIT_0&&e<=ih.CODE_POINTS.DIGIT_9}(e)}function dh(e){return e+32}function fh(e){return e===ih.CODE_POINTS.SPACE||e===ih.CODE_POINTS.LINE_FEED||e===ih.CODE_POINTS.TABULATION||e===ih.CODE_POINTS.FORM_FEED}function Th(e){return fh(e)||e===ih.CODE_POINTS.SOLIDUS||e===ih.CODE_POINTS.GREATER_THAN_SIGN}!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(hh||(hh={})),wc.TokenizerMode={DATA:hh.DATA,RCDATA:hh.RCDATA,RAWTEXT:hh.RAWTEXT,SCRIPT_DATA:hh.SCRIPT_DATA,PLAINTEXT:hh.PLAINTEXT,CDATA_SECTION:hh.CDATA_SECTION};wc.Tokenizer=class{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=hh.DATA,this.returnState=hh.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new rh.Preprocessor(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new oh.EntityDecoder(oh.htmlDecodeTree,((e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)}),t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ah.ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(ah.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===ih.CODE_POINTS.NULL?ah.ERR.nullCharacterReference:e>1114111?ah.ERR.characterReferenceOutsideUnicodeRange:(0,ih.isSurrogate)(e)?ah.ERR.surrogateCharacterReference:(0,ih.isUndefinedCodePoint)(e)?ah.ERR.noncharacterCharacterReference:(0,ih.isControlCodePoint)(e)||e===ih.CODE_POINTS.CARRIAGE_RETURN?ah.ERR.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e,t=0){var s,r;null===(r=(s=this.handler).onParseError)||void 0===r||r.call(s,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,s){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==s||s()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:nh.TokenType.START_TAG,tagName:"",tagID:ch.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:nh.TokenType.END_TAG,tagName:"",tagID:ch.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:nh.TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:nh.TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const s=this.currentToken;if(null===(0,nh.getTokenAttr)(s,this.currentAttr.name)){if(s.attrs.push(this.currentAttr),s.location&&this.currentLocation){(null!==(e=(t=s.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ah.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=(0,ch.getTagID)(e.tagName),e.type===nh.TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ah.ERR.endTagWithAttributes),e.selfClosing&&this._err(ah.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case nh.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case nh.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case nh.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:nh.TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=fh(e)?nh.TokenType.WHITESPACE_CHARACTER:e===ih.CODE_POINTS.NULL?nh.TokenType.NULL_CHARACTER:nh.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(nh.TokenType.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=hh.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?oh.DecodingMode.Attribute:oh.DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===hh.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===hh.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===hh.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case hh.DATA:this._stateData(e);break;case hh.RCDATA:this._stateRcdata(e);break;case hh.RAWTEXT:this._stateRawtext(e);break;case hh.SCRIPT_DATA:this._stateScriptData(e);break;case hh.PLAINTEXT:this._statePlaintext(e);break;case hh.TAG_OPEN:this._stateTagOpen(e);break;case hh.END_TAG_OPEN:this._stateEndTagOpen(e);break;case hh.TAG_NAME:this._stateTagName(e);break;case hh.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case hh.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case hh.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case hh.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case hh.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case hh.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case hh.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case hh.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case hh.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case hh.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case hh.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case hh.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case hh.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case hh.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case hh.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case hh.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case hh.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case hh.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case hh.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case hh.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case hh.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case hh.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case hh.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case hh.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case hh.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case hh.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case hh.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case hh.BOGUS_COMMENT:this._stateBogusComment(e);break;case hh.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case hh.COMMENT_START:this._stateCommentStart(e);break;case hh.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case hh.COMMENT:this._stateComment(e);break;case hh.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case hh.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case hh.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case hh.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case hh.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case hh.COMMENT_END:this._stateCommentEnd(e);break;case hh.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case hh.DOCTYPE:this._stateDoctype(e);break;case hh.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case hh.DOCTYPE_NAME:this._stateDoctypeName(e);break;case hh.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case hh.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case hh.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case hh.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case hh.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case hh.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case hh.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case hh.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case hh.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case hh.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case hh.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case hh.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case hh.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case hh.CDATA_SECTION:this._stateCdataSection(e);break;case hh.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case hh.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case hh.CHARACTER_REFERENCE:this._stateCharacterReference();break;case hh.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.TAG_OPEN;break;case ih.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitCodePoint(e);break;case ih.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case ih.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.RCDATA_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.RAWTEXT_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(uh(e))this._createStartTagToken(),this.state=hh.TAG_NAME,this._stateTagName(e);else switch(e){case ih.CODE_POINTS.EXCLAMATION_MARK:this.state=hh.MARKUP_DECLARATION_OPEN;break;case ih.CODE_POINTS.SOLIDUS:this.state=hh.END_TAG_OPEN;break;case ih.CODE_POINTS.QUESTION_MARK:this._err(ah.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=hh.BOGUS_COMMENT,this._stateBogusComment(e);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(ah.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=hh.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(uh(e))this._createEndTagToken(),this.state=hh.TAG_NAME,this._stateTagName(e);else switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingEndTagName),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(ah.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=hh.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.BEFORE_ATTRIBUTE_NAME;break;case ih.CODE_POINTS.SOLIDUS:this.state=hh.SELF_CLOSING_START_TAG;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentTagToken();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.tagName+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(lh(e)?dh(e):e)}}_stateRcdataLessThanSign(e){e===ih.CODE_POINTS.SOLIDUS?this.state=hh.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=hh.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){uh(e)?(this.state=hh.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=hh.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=hh.BEFORE_ATTRIBUTE_NAME,!1;case ih.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=hh.SELF_CLOSING_START_TAG,!1;case ih.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=hh.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=hh.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===ih.CODE_POINTS.SOLIDUS?this.state=hh.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=hh.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){uh(e)?(this.state=hh.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=hh.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=hh.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case ih.CODE_POINTS.SOLIDUS:this.state=hh.SCRIPT_DATA_END_TAG_OPEN;break;case ih.CODE_POINTS.EXCLAMATION_MARK:this.state=hh.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=hh.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){uh(e)?(this.state=hh.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=hh.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=hh.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===ih.CODE_POINTS.HYPHEN_MINUS?(this.state=hh.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=hh.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===ih.CODE_POINTS.HYPHEN_MINUS?(this.state=hh.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=hh.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.state=hh.SCRIPT_DATA_ESCAPED,this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=hh.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.SCRIPT_DATA,this._emitChars(">");break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.state=hh.SCRIPT_DATA_ESCAPED,this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=hh.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===ih.CODE_POINTS.SOLIDUS?this.state=hh.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:uh(e)?(this._emitChars("<"),this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=hh.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){uh(e)?(this.state=hh.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=hh.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=hh.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(ih.SEQUENCES.SCRIPT,!1)&&Th(this.preprocessor.peek(ih.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<ih.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=hh.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case ih.CODE_POINTS.LESS_THAN_SIGN:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.SCRIPT_DATA,this._emitChars(">");break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ih.REPLACEMENT_CHARACTER);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===ih.CODE_POINTS.SOLIDUS?(this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(ih.SEQUENCES.SCRIPT,!1)&&Th(this.preprocessor.peek(ih.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<ih.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=hh.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=hh.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.SOLIDUS:case ih.CODE_POINTS.GREATER_THAN_SIGN:case ih.CODE_POINTS.EOF:this.state=hh.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case ih.CODE_POINTS.EQUALS_SIGN:this._err(ah.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=hh.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=hh.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:case ih.CODE_POINTS.SOLIDUS:case ih.CODE_POINTS.GREATER_THAN_SIGN:case ih.CODE_POINTS.EOF:this._leaveAttrName(),this.state=hh.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case ih.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=hh.BEFORE_ATTRIBUTE_VALUE;break;case ih.CODE_POINTS.QUOTATION_MARK:case ih.CODE_POINTS.APOSTROPHE:case ih.CODE_POINTS.LESS_THAN_SIGN:this._err(ah.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.currentAttr.name+=ih.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(lh(e)?dh(e):e)}}_stateAfterAttributeName(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.SOLIDUS:this.state=hh.SELF_CLOSING_START_TAG;break;case ih.CODE_POINTS.EQUALS_SIGN:this.state=hh.BEFORE_ATTRIBUTE_VALUE;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentTagToken();break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=hh.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.QUOTATION_MARK:this.state=hh.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:this.state=hh.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingAttributeValue),this.state=hh.DATA,this.emitCurrentTagToken();break;default:this.state=hh.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case ih.CODE_POINTS.QUOTATION_MARK:this.state=hh.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case ih.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.currentAttr.value+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case ih.CODE_POINTS.APOSTROPHE:this.state=hh.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case ih.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.currentAttr.value+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=hh.BEFORE_ATTRIBUTE_NAME;break;case ih.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=hh.DATA,this.emitCurrentTagToken();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this.currentAttr.value+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.QUOTATION_MARK:case ih.CODE_POINTS.APOSTROPHE:case ih.CODE_POINTS.LESS_THAN_SIGN:case ih.CODE_POINTS.EQUALS_SIGN:case ih.CODE_POINTS.GRAVE_ACCENT:this._err(ah.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=hh.BEFORE_ATTRIBUTE_NAME;break;case ih.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=hh.SELF_CLOSING_START_TAG;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=hh.DATA,this.emitCurrentTagToken();break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this._err(ah.ERR.missingWhitespaceBetweenAttributes),this.state=hh.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=hh.DATA,this.emitCurrentTagToken();break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInTag),this._emitEOFToken();break;default:this._err(ah.ERR.unexpectedSolidusInTag),this.state=hh.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentComment(t);break;case ih.CODE_POINTS.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.data+=ih.REPLACEMENT_CHARACTER;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ih.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(ih.SEQUENCES.DASH_DASH.length+1),this.state=hh.COMMENT_START):this._consumeSequenceIfMatch(ih.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ih.SEQUENCES.DOCTYPE.length+1),this.state=hh.DOCTYPE):this._consumeSequenceIfMatch(ih.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=hh.CDATA_SECTION:(this._err(ah.ERR.cdataInHtmlContent),this._createCommentToken(ih.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=hh.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ah.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=hh.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.COMMENT_START_DASH;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ah.ERR.abruptClosingOfEmptyComment),this.state=hh.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=hh.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.COMMENT_END;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.abruptClosingOfEmptyComment),this.state=hh.DATA,this.emitCurrentComment(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=hh.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.COMMENT_END_DASH;break;case ih.CODE_POINTS.LESS_THAN_SIGN:t.data+="<",this.state=hh.COMMENT_LESS_THAN_SIGN;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.data+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.EXCLAMATION_MARK:t.data+="!",this.state=hh.COMMENT_LESS_THAN_SIGN_BANG;break;case ih.CODE_POINTS.LESS_THAN_SIGN:t.data+="<";break;default:this.state=hh.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===ih.CODE_POINTS.HYPHEN_MINUS?this.state=hh.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=hh.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===ih.CODE_POINTS.HYPHEN_MINUS?this.state=hh.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=hh.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==ih.CODE_POINTS.GREATER_THAN_SIGN&&e!==ih.CODE_POINTS.EOF&&this._err(ah.ERR.nestedComment),this.state=hh.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:this.state=hh.COMMENT_END;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=hh.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentComment(t);break;case ih.CODE_POINTS.EXCLAMATION_MARK:this.state=hh.COMMENT_END_BANG;break;case ih.CODE_POINTS.HYPHEN_MINUS:t.data+="-";break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=hh.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.HYPHEN_MINUS:t.data+="--!",this.state=hh.COMMENT_END_DASH;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.incorrectlyClosedComment),this.state=hh.DATA,this.emitCurrentComment(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=hh.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.BEFORE_DOCTYPE_NAME;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case ih.CODE_POINTS.EOF:{this._err(ah.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(ah.ERR.missingWhitespaceBeforeDoctypeName),this.state=hh.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(lh(e))this._createDoctypeToken(String.fromCharCode(dh(e))),this.state=hh.DOCTYPE_NAME;else switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),this._createDoctypeToken(ih.REPLACEMENT_CHARACTER),this.state=hh.DOCTYPE_NAME;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ah.ERR.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=hh.DATA;break}case ih.CODE_POINTS.EOF:{this._err(ah.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=hh.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.AFTER_DOCTYPE_NAME;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.name+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(lh(e)?dh(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(ih.SEQUENCES.PUBLIC,!1)?this.state=hh.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ih.SEQUENCES.SYSTEM,!1)?this.state=hh.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ah.ERR.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case ih.CODE_POINTS.QUOTATION_MARK:this._err(ah.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=hh.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:this._err(ah.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=hh.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.QUOTATION_MARK:t.publicId="",this.state=hh.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:t.publicId="",this.state=hh.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.QUOTATION_MARK:this.state=hh.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.publicId+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.APOSTROPHE:this.state=hh.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.publicId+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.QUOTATION_MARK:this._err(ah.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:this._err(ah.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:this.state=hh.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case ih.CODE_POINTS.QUOTATION_MARK:this._err(ah.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:this._err(ah.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ih.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=hh.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.DATA,this.emitCurrentDoctype(t);break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.QUOTATION_MARK:this.state=hh.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.systemId+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.APOSTROPHE:this.state=hh.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter),t.systemId+=ih.REPLACEMENT_CHARACTER;break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this._err(ah.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.SPACE:case ih.CODE_POINTS.LINE_FEED:case ih.CODE_POINTS.TABULATION:case ih.CODE_POINTS.FORM_FEED:break;case ih.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(ah.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=hh.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=hh.DATA;break;case ih.CODE_POINTS.NULL:this._err(ah.ERR.unexpectedNullCharacter);break;case ih.CODE_POINTS.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case ih.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=hh.CDATA_SECTION_BRACKET;break;case ih.CODE_POINTS.EOF:this._err(ah.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===ih.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=hh.CDATA_SECTION_END:(this._emitChars("]"),this.state=hh.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case ih.CODE_POINTS.GREATER_THAN_SIGN:this.state=hh.DATA;break;case ih.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=hh.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ih.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&ph(this.preprocessor.peek(1))?hh.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){ph(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===ih.CODE_POINTS.SEMICOLON&&this._err(ah.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}};var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.OpenElementStack=void 0;const mh=Zc,_h=new Set([mh.TAG_ID.DD,mh.TAG_ID.DT,mh.TAG_ID.LI,mh.TAG_ID.OPTGROUP,mh.TAG_ID.OPTION,mh.TAG_ID.P,mh.TAG_ID.RB,mh.TAG_ID.RP,mh.TAG_ID.RT,mh.TAG_ID.RTC]),Ah=new Set([..._h,mh.TAG_ID.CAPTION,mh.TAG_ID.COLGROUP,mh.TAG_ID.TBODY,mh.TAG_ID.TD,mh.TAG_ID.TFOOT,mh.TAG_ID.TH,mh.TAG_ID.THEAD,mh.TAG_ID.TR]),gh=new Set([mh.TAG_ID.APPLET,mh.TAG_ID.CAPTION,mh.TAG_ID.HTML,mh.TAG_ID.MARQUEE,mh.TAG_ID.OBJECT,mh.TAG_ID.TABLE,mh.TAG_ID.TD,mh.TAG_ID.TEMPLATE,mh.TAG_ID.TH]),Sh=new Set([...gh,mh.TAG_ID.OL,mh.TAG_ID.UL]),Ih=new Set([...gh,mh.TAG_ID.BUTTON]),Dh=new Set([mh.TAG_ID.ANNOTATION_XML,mh.TAG_ID.MI,mh.TAG_ID.MN,mh.TAG_ID.MO,mh.TAG_ID.MS,mh.TAG_ID.MTEXT]),Oh=new Set([mh.TAG_ID.DESC,mh.TAG_ID.FOREIGN_OBJECT,mh.TAG_ID.TITLE]),Ch=new Set([mh.TAG_ID.TR,mh.TAG_ID.TEMPLATE,mh.TAG_ID.HTML]),Nh=new Set([mh.TAG_ID.TBODY,mh.TAG_ID.TFOOT,mh.TAG_ID.THEAD,mh.TAG_ID.TEMPLATE,mh.TAG_ID.HTML]),yh=new Set([mh.TAG_ID.TABLE,mh.TAG_ID.TEMPLATE,mh.TAG_ID.HTML]),bh=new Set([mh.TAG_ID.TD,mh.TAG_ID.TH]);Eh.OpenElementStack=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,s){this.treeAdapter=t,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=mh.TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===mh.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===mh.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const s=this._indexOf(e);this.items[s]=t,s===this.stackTop&&(this.current=t)}insertAfter(e,t,s){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,s),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==mh.NS.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const s=this._indexOfTagNames(e,t);this.shortenToLength(s<0?0:s)}popUntilNumberedHeaderPopped(){this.popUntilPopped(mh.NUMBERED_HEADERS,mh.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(bh,mh.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let s=this.stackTop;s>=0;s--)if(e.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===t)return s;return-1}clearBackTo(e,t){const s=this._indexOfTagNames(e,t);this.shortenToLength(s+1)}clearBackToTableContext(){this.clearBackTo(yh,mh.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Nh,mh.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ch,mh.NS.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===mh.TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===mh.TAG_ID.HTML}hasInDynamicScope(e,t){for(let s=this.stackTop;s>=0;s--){const r=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case mh.NS.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case mh.NS.SVG:if(Oh.has(r))return!1;break;case mh.NS.MATHML:if(Dh.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,gh)}hasInListItemScope(e){return this.hasInDynamicScope(e,Sh)}hasInButtonScope(e){return this.hasInDynamicScope(e,Ih)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case mh.NS.HTML:if(mh.NUMBERED_HEADERS.has(t))return!0;if(gh.has(t))return!1;break;case mh.NS.SVG:if(Oh.has(t))return!1;break;case mh.NS.MATHML:if(Dh.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===mh.NS.HTML)switch(this.tagIDs[t]){case e:return!0;case mh.TAG_ID.TABLE:case mh.TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===mh.NS.HTML)switch(this.tagIDs[e]){case mh.TAG_ID.TBODY:case mh.TAG_ID.THEAD:case mh.TAG_ID.TFOOT:return!0;case mh.TAG_ID.TABLE:case mh.TAG_ID.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===mh.NS.HTML)switch(this.tagIDs[t]){case e:return!0;case mh.TAG_ID.OPTION:case mh.TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;_h.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Ah.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Ah.has(this.currentTagId);)this.pop()}};var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.FormattingElementList=Rh.EntryType=void 0;var Ph;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(Ph||(Rh.EntryType=Ph={}));const vh={type:Ph.Marker};Rh.FormattingElementList=class{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const s=[],r=t.length,i=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===Ph.Marker)break;const{element:o}=t;if(this.treeAdapter.getTagName(o)===i&&this.treeAdapter.getNamespaceURI(o)===n){const t=this.treeAdapter.getAttrList(o);t.length===r&&s.push({idx:e,attrs:t})}}return s}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),s=this._getNoahArkConditionCandidates(e,t);if(s.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let i=0;for(let e=0;e<s.length;e++){const t=s[e];t.attrs.every((e=>r.get(e.name)===e.value))&&(i+=1,i>=3&&this.entries.splice(t.idx,1))}}insertMarker(){this.entries.unshift(vh)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:Ph.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:Ph.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(vh);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===Ph.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===Ph.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===Ph.Element&&t.element===e))}};var kh={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=Zc;e.defaultTreeAdapter={createDocument:()=>({nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,s)=>({nodeName:e,tagName:e,attrs:s,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,s){const r=e.childNodes.indexOf(s);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(t,s,r,i){const n=t.childNodes.find((e=>"#documentType"===e.nodeName));if(n)n.name=s,n.publicId=r,n.systemId=i;else{const n={nodeName:"#documentType",name:s,publicId:r,systemId:i,parentNode:null};e.defaultTreeAdapter.appendChild(t,n)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(t,s){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(r))return void(r.value+=s)}e.defaultTreeAdapter.appendChild(t,e.defaultTreeAdapter.createTextNode(s))},insertTextBefore(t,s,r){const i=t.childNodes[t.childNodes.indexOf(r)-1];i&&e.defaultTreeAdapter.isTextNode(i)?i.value+=s:e.defaultTreeAdapter.insertBefore(t,e.defaultTreeAdapter.createTextNode(s),r)},adoptAttributes(e,t){const s=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)s.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}}}(kh);var wh={};Object.defineProperty(wh,"__esModule",{value:!0}),wh.isConforming=function(e){return e.name===Mh&&null===e.publicId&&(null===e.systemId||e.systemId===Gh)},wh.getDocumentMode=function(e){if(e.name!==Mh)return Lh.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===xh)return Lh.DOCUMENT_MODE.QUIRKS;let{publicId:s}=e;if(null!==s){if(s=s.toLowerCase(),Uh.has(s))return Lh.DOCUMENT_MODE.QUIRKS;let e=null===t?Bh:Fh;if(Yh(s,e))return Lh.DOCUMENT_MODE.QUIRKS;if(e=null===t?Hh:jh,Yh(s,e))return Lh.DOCUMENT_MODE.LIMITED_QUIRKS}return Lh.DOCUMENT_MODE.NO_QUIRKS};const Lh=Zc,Mh="html",Gh="about:legacy-compat",xh="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Fh=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Bh=[...Fh,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Uh=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Hh=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],jh=[...Hh,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Yh(e,t){return t.some((t=>e.startsWith(t)))}var Wh={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0,e.causesExit=function(e){const s=e.tagID;return s===t.TAG_ID.FONT&&e.attrs.some((({name:e})=>e===t.ATTRS.COLOR||e===t.ATTRS.SIZE||e===t.ATTRS.FACE))||a.has(s)},e.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===r){e.attrs[t].name=i;break}},e.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const s=n.get(e.attrs[t].name);null!=s&&(e.attrs[t].name=s)}},e.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const s=o.get(e.attrs[t].name);s&&(e.attrs[t].prefix=s.prefix,e.attrs[t].name=s.name,e.attrs[t].namespace=s.namespace)}},e.adjustTokenSVGTagName=function(s){const r=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(s.tagName);null!=r&&(s.tagName=r,s.tagID=(0,t.getTagID)(s.tagName))},e.isIntegrationPoint=function(e,r,i,n){return(!n||n===t.NS.HTML)&&function(e,r,i){if(r===t.NS.MATHML&&e===t.TAG_ID.ANNOTATION_XML)for(let e=0;e<i.length;e++)if(i[e].name===t.ATTRS.ENCODING){const t=i[e].value.toLowerCase();return t===s.TEXT_HTML||t===s.APPLICATION_XML}return r===t.NS.SVG&&(e===t.TAG_ID.FOREIGN_OBJECT||e===t.TAG_ID.DESC||e===t.TAG_ID.TITLE)}(e,r,i)||(!n||n===t.NS.MATHML)&&function(e,s){return s===t.NS.MATHML&&(e===t.TAG_ID.MI||e===t.TAG_ID.MO||e===t.TAG_ID.MN||e===t.TAG_ID.MS||e===t.TAG_ID.MTEXT)}(e,r)};const t=Zc,s={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r="definitionurl",i="definitionURL",n=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),o=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e])));const a=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR])}(Wh),Object.defineProperty(kc,"__esModule",{value:!0}),kc.Parser=void 0;const zh=wc,qh=Eh,Qh=Rh,Vh=kh,Kh=wh,Xh=Wh,$h=Bc,Jh=Mc,Zh=Zc,el=Yc;var tl;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(tl||(tl={}));const sl={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rl=new Set([Zh.TAG_ID.TABLE,Zh.TAG_ID.TBODY,Zh.TAG_ID.TFOOT,Zh.TAG_ID.THEAD,Zh.TAG_ID.TR]),il={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Vh.defaultTreeAdapter,onParseError:null};function nl(e,t){let s=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return s?e.openElements.contains(s.element)?e.openElements.hasInScope(t.tagID)||(s=null):(e.activeFormattingElements.removeEntry(s),s=null):Pl(e,t),s}function ol(e,t){let s=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(s=i)}return s||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),s}function al(e,t,s){let r=t,i=e.openElements.getCommonAncestor(t);for(let n=0,o=i;o!==s;n++,o=i){i=e.openElements.getCommonAncestor(o);const s=e.activeFormattingElements.getElementEntry(o),a=s&&n>=3;!s||a?(a&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(o)):(o=cl(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function cl(e,t){const s=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,s,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function hl(e,t,s){const r=e.treeAdapter.getTagName(t),i=(0,Zh.getTagID)(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(s);else{const r=e.treeAdapter.getNamespaceURI(t);i===Zh.TAG_ID.TEMPLATE&&r===Zh.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,s)}}function ll(e,t,s){const r=e.treeAdapter.getNamespaceURI(s.element),{token:i}=s,n=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,n),e.treeAdapter.appendChild(t,n),e.activeFormattingElements.insertElementAfterBookmark(n,i),e.activeFormattingElements.removeEntry(s),e.openElements.remove(s.element),e.openElements.insertAfter(t,n,i.tagID)}function ul(e,t){for(let s=0;s<8;s++){const s=nl(e,t);if(!s)break;const r=ol(e,s);if(!r)break;e.activeFormattingElements.bookmark=s;const i=al(e,r,s.element),n=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(i),n&&hl(e,n,i),ll(e,r,s)}}function pl(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function dl(e,t){if(e.stopped=!0,t.location){const s=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=s;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(s);if(r&&!r.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(s);r&&!r.endTag&&e._setEndLocation(s,t)}}}}function fl(e,t){e._err(t,$h.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Zh.DOCUMENT_MODE.QUIRKS),e.insertionMode=tl.BEFORE_HTML,e._processToken(t)}function Tl(e,t){e._insertFakeRootElement(),e.insertionMode=tl.BEFORE_HEAD,e._processToken(t)}function El(e,t){e._insertFakeElement(Zh.TAG_NAMES.HEAD,Zh.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=tl.IN_HEAD,e._processToken(t)}function ml(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.BASE:case Zh.TAG_ID.BASEFONT:case Zh.TAG_ID.BGSOUND:case Zh.TAG_ID.LINK:case Zh.TAG_ID.META:e._appendElement(t,Zh.NS.HTML),t.ackSelfClosing=!0;break;case Zh.TAG_ID.TITLE:e._switchToTextParsing(t,zh.TokenizerMode.RCDATA);break;case Zh.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,zh.TokenizerMode.RAWTEXT):(e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_HEAD_NO_SCRIPT);break;case Zh.TAG_ID.NOFRAMES:case Zh.TAG_ID.STYLE:e._switchToTextParsing(t,zh.TokenizerMode.RAWTEXT);break;case Zh.TAG_ID.SCRIPT:e._switchToTextParsing(t,zh.TokenizerMode.SCRIPT_DATA);break;case Zh.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=tl.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(tl.IN_TEMPLATE);break;case Zh.TAG_ID.HEAD:e._err(t,$h.ERR.misplacedStartTagForHeadElement);break;default:Al(e,t)}}function _l(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==Zh.TAG_ID.TEMPLATE&&e._err(t,$h.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(Zh.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$h.ERR.endTagWithoutMatchingOpenElement)}function Al(e,t){e.openElements.pop(),e.insertionMode=tl.AFTER_HEAD,e._processToken(t)}function gl(e,t){const s=t.type===el.TokenType.EOF?$h.ERR.openElementsLeftAfterEof:$h.ERR.disallowedContentInNoscriptInHead;e._err(t,s),e.openElements.pop(),e.insertionMode=tl.IN_HEAD,e._processToken(t)}function Sl(e,t){e._insertFakeElement(Zh.TAG_NAMES.BODY,Zh.TAG_ID.BODY),e.insertionMode=tl.IN_BODY,Il(e,t)}function Il(e,t){switch(t.type){case el.TokenType.CHARACTER:Ol(e,t);break;case el.TokenType.WHITESPACE_CHARACTER:Dl(e,t);break;case el.TokenType.COMMENT:pl(e,t);break;case el.TokenType.START_TAG:Rl(e,t);break;case el.TokenType.END_TAG:vl(e,t);break;case el.TokenType.EOF:kl(e,t)}}function Dl(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ol(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Cl(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Zh.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Nl(e){const t=(0,el.getTokenAttr)(e,Zh.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function yl(e,t){e._switchToTextParsing(t,zh.TokenizerMode.RAWTEXT)}function bl(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML)}function Rl(e,t){switch(t.tagID){case Zh.TAG_ID.I:case Zh.TAG_ID.S:case Zh.TAG_ID.B:case Zh.TAG_ID.U:case Zh.TAG_ID.EM:case Zh.TAG_ID.TT:case Zh.TAG_ID.BIG:case Zh.TAG_ID.CODE:case Zh.TAG_ID.FONT:case Zh.TAG_ID.SMALL:case Zh.TAG_ID.STRIKE:case Zh.TAG_ID.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Zh.TAG_ID.A:!function(e,t){const s=e.activeFormattingElements.getElementEntryInScopeWithTagName(Zh.TAG_NAMES.A);s&&(ul(e,t),e.openElements.remove(s.element),e.activeFormattingElements.removeEntry(s)),e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Zh.TAG_ID.H1:case Zh.TAG_ID.H2:case Zh.TAG_ID.H3:case Zh.TAG_ID.H4:case Zh.TAG_ID.H5:case Zh.TAG_ID.H6:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),Zh.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.P:case Zh.TAG_ID.DL:case Zh.TAG_ID.OL:case Zh.TAG_ID.UL:case Zh.TAG_ID.DIV:case Zh.TAG_ID.DIR:case Zh.TAG_ID.NAV:case Zh.TAG_ID.MAIN:case Zh.TAG_ID.MENU:case Zh.TAG_ID.ASIDE:case Zh.TAG_ID.CENTER:case Zh.TAG_ID.FIGURE:case Zh.TAG_ID.FOOTER:case Zh.TAG_ID.HEADER:case Zh.TAG_ID.HGROUP:case Zh.TAG_ID.DIALOG:case Zh.TAG_ID.DETAILS:case Zh.TAG_ID.ADDRESS:case Zh.TAG_ID.ARTICLE:case Zh.TAG_ID.SEARCH:case Zh.TAG_ID.SECTION:case Zh.TAG_ID.SUMMARY:case Zh.TAG_ID.FIELDSET:case Zh.TAG_ID.BLOCKQUOTE:case Zh.TAG_ID.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.LI:case Zh.TAG_ID.DD:case Zh.TAG_ID.DT:!function(e,t){e.framesetOk=!1;const s=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const r=e.openElements.tagIDs[t];if(s===Zh.TAG_ID.LI&&r===Zh.TAG_ID.LI||(s===Zh.TAG_ID.DD||s===Zh.TAG_ID.DT)&&(r===Zh.TAG_ID.DD||r===Zh.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==Zh.TAG_ID.ADDRESS&&r!==Zh.TAG_ID.DIV&&r!==Zh.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],r))break}e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.BR:case Zh.TAG_ID.IMG:case Zh.TAG_ID.WBR:case Zh.TAG_ID.AREA:case Zh.TAG_ID.EMBED:case Zh.TAG_ID.KEYGEN:Cl(e,t);break;case Zh.TAG_ID.HR:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._appendElement(t,Zh.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.RB:case Zh.TAG_ID.RTC:!function(e,t){e.openElements.hasInScope(Zh.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.RT:case Zh.TAG_ID.RP:!function(e,t){e.openElements.hasInScope(Zh.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(Zh.TAG_ID.RTC),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.PRE:case Zh.TAG_ID.LISTING:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case Zh.TAG_ID.XMP:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,zh.TokenizerMode.RAWTEXT)}(e,t);break;case Zh.TAG_ID.SVG:!function(e,t){e._reconstructActiveFormattingElements(),Xh.adjustTokenSVGAttrs(t),Xh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,Zh.NS.SVG):e._insertElement(t,Zh.NS.SVG),t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case Zh.TAG_ID.BASE:case Zh.TAG_ID.LINK:case Zh.TAG_ID.META:case Zh.TAG_ID.STYLE:case Zh.TAG_ID.TITLE:case Zh.TAG_ID.SCRIPT:case Zh.TAG_ID.BGSOUND:case Zh.TAG_ID.BASEFONT:case Zh.TAG_ID.TEMPLATE:ml(e,t);break;case Zh.TAG_ID.BODY:!function(e,t){const s=e.openElements.tryPeekProperlyNestedBodyElement();s&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(s,t.attrs))}(e,t);break;case Zh.TAG_ID.FORM:!function(e,t){const s=e.openElements.tmplCount>0;e.formElement&&!s||(e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML),s||(e.formElement=e.openElements.current))}(e,t);break;case Zh.TAG_ID.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(Zh.TAG_ID.NOBR)&&(ul(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Zh.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case Zh.TAG_ID.MATH:!function(e,t){e._reconstructActiveFormattingElements(),Xh.adjustTokenMathMLAttrs(t),Xh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,Zh.NS.MATHML):e._insertElement(t,Zh.NS.MATHML),t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==Zh.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML),e.framesetOk=!1,e.insertionMode=tl.IN_TABLE}(e,t);break;case Zh.TAG_ID.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Zh.NS.HTML),Nl(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.PARAM:case Zh.TAG_ID.TRACK:case Zh.TAG_ID.SOURCE:!function(e,t){e._appendElement(t,Zh.NS.HTML),t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.IMAGE:!function(e,t){t.tagName=Zh.TAG_NAMES.IMG,t.tagID=Zh.TAG_ID.IMG,Cl(e,t)}(e,t);break;case Zh.TAG_ID.BUTTON:!function(e,t){e.openElements.hasInScope(Zh.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Zh.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML),e.framesetOk=!1}(e,t);break;case Zh.TAG_ID.APPLET:case Zh.TAG_ID.OBJECT:case Zh.TAG_ID.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case Zh.TAG_ID.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,zh.TokenizerMode.RAWTEXT)}(e,t);break;case Zh.TAG_ID.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===tl.IN_TABLE||e.insertionMode===tl.IN_CAPTION||e.insertionMode===tl.IN_TABLE_BODY||e.insertionMode===tl.IN_ROW||e.insertionMode===tl.IN_CELL?tl.IN_SELECT_IN_TABLE:tl.IN_SELECT}(e,t);break;case Zh.TAG_ID.OPTION:case Zh.TAG_ID.OPTGROUP:!function(e,t){e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Zh.NS.HTML)}(e,t);break;case Zh.TAG_ID.NOEMBED:case Zh.TAG_ID.NOFRAMES:yl(e,t);break;case Zh.TAG_ID.FRAMESET:!function(e,t){const s=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&s&&(e.treeAdapter.detachNode(s),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_FRAMESET)}(e,t);break;case Zh.TAG_ID.TEXTAREA:!function(e,t){e._insertElement(t,Zh.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=zh.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=tl.TEXT}(e,t);break;case Zh.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?yl(e,t):bl(e,t);break;case Zh.TAG_ID.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(Zh.TAG_ID.P)&&e._closePElement(),e._insertElement(t,Zh.NS.HTML),e.tokenizer.state=zh.TokenizerMode.PLAINTEXT}(e,t);break;case Zh.TAG_ID.COL:case Zh.TAG_ID.TH:case Zh.TAG_ID.TD:case Zh.TAG_ID.TR:case Zh.TAG_ID.HEAD:case Zh.TAG_ID.FRAME:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COLGROUP:break;default:bl(e,t)}}function Pl(e,t){const s=t.tagName,r=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const i=e.openElements.items[t],n=e.openElements.tagIDs[t];if(r===n&&(r!==Zh.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(i)===s)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(i,n))break}}function vl(e,t){switch(t.tagID){case Zh.TAG_ID.A:case Zh.TAG_ID.B:case Zh.TAG_ID.I:case Zh.TAG_ID.S:case Zh.TAG_ID.U:case Zh.TAG_ID.EM:case Zh.TAG_ID.TT:case Zh.TAG_ID.BIG:case Zh.TAG_ID.CODE:case Zh.TAG_ID.FONT:case Zh.TAG_ID.NOBR:case Zh.TAG_ID.SMALL:case Zh.TAG_ID.STRIKE:case Zh.TAG_ID.STRONG:ul(e,t);break;case Zh.TAG_ID.P:!function(e){e.openElements.hasInButtonScope(Zh.TAG_ID.P)||e._insertFakeElement(Zh.TAG_NAMES.P,Zh.TAG_ID.P),e._closePElement()}(e);break;case Zh.TAG_ID.DL:case Zh.TAG_ID.UL:case Zh.TAG_ID.OL:case Zh.TAG_ID.DIR:case Zh.TAG_ID.DIV:case Zh.TAG_ID.NAV:case Zh.TAG_ID.PRE:case Zh.TAG_ID.MAIN:case Zh.TAG_ID.MENU:case Zh.TAG_ID.ASIDE:case Zh.TAG_ID.BUTTON:case Zh.TAG_ID.CENTER:case Zh.TAG_ID.FIGURE:case Zh.TAG_ID.FOOTER:case Zh.TAG_ID.HEADER:case Zh.TAG_ID.HGROUP:case Zh.TAG_ID.DIALOG:case Zh.TAG_ID.ADDRESS:case Zh.TAG_ID.ARTICLE:case Zh.TAG_ID.DETAILS:case Zh.TAG_ID.SEARCH:case Zh.TAG_ID.SECTION:case Zh.TAG_ID.SUMMARY:case Zh.TAG_ID.LISTING:case Zh.TAG_ID.FIELDSET:case Zh.TAG_ID.BLOCKQUOTE:case Zh.TAG_ID.FIGCAPTION:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s))}(e,t);break;case Zh.TAG_ID.LI:!function(e){e.openElements.hasInListItemScope(Zh.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(Zh.TAG_ID.LI),e.openElements.popUntilTagNamePopped(Zh.TAG_ID.LI))}(e);break;case Zh.TAG_ID.DD:case Zh.TAG_ID.DT:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s))}(e,t);break;case Zh.TAG_ID.H1:case Zh.TAG_ID.H2:case Zh.TAG_ID.H3:case Zh.TAG_ID.H4:case Zh.TAG_ID.H5:case Zh.TAG_ID.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case Zh.TAG_ID.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Zh.TAG_NAMES.BR,Zh.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case Zh.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(Zh.TAG_ID.BODY)&&(e.insertionMode=tl.AFTER_BODY,e.options.sourceCodeLocationInfo)){const s=e.openElements.tryPeekProperlyNestedBodyElement();s&&e._setEndLocation(s,t)}}(e,t);break;case Zh.TAG_ID.HTML:!function(e,t){e.openElements.hasInScope(Zh.TAG_ID.BODY)&&(e.insertionMode=tl.AFTER_BODY,Xl(e,t))}(e,t);break;case Zh.TAG_ID.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:s}=e;t||(e.formElement=null),(s||t)&&e.openElements.hasInScope(Zh.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(Zh.TAG_ID.FORM):s&&e.openElements.remove(s))}(e);break;case Zh.TAG_ID.APPLET:case Zh.TAG_ID.OBJECT:case Zh.TAG_ID.MARQUEE:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case Zh.TAG_ID.TEMPLATE:_l(e,t);break;default:Pl(e,t)}}function kl(e,t){e.tmplInsertionModeStack.length>0?Kl(e,t):dl(e,t)}function wl(e,t){if(rl.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=tl.IN_TABLE_TEXT,t.type){case el.TokenType.CHARACTER:Fl(e,t);break;case el.TokenType.WHITESPACE_CHARACTER:xl(e,t)}else Gl(e,t)}function Ll(e,t){switch(t.tagID){case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:case Zh.TAG_ID.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Zh.TAG_NAMES.TBODY,Zh.TAG_ID.TBODY),e.insertionMode=tl.IN_TABLE_BODY,Yl(e,t)}(e,t);break;case Zh.TAG_ID.STYLE:case Zh.TAG_ID.SCRIPT:case Zh.TAG_ID.TEMPLATE:ml(e,t);break;case Zh.TAG_ID.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Zh.TAG_NAMES.COLGROUP,Zh.TAG_ID.COLGROUP),e.insertionMode=tl.IN_COLUMN_GROUP,Hl(e,t)}(e,t);break;case Zh.TAG_ID.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,Zh.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case Zh.TAG_ID.TABLE:!function(e,t){e.openElements.hasInTableScope(Zh.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_TABLE_BODY}(e,t);break;case Zh.TAG_ID.INPUT:!function(e,t){Nl(t)?e._appendElement(t,Zh.NS.HTML):Gl(e,t),t.ackSelfClosing=!0}(e,t);break;case Zh.TAG_ID.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_CAPTION}(e,t);break;case Zh.TAG_ID.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_COLUMN_GROUP}(e,t);break;default:Gl(e,t)}}function Ml(e,t){switch(t.tagID){case Zh.TAG_ID.TABLE:e.openElements.hasInTableScope(Zh.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.TABLE),e._resetInsertionMode());break;case Zh.TAG_ID.TEMPLATE:_l(e,t);break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.HTML:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TD:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.TH:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.TR:break;default:Gl(e,t)}}function Gl(e,t){const s=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Il(e,t),e.fosterParentingEnabled=s}function xl(e,t){e.pendingCharacterTokens.push(t)}function Fl(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Bl(e,t){let s=0;if(e.hasNonWhitespacePendingCharacterToken)for(;s<e.pendingCharacterTokens.length;s++)Gl(e,e.pendingCharacterTokens[s]);else for(;s<e.pendingCharacterTokens.length;s++)e._insertCharacters(e.pendingCharacterTokens[s]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}kc.Parser=class{constructor(e,t,s=null,r=null){this.fragmentContext=s,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=tl.INITIAL,this.originalInsertionMode=tl.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},il),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new zh.Tokenizer(this.options,this),this.activeFormattingElements=new Qh.FormattingElementList(this.treeAdapter),this.fragmentContextID=s?(0,Zh.getTagID)(this.treeAdapter.getTagName(s)):Zh.TAG_ID.UNKNOWN,this._setContextModes(null!=s?s:this.document,this.fragmentContextID),this.openElements=new qh.OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,t){const s=new this(t);return s.tokenizer.write(e,!0),s.document}static getFragmentParser(e,t){const s=Object.assign(Object.assign({},il),t);null!=e||(e=s.treeAdapter.createElement(Zh.TAG_NAMES.TEMPLATE,Zh.NS.HTML,[]));const r=s.treeAdapter.createElement("documentmock",Zh.NS.HTML,[]),i=new this(s,r,e);return i.fragmentContextID===Zh.TAG_ID.TEMPLATE&&i.tmplInsertionModeStack.unshift(tl.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,s){var r;if(!this.onParseError)return;const i=null!==(r=e.location)&&void 0!==r?r:sl,n={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:s?i.startLine:i.endLine,endCol:s?i.startCol:i.endCol,endOffset:s?i.startOffset:i.endOffset};this.onParseError(n)}onItemPush(e,t,s){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),s&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var s,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(s=this.treeAdapter).onItemPop)||void 0===r||r.call(s,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const s=e===this.document||this.treeAdapter.getNamespaceURI(e)===Zh.NS.HTML;this.currentNotInHTML=!s,this.tokenizer.inForeignNode=!s&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,Zh.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=tl.TEXT}switchToPlaintextParsing(){this.insertionMode=tl.TEXT,this.originalInsertionMode=tl.IN_BODY,this.tokenizer.state=zh.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Zh.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Zh.NS.HTML)switch(this.fragmentContextID){case Zh.TAG_ID.TITLE:case Zh.TAG_ID.TEXTAREA:this.tokenizer.state=zh.TokenizerMode.RCDATA;break;case Zh.TAG_ID.STYLE:case Zh.TAG_ID.XMP:case Zh.TAG_ID.IFRAME:case Zh.TAG_ID.NOEMBED:case Zh.TAG_ID.NOFRAMES:case Zh.TAG_ID.NOSCRIPT:this.tokenizer.state=zh.TokenizerMode.RAWTEXT;break;case Zh.TAG_ID.SCRIPT:this.tokenizer.state=zh.TokenizerMode.SCRIPT_DATA;break;case Zh.TAG_ID.PLAINTEXT:this.tokenizer.state=zh.TokenizerMode.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",s=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,s,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const s=t&&Object.assign(Object.assign({},t),{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,s)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const s=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(s,e.location)}_insertElement(e,t){const s=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(s,e.location),this.openElements.push(s,e.tagID)}_insertFakeElement(e,t){const s=this.treeAdapter.createElement(e,Zh.NS.HTML,[]);this._attachElementToTree(s,null),this.openElements.push(s,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,Zh.NS.HTML,e.attrs),s=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,s),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Zh.TAG_NAMES.HTML,Zh.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,Zh.TAG_ID.HTML)}_appendCommentNode(e,t){const s=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,s),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_insertCharacters(e){let t,s;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:s}=this._findFosterParentingLocation()),s?this.treeAdapter.insertTextBefore(t,e.chars,s):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),i=s?r.lastIndexOf(s):r.length,n=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(n)){const{endLine:t,endCol:s,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(n,{endLine:t,endCol:s,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_adoptNodes(e,t){for(let s=this.treeAdapter.getFirstChild(e);s;s=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(s),this.treeAdapter.appendChild(t,s)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const s=t.location,r=this.treeAdapter.getTagName(e),i=t.type===el.TokenType.END_TAG&&r===t.tagName?{endTag:Object.assign({},s),endLine:s.endLine,endCol:s.endCol,endOffset:s.endOffset}:{endLine:s.startLine,endCol:s.startCol,endOffset:s.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,s;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,s=this.fragmentContextID):({current:t,currentTagId:s}=this.openElements),(e.tagID!==Zh.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==Zh.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==Zh.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===Zh.TAG_ID.MGLYPH||e.tagID===Zh.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(s,t,Zh.NS.HTML))}_processToken(e){switch(e.type){case el.TokenType.CHARACTER:this.onCharacter(e);break;case el.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case el.TokenType.COMMENT:this.onComment(e);break;case el.TokenType.DOCTYPE:this.onDoctype(e);break;case el.TokenType.START_TAG:this._processStartTag(e);break;case el.TokenType.END_TAG:this.onEndTag(e);break;case el.TokenType.EOF:this.onEof(e);break;case el.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,s){const r=this.treeAdapter.getNamespaceURI(t),i=this.treeAdapter.getAttrList(t);return Xh.isIntegrationPoint(e,r,i,s)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===Qh.EntryType.Marker||this.openElements.contains(e.element)));for(let s=t<0?e-1:t-1;s>=0;s--){const e=this.activeFormattingElements.entries[s];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=tl.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(Zh.TAG_ID.P),this.openElements.popUntilTagNamePopped(Zh.TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case Zh.TAG_ID.TR:return void(this.insertionMode=tl.IN_ROW);case Zh.TAG_ID.TBODY:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.TFOOT:return void(this.insertionMode=tl.IN_TABLE_BODY);case Zh.TAG_ID.CAPTION:return void(this.insertionMode=tl.IN_CAPTION);case Zh.TAG_ID.COLGROUP:return void(this.insertionMode=tl.IN_COLUMN_GROUP);case Zh.TAG_ID.TABLE:return void(this.insertionMode=tl.IN_TABLE);case Zh.TAG_ID.BODY:return void(this.insertionMode=tl.IN_BODY);case Zh.TAG_ID.FRAMESET:return void(this.insertionMode=tl.IN_FRAMESET);case Zh.TAG_ID.SELECT:return void this._resetInsertionModeForSelect(e);case Zh.TAG_ID.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case Zh.TAG_ID.HTML:return void(this.insertionMode=this.headElement?tl.AFTER_HEAD:tl.BEFORE_HEAD);case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:if(e>0)return void(this.insertionMode=tl.IN_CELL);break;case Zh.TAG_ID.HEAD:if(e>0)return void(this.insertionMode=tl.IN_HEAD)}this.insertionMode=tl.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===Zh.TAG_ID.TEMPLATE)break;if(e===Zh.TAG_ID.TABLE)return void(this.insertionMode=tl.IN_SELECT_IN_TABLE)}this.insertionMode=tl.IN_SELECT}_isElementCausesFosterParenting(e){return rl.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case Zh.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===Zh.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case Zh.TAG_ID.TABLE:{const s=this.treeAdapter.getParentNode(t);return s?{parent:s,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const s=this.treeAdapter.getNamespaceURI(e);return Zh.SPECIAL_ELEMENTS[s].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case tl.INITIAL:fl(this,e);break;case tl.BEFORE_HTML:Tl(this,e);break;case tl.BEFORE_HEAD:El(this,e);break;case tl.IN_HEAD:Al(this,e);break;case tl.IN_HEAD_NO_SCRIPT:gl(this,e);break;case tl.AFTER_HEAD:Sl(this,e);break;case tl.IN_BODY:case tl.IN_CAPTION:case tl.IN_CELL:case tl.IN_TEMPLATE:Ol(this,e);break;case tl.TEXT:case tl.IN_SELECT:case tl.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case tl.IN_TABLE:case tl.IN_TABLE_BODY:case tl.IN_ROW:wl(this,e);break;case tl.IN_TABLE_TEXT:Fl(this,e);break;case tl.IN_COLUMN_GROUP:jl(this,e);break;case tl.AFTER_BODY:$l(this,e);break;case tl.AFTER_AFTER_BODY:Jl(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Jh.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case tl.INITIAL:fl(this,e);break;case tl.BEFORE_HTML:Tl(this,e);break;case tl.BEFORE_HEAD:El(this,e);break;case tl.IN_HEAD:Al(this,e);break;case tl.IN_HEAD_NO_SCRIPT:gl(this,e);break;case tl.AFTER_HEAD:Sl(this,e);break;case tl.TEXT:this._insertCharacters(e);break;case tl.IN_TABLE:case tl.IN_TABLE_BODY:case tl.IN_ROW:wl(this,e);break;case tl.IN_COLUMN_GROUP:jl(this,e);break;case tl.AFTER_BODY:$l(this,e);break;case tl.AFTER_AFTER_BODY:Jl(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)pl(this,e);else switch(this.insertionMode){case tl.INITIAL:case tl.BEFORE_HTML:case tl.BEFORE_HEAD:case tl.IN_HEAD:case tl.IN_HEAD_NO_SCRIPT:case tl.AFTER_HEAD:case tl.IN_BODY:case tl.IN_TABLE:case tl.IN_CAPTION:case tl.IN_COLUMN_GROUP:case tl.IN_TABLE_BODY:case tl.IN_ROW:case tl.IN_CELL:case tl.IN_SELECT:case tl.IN_SELECT_IN_TABLE:case tl.IN_TEMPLATE:case tl.IN_FRAMESET:case tl.AFTER_FRAMESET:pl(this,e);break;case tl.IN_TABLE_TEXT:Bl(this,e);break;case tl.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case tl.AFTER_AFTER_BODY:case tl.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case tl.INITIAL:!function(e,t){e._setDocumentType(t);const s=t.forceQuirks?Zh.DOCUMENT_MODE.QUIRKS:Kh.getDocumentMode(t);Kh.isConforming(t)||e._err(t,$h.ERR.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,s),e.insertionMode=tl.BEFORE_HTML}(this,e);break;case tl.BEFORE_HEAD:case tl.IN_HEAD:case tl.IN_HEAD_NO_SCRIPT:case tl.AFTER_HEAD:this._err(e,$h.ERR.misplacedDoctype);break;case tl.IN_TABLE_TEXT:Bl(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,$h.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(Xh.causesExit(t))Zl(e),e._startTagOutsideForeignContent(t);else{const s=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(s);r===Zh.NS.MATHML?Xh.adjustTokenMathMLAttrs(t):r===Zh.NS.SVG&&(Xh.adjustTokenSVGTagName(t),Xh.adjustTokenSVGAttrs(t)),Xh.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case tl.INITIAL:fl(this,e);break;case tl.BEFORE_HTML:!function(e,t){t.tagID===Zh.TAG_ID.HTML?(e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.BEFORE_HEAD):Tl(e,t)}(this,e);break;case tl.BEFORE_HEAD:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.HEAD:e._insertElement(t,Zh.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=tl.IN_HEAD;break;default:El(e,t)}}(this,e);break;case tl.IN_HEAD:ml(this,e);break;case tl.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.BASEFONT:case Zh.TAG_ID.BGSOUND:case Zh.TAG_ID.HEAD:case Zh.TAG_ID.LINK:case Zh.TAG_ID.META:case Zh.TAG_ID.NOFRAMES:case Zh.TAG_ID.STYLE:ml(e,t);break;case Zh.TAG_ID.NOSCRIPT:e._err(t,$h.ERR.nestedNoscriptInHead);break;default:gl(e,t)}}(this,e);break;case tl.AFTER_HEAD:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.BODY:e._insertElement(t,Zh.NS.HTML),e.framesetOk=!1,e.insertionMode=tl.IN_BODY;break;case Zh.TAG_ID.FRAMESET:e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_FRAMESET;break;case Zh.TAG_ID.BASE:case Zh.TAG_ID.BASEFONT:case Zh.TAG_ID.BGSOUND:case Zh.TAG_ID.LINK:case Zh.TAG_ID.META:case Zh.TAG_ID.NOFRAMES:case Zh.TAG_ID.SCRIPT:case Zh.TAG_ID.STYLE:case Zh.TAG_ID.TEMPLATE:case Zh.TAG_ID.TITLE:e._err(t,$h.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,Zh.TAG_ID.HEAD),ml(e,t),e.openElements.remove(e.headElement);break;case Zh.TAG_ID.HEAD:e._err(t,$h.ERR.misplacedStartTagForHeadElement);break;default:Sl(e,t)}}(this,e);break;case tl.IN_BODY:Rl(this,e);break;case tl.IN_TABLE:Ll(this,e);break;case tl.IN_TABLE_TEXT:Bl(this,e);break;case tl.IN_CAPTION:!function(e,t){const s=t.tagID;Ul.has(s)?e.openElements.hasInTableScope(Zh.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Zh.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tl.IN_TABLE,Ll(e,t)):Rl(e,t)}(this,e);break;case tl.IN_COLUMN_GROUP:Hl(this,e);break;case tl.IN_TABLE_BODY:Yl(this,e);break;case tl.IN_ROW:zl(this,e);break;case tl.IN_CELL:!function(e,t){const s=t.tagID;Ul.has(s)?(e.openElements.hasInTableScope(Zh.TAG_ID.TD)||e.openElements.hasInTableScope(Zh.TAG_ID.TH))&&(e._closeTableCell(),zl(e,t)):Rl(e,t)}(this,e);break;case tl.IN_SELECT:Ql(this,e);break;case tl.IN_SELECT_IN_TABLE:!function(e,t){const s=t.tagID;s===Zh.TAG_ID.CAPTION||s===Zh.TAG_ID.TABLE||s===Zh.TAG_ID.TBODY||s===Zh.TAG_ID.TFOOT||s===Zh.TAG_ID.THEAD||s===Zh.TAG_ID.TR||s===Zh.TAG_ID.TD||s===Zh.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Ql(e,t)}(this,e);break;case tl.IN_TEMPLATE:!function(e,t){switch(t.tagID){case Zh.TAG_ID.BASE:case Zh.TAG_ID.BASEFONT:case Zh.TAG_ID.BGSOUND:case Zh.TAG_ID.LINK:case Zh.TAG_ID.META:case Zh.TAG_ID.NOFRAMES:case Zh.TAG_ID.SCRIPT:case Zh.TAG_ID.STYLE:case Zh.TAG_ID.TEMPLATE:case Zh.TAG_ID.TITLE:ml(e,t);break;case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=tl.IN_TABLE,e.insertionMode=tl.IN_TABLE,Ll(e,t);break;case Zh.TAG_ID.COL:e.tmplInsertionModeStack[0]=tl.IN_COLUMN_GROUP,e.insertionMode=tl.IN_COLUMN_GROUP,Hl(e,t);break;case Zh.TAG_ID.TR:e.tmplInsertionModeStack[0]=tl.IN_TABLE_BODY,e.insertionMode=tl.IN_TABLE_BODY,Yl(e,t);break;case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:e.tmplInsertionModeStack[0]=tl.IN_ROW,e.insertionMode=tl.IN_ROW,zl(e,t);break;default:e.tmplInsertionModeStack[0]=tl.IN_BODY,e.insertionMode=tl.IN_BODY,Rl(e,t)}}(this,e);break;case tl.AFTER_BODY:!function(e,t){t.tagID===Zh.TAG_ID.HTML?Rl(e,t):$l(e,t)}(this,e);break;case tl.IN_FRAMESET:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.FRAMESET:e._insertElement(t,Zh.NS.HTML);break;case Zh.TAG_ID.FRAME:e._appendElement(t,Zh.NS.HTML),t.ackSelfClosing=!0;break;case Zh.TAG_ID.NOFRAMES:ml(e,t)}}(this,e);break;case tl.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.NOFRAMES:ml(e,t)}}(this,e);break;case tl.AFTER_AFTER_BODY:!function(e,t){t.tagID===Zh.TAG_ID.HTML?Rl(e,t):Jl(e,t)}(this,e);break;case tl.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.NOFRAMES:ml(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===Zh.TAG_ID.P||t.tagID===Zh.TAG_ID.BR)return Zl(e),void e._endTagOutsideForeignContent(t);for(let s=e.openElements.stackTop;s>0;s--){const r=e.openElements.items[s];if(e.treeAdapter.getNamespaceURI(r)===Zh.NS.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(s);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case tl.INITIAL:fl(this,e);break;case tl.BEFORE_HTML:!function(e,t){const s=t.tagID;s!==Zh.TAG_ID.HTML&&s!==Zh.TAG_ID.HEAD&&s!==Zh.TAG_ID.BODY&&s!==Zh.TAG_ID.BR||Tl(e,t)}(this,e);break;case tl.BEFORE_HEAD:!function(e,t){const s=t.tagID;s===Zh.TAG_ID.HEAD||s===Zh.TAG_ID.BODY||s===Zh.TAG_ID.HTML||s===Zh.TAG_ID.BR?El(e,t):e._err(t,$h.ERR.endTagWithoutMatchingOpenElement)}(this,e);break;case tl.IN_HEAD:!function(e,t){switch(t.tagID){case Zh.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=tl.AFTER_HEAD;break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.BR:case Zh.TAG_ID.HTML:Al(e,t);break;case Zh.TAG_ID.TEMPLATE:_l(e,t);break;default:e._err(t,$h.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case tl.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case Zh.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=tl.IN_HEAD;break;case Zh.TAG_ID.BR:gl(e,t);break;default:e._err(t,$h.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case tl.AFTER_HEAD:!function(e,t){switch(t.tagID){case Zh.TAG_ID.BODY:case Zh.TAG_ID.HTML:case Zh.TAG_ID.BR:Sl(e,t);break;case Zh.TAG_ID.TEMPLATE:_l(e,t);break;default:e._err(t,$h.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case tl.IN_BODY:vl(this,e);break;case tl.TEXT:!function(e,t){var s;t.tagID===Zh.TAG_ID.SCRIPT&&(null===(s=e.scriptHandler)||void 0===s||s.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case tl.IN_TABLE:Ml(this,e);break;case tl.IN_TABLE_TEXT:Bl(this,e);break;case tl.IN_CAPTION:!function(e,t){const s=t.tagID;switch(s){case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.TABLE:e.openElements.hasInTableScope(Zh.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(Zh.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tl.IN_TABLE,s===Zh.TAG_ID.TABLE&&Ml(e,t));break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.HTML:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TD:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.TH:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.TR:break;default:vl(e,t)}}(this,e);break;case tl.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case Zh.TAG_ID.COLGROUP:e.openElements.currentTagId===Zh.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=tl.IN_TABLE);break;case Zh.TAG_ID.TEMPLATE:_l(e,t);break;case Zh.TAG_ID.COL:break;default:jl(e,t)}}(this,e);break;case tl.IN_TABLE_BODY:Wl(this,e);break;case tl.IN_ROW:ql(this,e);break;case tl.IN_CELL:!function(e,t){const s=t.tagID;switch(s){case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:e.openElements.hasInTableScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tl.IN_ROW);break;case Zh.TAG_ID.TABLE:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.TR:e.openElements.hasInTableScope(s)&&(e._closeTableCell(),ql(e,t));break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.HTML:break;default:vl(e,t)}}(this,e);break;case tl.IN_SELECT:Vl(this,e);break;case tl.IN_SELECT_IN_TABLE:!function(e,t){const s=t.tagID;s===Zh.TAG_ID.CAPTION||s===Zh.TAG_ID.TABLE||s===Zh.TAG_ID.TBODY||s===Zh.TAG_ID.TFOOT||s===Zh.TAG_ID.THEAD||s===Zh.TAG_ID.TR||s===Zh.TAG_ID.TD||s===Zh.TAG_ID.TH?e.openElements.hasInTableScope(s)&&(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Vl(e,t)}(this,e);break;case tl.IN_TEMPLATE:!function(e,t){t.tagID===Zh.TAG_ID.TEMPLATE&&_l(e,t)}(this,e);break;case tl.AFTER_BODY:Xl(this,e);break;case tl.IN_FRAMESET:!function(e,t){t.tagID!==Zh.TAG_ID.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===Zh.TAG_ID.FRAMESET||(e.insertionMode=tl.AFTER_FRAMESET))}(this,e);break;case tl.AFTER_FRAMESET:!function(e,t){t.tagID===Zh.TAG_ID.HTML&&(e.insertionMode=tl.AFTER_AFTER_FRAMESET)}(this,e);break;case tl.AFTER_AFTER_BODY:Jl(this,e)}}onEof(e){switch(this.insertionMode){case tl.INITIAL:fl(this,e);break;case tl.BEFORE_HTML:Tl(this,e);break;case tl.BEFORE_HEAD:El(this,e);break;case tl.IN_HEAD:Al(this,e);break;case tl.IN_HEAD_NO_SCRIPT:gl(this,e);break;case tl.AFTER_HEAD:Sl(this,e);break;case tl.IN_BODY:case tl.IN_TABLE:case tl.IN_CAPTION:case tl.IN_COLUMN_GROUP:case tl.IN_TABLE_BODY:case tl.IN_ROW:case tl.IN_CELL:case tl.IN_SELECT:case tl.IN_SELECT_IN_TABLE:kl(this,e);break;case tl.TEXT:!function(e,t){e._err(t,$h.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case tl.IN_TABLE_TEXT:Bl(this,e);break;case tl.IN_TEMPLATE:Kl(this,e);break;case tl.AFTER_BODY:case tl.IN_FRAMESET:case tl.AFTER_FRAMESET:case tl.AFTER_AFTER_BODY:case tl.AFTER_AFTER_FRAMESET:dl(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Jh.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case tl.IN_HEAD:case tl.IN_HEAD_NO_SCRIPT:case tl.AFTER_HEAD:case tl.TEXT:case tl.IN_COLUMN_GROUP:case tl.IN_SELECT:case tl.IN_SELECT_IN_TABLE:case tl.IN_FRAMESET:case tl.AFTER_FRAMESET:this._insertCharacters(e);break;case tl.IN_BODY:case tl.IN_CAPTION:case tl.IN_CELL:case tl.IN_TEMPLATE:case tl.AFTER_BODY:case tl.AFTER_AFTER_BODY:case tl.AFTER_AFTER_FRAMESET:Dl(this,e);break;case tl.IN_TABLE:case tl.IN_TABLE_BODY:case tl.IN_ROW:wl(this,e);break;case tl.IN_TABLE_TEXT:xl(this,e)}}};const Ul=new Set([Zh.TAG_ID.CAPTION,Zh.TAG_ID.COL,Zh.TAG_ID.COLGROUP,Zh.TAG_ID.TBODY,Zh.TAG_ID.TD,Zh.TAG_ID.TFOOT,Zh.TAG_ID.TH,Zh.TAG_ID.THEAD,Zh.TAG_ID.TR]);function Hl(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.COL:e._appendElement(t,Zh.NS.HTML),t.ackSelfClosing=!0;break;case Zh.TAG_ID.TEMPLATE:ml(e,t);break;default:jl(e,t)}}function jl(e,t){e.openElements.currentTagId===Zh.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=tl.IN_TABLE,e._processToken(t))}function Yl(e,t){switch(t.tagID){case Zh.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_ROW;break;case Zh.TAG_ID.TH:case Zh.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Zh.TAG_NAMES.TR,Zh.TAG_ID.TR),e.insertionMode=tl.IN_ROW,zl(e,t);break;case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE,Ll(e,t));break;default:Ll(e,t)}}function Wl(e,t){const s=t.tagID;switch(t.tagID){case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:e.openElements.hasInTableScope(s)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE);break;case Zh.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE,Ml(e,t));break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.HTML:case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:case Zh.TAG_ID.TR:break;default:Ml(e,t)}}function zl(e,t){switch(t.tagID){case Zh.TAG_ID.TH:case Zh.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,Zh.NS.HTML),e.insertionMode=tl.IN_CELL,e.activeFormattingElements.insertMarker();break;case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:case Zh.TAG_ID.TR:e.openElements.hasInTableScope(Zh.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE_BODY,Yl(e,t));break;default:Ll(e,t)}}function ql(e,t){switch(t.tagID){case Zh.TAG_ID.TR:e.openElements.hasInTableScope(Zh.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE_BODY);break;case Zh.TAG_ID.TABLE:e.openElements.hasInTableScope(Zh.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE_BODY,Wl(e,t));break;case Zh.TAG_ID.TBODY:case Zh.TAG_ID.TFOOT:case Zh.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(Zh.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tl.IN_TABLE_BODY,Wl(e,t));break;case Zh.TAG_ID.BODY:case Zh.TAG_ID.CAPTION:case Zh.TAG_ID.COL:case Zh.TAG_ID.COLGROUP:case Zh.TAG_ID.HTML:case Zh.TAG_ID.TD:case Zh.TAG_ID.TH:break;default:Ml(e,t)}}function Ql(e,t){switch(t.tagID){case Zh.TAG_ID.HTML:Rl(e,t);break;case Zh.TAG_ID.OPTION:e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,Zh.NS.HTML);break;case Zh.TAG_ID.OPTGROUP:e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===Zh.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Zh.NS.HTML);break;case Zh.TAG_ID.HR:e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===Zh.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Zh.NS.HTML),t.ackSelfClosing=!0;break;case Zh.TAG_ID.INPUT:case Zh.TAG_ID.KEYGEN:case Zh.TAG_ID.TEXTAREA:case Zh.TAG_ID.SELECT:e.openElements.hasInSelectScope(Zh.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==Zh.TAG_ID.SELECT&&e._processStartTag(t));break;case Zh.TAG_ID.SCRIPT:case Zh.TAG_ID.TEMPLATE:ml(e,t)}}function Vl(e,t){switch(t.tagID){case Zh.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===Zh.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===Zh.TAG_ID.OPTGROUP&&e.openElements.pop();break;case Zh.TAG_ID.OPTION:e.openElements.currentTagId===Zh.TAG_ID.OPTION&&e.openElements.pop();break;case Zh.TAG_ID.SELECT:e.openElements.hasInSelectScope(Zh.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.SELECT),e._resetInsertionMode());break;case Zh.TAG_ID.TEMPLATE:_l(e,t)}}function Kl(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(Zh.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):dl(e,t)}function Xl(e,t){var s;if(t.tagID===Zh.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=tl.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===Zh.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(s=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===s?void 0:s.endTag)&&e._setEndLocation(r,t)}}else $l(e,t)}function $l(e,t){e.insertionMode=tl.IN_BODY,Il(e,t)}function Jl(e,t){e.insertionMode=tl.IN_BODY,Il(e,t)}function Zl(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Zh.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}var eu={},tu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function s(s){for(var r,i="",n=0;null!==(r=e.xmlReplacer.exec(s));){var o=r.index,a=s.charCodeAt(o),c=t.get(a);void 0!==c?(i+=s.substring(n,o)+c,n=o+1):(i+="".concat(s.substring(n,o),"&#x").concat((0,e.getCodePoint)(s,o).toString(16),";"),n=e.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return i+s.substr(n)}function r(e,t){return function(s){for(var r,i=0,n="";r=e.exec(s);)i!==r.index&&(n+=s.substring(i,r.index)),n+=t.get(r[0].charCodeAt(0)),i=r.index+1;return n+s.substring(i)}}e.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},e.encodeXML=s,e.escape=s,e.escapeUTF8=r(/[&<>'"]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(tu),Object.defineProperty(eu,"__esModule",{value:!0}),eu.serialize=function(e,t){const s=Object.assign(Object.assign({},au),t);if(ou(e,s))return"";return cu(e,s)},eu.serializeOuter=function(e,t){const s=Object.assign(Object.assign({},au),t);return hu(e,s)};const su=Zc,ru=tu,iu=kh,nu=new Set([su.TAG_NAMES.AREA,su.TAG_NAMES.BASE,su.TAG_NAMES.BASEFONT,su.TAG_NAMES.BGSOUND,su.TAG_NAMES.BR,su.TAG_NAMES.COL,su.TAG_NAMES.EMBED,su.TAG_NAMES.FRAME,su.TAG_NAMES.HR,su.TAG_NAMES.IMG,su.TAG_NAMES.INPUT,su.TAG_NAMES.KEYGEN,su.TAG_NAMES.LINK,su.TAG_NAMES.META,su.TAG_NAMES.PARAM,su.TAG_NAMES.SOURCE,su.TAG_NAMES.TRACK,su.TAG_NAMES.WBR]);function ou(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===su.NS.HTML&&nu.has(t.treeAdapter.getTagName(e))}const au={treeAdapter:iu.defaultTreeAdapter,scriptingEnabled:!0};function cu(e,t){let s="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===su.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===su.NS.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const e of i)s+=hu(e,t);return s}function hu(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const s=t.treeAdapter.getTagName(e);return`<${s}${function(e,{treeAdapter:t}){let s="";for(const r of t.getAttrList(e)){if(s+=" ",r.namespace)switch(r.namespace){case su.NS.XML:s+=`xml:${r.name}`;break;case su.NS.XMLNS:"xmlns"!==r.name&&(s+="xmlns:"),s+=r.name;break;case su.NS.XLINK:s+=`xlink:${r.name}`;break;default:s+=`${r.prefix}:${r.name}`}else s+=r.name;s+=`="${(0,ru.escapeAttribute)(r.value)}"`}return s}(e,t)}>${ou(e,t)?"":`${cu(e,t)}</${s}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:s}=t,r=s.getTextNodeContent(e),i=s.getParentNode(e),n=i&&s.isElementNode(i)&&s.getTagName(i);return n&&s.getNamespaceURI(i)===su.NS.HTML&&(0,su.hasUnescapedText)(n,t.scriptingEnabled)?r:(0,ru.escapeText)(r)}(e,t):t.treeAdapter.isCommentNode(e)?function(e,{treeAdapter:t}){return`\x3c!--${t.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(e,t):""}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0,e.parse=function(e,s){return t.Parser.parse(e,s)},e.parseFragment=function(e,s,r){"string"==typeof e&&(r=s,s=e,e=null);const i=t.Parser.getFragmentParser(e,r);return i.tokenizer.write(s,!0),i.getFragment()};const t=kc;var s=kh;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return s.defaultTreeAdapter}});var r=kc;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=eu;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var n=Bc;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ERR}}),e.foreignContent=Wh,e.html=Zc,e.Token=Yc;var o=wc;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return o.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return o.TokenizerMode}})}(vc);var lu={},uu={},pu={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(t=e.ElementType||(e.ElementType={})),e.isTag=function(e){return e.type===t.Tag||e.type===t.Script||e.type===t.Style},e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(pu);var du,fu={},Tu=c&&c.__extends||(du=function(e,t){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},du(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}du(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),Eu=c&&c.__assign||function(){return Eu=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Eu.apply(this,arguments)};Object.defineProperty(fu,"__esModule",{value:!0}),fu.cloneNode=fu.hasChildren=fu.isDocument=fu.isDirective=fu.isComment=fu.isText=fu.isCDATA=fu.isTag=fu.Element=fu.Document=fu.CDATA=fu.NodeWithChildren=fu.ProcessingInstruction=fu.Comment=fu.Text=fu.DataNode=fu.Node=void 0;var mu=pu,_u=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),wu(this,e)},e}();fu.Node=_u;var Au=function(e){function t(t){var s=e.call(this)||this;return s.data=t,s}return Tu(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(_u);fu.DataNode=Au;var gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=mu.ElementType.Text,t}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Au);fu.Text=gu;var Su=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=mu.ElementType.Comment,t}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Au);fu.Comment=Su;var Iu=function(e){function t(t,s){var r=e.call(this,s)||this;return r.name=t,r.type=mu.ElementType.Directive,r}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Au);fu.ProcessingInstruction=Iu;var Du=function(e){function t(t){var s=e.call(this)||this;return s.children=t,s}return Tu(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(_u);fu.NodeWithChildren=Du;var Ou=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=mu.ElementType.CDATA,t}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Du);fu.CDATA=Ou;var Cu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=mu.ElementType.Root,t}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Du);fu.Document=Cu;var Nu=function(e){function t(t,s,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?mu.ElementType.Script:"style"===t?mu.ElementType.Style:mu.ElementType.Tag);var n=e.call(this,r)||this;return n.name=t,n.attribs=s,n.type=i,n}return Tu(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var s,r;return{name:t,value:e.attribs[t],namespace:null===(s=e["x-attribsNamespace"])||void 0===s?void 0:s[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(Du);function yu(e){return(0,mu.isTag)(e)}function bu(e){return e.type===mu.ElementType.CDATA}function Ru(e){return e.type===mu.ElementType.Text}function Pu(e){return e.type===mu.ElementType.Comment}function vu(e){return e.type===mu.ElementType.Directive}function ku(e){return e.type===mu.ElementType.Root}function wu(e,t){var s;if(void 0===t&&(t=!1),Ru(e))s=new gu(e.data);else if(Pu(e))s=new Su(e.data);else if(yu(e)){var r=t?Lu(e.children):[],i=new Nu(e.name,Eu({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Eu({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Eu({},e["x-attribsPrefix"])),s=i}else if(bu(e)){r=t?Lu(e.children):[];var n=new Ou(r);r.forEach((function(e){return e.parent=n})),s=n}else if(ku(e)){r=t?Lu(e.children):[];var o=new Cu(r);r.forEach((function(e){return e.parent=o})),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),s=o}else{if(!vu(e))throw new Error("Not implemented yet: ".concat(e.type));var a=new Iu(e.name,e.data);null!=e["x-name"]&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),s=a}return s.startIndex=e.startIndex,s.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(s.sourceCodeLocation=e.sourceCodeLocation),s}function Lu(e){for(var t=e.map((function(e){return wu(e,!0)})),s=1;s<t.length;s++)t[s].prev=t[s-1],t[s-1].next=t[s];return t}fu.Element=Nu,fu.isTag=yu,fu.isCDATA=bu,fu.isText=Ru,fu.isComment=Pu,fu.isDirective=vu,fu.isDocument=ku,fu.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},fu.cloneNode=wu,function(e){var t=c&&c.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),s=c&&c.__exportStar||function(e,s){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(s,r)||t(s,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=pu,i=fu;s(fu,e);var n={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function e(e,t,s){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(s=t,t=n),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:n,this.elementCB=null!=s?s:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var s=this.options.xmlMode?r.ElementType.Tag:void 0,n=new i.Element(e,t,void 0,s);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===r.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var s=new i.Text(e);this.addNode(s),this.lastNode=s}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment)this.lastNode.data+=e;else{var t=new i.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new i.Text(""),t=new i.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var s=new i.ProcessingInstruction(e,t);this.addNode(s)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],s=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),s&&(e.prev=s,s.next=e),e.parent=t,this.lastNode=null},e}();e.DomHandler=o,e.default=o}(uu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=void 0,e.serializeDoctypeContent=i;const t=vc,s=uu;function r(e){const t=e.includes('"')?"'":'"';return t+e+t}function i(e,t,s){let i="!DOCTYPE ";return e&&(i+=e),t?i+=` PUBLIC ${r(t)}`:s&&(i+=" SYSTEM"),s&&(i+=` ${r(s)}`),i}e.adapter={isCommentNode:s.isComment,isElementNode:s.isTag,isTextNode:s.isText,createDocument(){const e=new s.Document([]);return e["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment:()=>new s.Document([]),createElement(e,t,r){const i=Object.create(null),n=Object.create(null),o=Object.create(null);for(let e=0;e<r.length;e++){const t=r[e].name;i[t]=r[e].value,n[t]=r[e].namespace,o[t]=r[e].prefix}const a=new s.Element(e,i,[]);return a.namespace=t,a["x-attribsNamespace"]=n,a["x-attribsPrefix"]=o,a},createCommentNode:e=>new s.Comment(e),createTextNode:e=>new s.Text(e),appendChild(e,t){const s=e.children[e.children.length-1];s&&(s.next=t,t.prev=s),e.children.push(t),t.parent=e},insertBefore(e,t,s){const r=e.children.indexOf(s),{prev:i}=s;i&&(i.next=t,t.prev=i),s.prev=t,t.next=s,e.children.splice(r,0,t),t.parent=e},setTemplateContent(t,s){e.adapter.appendChild(t,s)},getTemplateContent:e=>e.children[0],setDocumentType(t,r,n,o){const a=i(r,n,o);let c=t.children.find((e=>(0,s.isDirective)(e)&&"!doctype"===e.name));c?c.data=null!=a?a:null:(c=new s.ProcessingInstruction("!doctype",a),e.adapter.appendChild(t,c)),c["x-name"]=r,c["x-publicId"]=n,c["x-systemId"]=o},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:s,next:r}=e;e.prev=null,e.next=null,s&&(s.next=r),r&&(r.prev=s),e.parent.children.splice(t,1),e.parent=null}},insertText(t,r){const i=t.children[t.children.length-1];i&&(0,s.isText)(i)?i.data+=r:e.adapter.appendChild(t,e.adapter.createTextNode(r))},insertTextBefore(t,r,i){const n=t.children[t.children.indexOf(i)-1];n&&(0,s.isText)(n)?n.data+=r:e.adapter.insertBefore(t,e.adapter.createTextNode(r),i)},adoptAttributes(e,t){for(let s=0;s<t.length;s++){const r=t[s].name;void 0===e.attribs[r]&&(e.attribs[r]=t[s].value,e["x-attribsNamespace"][r]=t[s].namespace,e["x-attribsPrefix"][r]=t[s].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>(0,s.isDirective)(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}}}(lu);var Mu=lu;function Gu(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var xu=Gu(vc),Fu=Gu(Mu);const Bu=(e,t)=>({attributes:{names:[...e.attributes.names,...t.attributes.names],values:[...e.attributes.values,...t.attributes.values]},classes:[...e.classes,...t.classes],ids:[...e.ids,...t.ids],tags:[...e.tags,...t.tags],undetermined:[]}),Uu=e=>{const t={attributes:{names:[],values:[]},classes:[],ids:[],tags:[e.name],undetermined:[]};for(const[s,r]of Object.entries(e.attribs))"class"===s?t.classes.push(...r.split(" ")):"id"===s&&t.ids.push(...r.split(" ")),t.attributes.names.push(s),t.attributes.values.push(...r.split(" "));return Bu(Hu(e),t)},Hu=e=>{let t={attributes:{names:[],values:[]},classes:[],ids:[],tags:[],undetermined:[]};for(const s of e.childNodes){const e=s;switch(e.type){case"tag":t=Bu(t,Uu(e));break;case"root":t=Bu(t,Hu(e))}}return t};var ju=e=>{const t=xu.parse(e,{treeAdapter:Fu.adapter});return Hu(t)};const Yu=h(ju);let Wu;async function zu(e){const{html:t,css:s}=e;Wu||(Wu=new Za);const[r]=await Wu.purge({content:[{raw:t,extension:"html"}],css:[{raw:s}],extractors:[{extensions:["html"],extractor:Yu}]});return r.css||""}export{zu as removeUnusedCss};
